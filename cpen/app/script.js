'serviceWorker'in navigator&&'https:'===location.protocol&&-1===location.href.indexOf('chrome-extension://')&&-1===location.href.indexOf('192.168')&&window.addEventListener('load',function(){navigator.serviceWorker.register('service-worker.js').then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){switch(t.state){case'installed':navigator.serviceWorker.controller?(console.log('New or updated content is available.'),window.alertsService&&window.alertsService.add('New version available. Please refresh the page.')):(console.log('Content is now available offline!'),window.alertsService&&window.alertsService.add('Web Maker is now ready to be used offline.'));break;case'redundant':console.error('The installing service worker became redundant.');}}}}).catch(function(t){console.error('Error during service worker registration:',t)})}),webpackJsonp([5],{0:function(){},1:function(){},IChQ:function(e,t,n){function o(e){var t=i[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error('Cannot find module \''+e+'\'.'))}var i={"./en/messages.js":['qfJO',3],"./es/messages.js":['/MHg',2],"./hi/messages.js":['yQJS',1],"./zh-Hans/messages.js":['2crr',0]};o.keys=function(){return Object.keys(i)},o.id='IChQ',e.exports=o},JkW7:function(e,t,n){'use strict';function o(){var e={},t=new Promise(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,me(e,t)}function i(e,t){var n=e,i=o();return t===fe.HTML?i.resolve({code:n}):t===fe.MARKDOWN?i.resolve(window.marked?{code:marked(n)}:{code:n}):t===fe.JADE&&i.resolve(window.jade?{code:jade.render(n)}:{code:n}),i.promise}function s(e,t,n){var i=e,s=o(),a;if(t===ge.CSS)s.resolve({code:i});else if(t===ge.SCSS||t===ge.SASS)window.sass&&i?window.sass.compile(i,{indentedSyntax:t===ge.SASS},function(e){e.line&&e.message&&(a={lang:'css',data:[{lineNumber:e.line-1,message:e.message}]}),s.resolve({code:e.text,errors:a})}):s.resolve({code:i});else if(t===ge.LESS)less.render(i).then(function(e){s.resolve({code:e.css})},function(e){a={lang:'css',data:[{lineNumber:e.line,message:e.message}]},s.resolve({code:'',errors:a})});else if(t===ge.STYLUS)stylus(i).render(function(e,t){if(e){window.err=e;var n=e.message.split('\n');n.pop(),a={lang:'css',data:[{lineNumber:+e.message.match(/stylus:(\d+):/)[1]-298,message:n.pop()}]}}s.resolve({code:t,errors:a})});else if(t===ge.ACSS)if(!window.atomizer)s.resolve({code:''});else{const e=atomizer.findClassNames(i);var r;try{r=atomizer.getConfig(e,JSON.parse(n.acssConfig))}catch(t){r=atomizer.getConfig(e,{})}const t=atomizer.getCss(r);s.resolve({code:t})}return s.promise}function a(e,t,n,i){var s=e,a=o(),r;if(!s)return a.resolve(''),a.promise;if(t===be.JS)try{Ce.parse(s,{tolerant:!0})}catch(t){r={lang:'js',data:[{lineNumber:t.lineNumber-1,message:t.description}]}}finally{!1!==n&&(s=r?s:C(s,{timeout:i})),a.resolve({code:s,errors:r})}else if(t===be.COFFEESCRIPT){if(!window.CoffeeScript)return a.resolve(''),a.promise;try{s=CoffeeScript.compile(s,{bare:!0})}catch(t){r={lang:'js',data:[{lineNumber:t.location.first_line,message:t.message}]}}finally{!1!==n&&(s=r?s:C(s,{timeout:i})),a.resolve({code:s,errors:r})}}else if(t===be.ES6){if(!window.Babel)return a.resolve(''),a.promise;try{Ce.parse(s,{tolerant:!0,jsx:!0})}catch(t){r={lang:'js',data:[{lineNumber:t.lineNumber-1,message:t.description}]}}finally{s=Babel.transform(s,{presets:['latest','stage-2','react']}).code,!1!==n&&(s=r?s:C(s,{timeout:i})),a.resolve({code:s,errors:r})}}else if(t===be.TS)try{if(!window.ts)return a.resolve({code:''}),a.promise;s=ts.transpileModule(s,{reportDiagnostics:!0,compilerOptions:{noEmitOnError:!0,diagnostics:!0,module:ts.ModuleKind.ES2015}}),s.diagnostics.length&&(r={lang:'js',data:[{message:s.diagnostics[0].messageText,lineNumber:ts.getLineOfLocalPosition(s.diagnostics[0].file,s.diagnostics[0].start)-1}]}),s=s.outputText,!1===n||r||(s=C(s,{timeout:i})),a.resolve({code:s,errors:r})}catch(t){}return a.promise}function r(e){const t=e.match(/\.(\w+)$/);return t?t[1]:''}function l(e){function t(e){return e.reduce((e,n)=>n.isFolder?[...e,...t(n.children)]:[...e,n],[])}return t(e)}function c(e,t=''){return e.forEach((e)=>{e.path=t?`${t}/${e.name}`:e.name,e.isFolder&&c(e.children,t?`${t}/${e.name}`:e.name)}),e}function d(e,t){const n=e.findIndex((e)=>e.name===t);return{index:n,file:e[n]}}function h(e,t){let n=e;const o=t.split('/');for(;1<o.length;){const e=o.shift();n=d(n,e).file.children}return d(n,o[0])}function p(e,t){let n=e;const o=t.split('/');for(;1<o.length;){const e=o.shift();n=d(n,e).file.children}const{index:i}=d(n,o[0]);n.splice(i,1)}function u(e,t){const n=d(e.children,t);return!!n.file}function m(e){const t=e.split('/');return 1<t.length?t.slice(0,-1).join('/'):''}function f(e){function t(e){return fetch(`https://api.github.com/repos/${o}/contents/${e}${s}`).then((e)=>e.json())}function n(e,i){return fetch(`https://api.github.com/repos/${o}/contents/${e}${s}`).then((e)=>e.json()).then((e)=>e?Promise.all(e.map((e)=>{if('file'===e.type)return t(`${e.path}`).then((t)=>{i.push({name:e.name,content:atob(t.content)})});if('dir'===e.type){const t={name:e.name,children:[],isFolder:!0};return i.push(t),n(`${e.path}`,t.children)}return Promise.resolve()})):Promise.resolve([]))}let o,i;o=(i=e.match(/github\.com\/([^/]*\/[^/]*)/))?i[1]:'chinchang/github';const s='',a=[];return n('',a).then(()=>a)}function g(e,t){for(var n=e.split('.'),o=t.split('.'),s=0;3>s;s++){var i=+n[s],a=+o[s];if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}function b(e){for(var t='',n=e||10;n--;)t+=Se[~~(Math.random()*Se.length)];return t}function v(){if(window.DEBUG){const e=new Error;console.log(parseInt(Date.now().toString().substr(4),10),...arguments,e.stack.split('\n')[2].replace(/\(.*\)/,''))}}function C(e,{timeout:t}){var n=1,o=[],i='_wmloopvar',s=`\nif (Date.now() - %d > ${t}) { window.top.previewException(new Error("Infinite loop")); break;}\n`;return ye.parse(e,{tolerant:!0,range:!0,jsx:!0},function(e){switch(e.type){case'DoWhileStatement':case'ForStatement':case'ForInStatement':case'ForOfStatement':case'WhileStatement':var t=1+e.body.range[0],a=e.body.range[1],r=s.replace('%d',i+n),l='';'BlockStatement'!==e.body.type&&(r='{'+r,l='}',--t),o.push({pos:t,str:r}),o.push({pos:a,str:l}),o.push({pos:e.range[0],str:'var %d = Date.now();\n'.replace('%d',i+n)}),++n;break;default:}}),o.sort(function(e,t){return t.pos-e.pos}).forEach(function(t){e=e.slice(0,t.pos)+t.str+e.slice(t.pos)}),e}function y(e){var t=new Date(e),n=t.getDate()+' '+['January','February','March','April','May','June','July','August','September','October','November','December'][t.getMonth()]+' '+t.getFullYear();return n}function w(e,t){(function(){var n=document.createElement('a');n.href=window.URL.createObjectURL(t),n.download=e,n.style.display='none',document.body.appendChild(n),n.click(),n.remove()})()}function S(e,t,n){function o(e){return function(){v(arguments),A('fn','error',e),S.errorCount=(S.errorCount||0)+1,4===S.errorCount&&setTimeout(function(){alert('Oops! Seems like your preview isn\'t updating. It\'s recommended to switch to the web app: https://webmaker.app/app/.\n\n If you still want to get the extension working, please try the following steps until it fixes:\n - Refresh Web Maker\n - Restart browser\n - Update browser\n - Reinstall Web Maker (don\'t forget to export all your creations from saved items pane (click the OPEN button) before reinstalling)\n\nIf nothing works, please tweet out to @webmakerApp.'),A('ui','writeFileMessageSeen')},1e3)}}var i=!1;window.webkitRequestFileSystem(window.TEMPORARY,5242880,function(s){s.root.getFile(e,{create:!0},function(e){e.createWriter((e)=>{e.onwriteend=function(){return i?n():(i=!0,e.seek(0),e.write(t),!1)},e.truncate(0)},o('createWriterFail'))},o('getFileFail'))},o('webkitRequestFileSystemFail'))}function k(e){var t=o(),n=window.document.getElementsByTagName('script')[0],i=window.document.createElement('script');return i.src=e,i.async=!0,n.parentNode.insertBefore(i,n),i.onload=function(){t.resolve()},t.promise}function M({url:e,id:t}){var n=o(),i=window.document.createElement('link');return i.setAttribute('href',e),i.setAttribute('rel','stylesheet'),t&&i.setAttribute('id',t),document.head.appendChild(i),i.onload=function(){n.resolve()},n.promise}function x(e,t,n,o,i){if(!o)return'';var s='',a='';o.externalLibs&&(s=o.externalLibs.js.split('\n').reduce(function(e,t){return e+(t?'\n<script src="'+t+'"></script>':'')},''),a=o.externalLibs.css.split('\n').reduce(function(e,t){return e+(t?'\n<link rel="stylesheet" href="'+t+'"></link>':'')},''));var r='<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8" />\n'+a+'\n<style id="webmakerstyle">\n'+t+'\n</style>\n</head>\n<body>\n'+e+'\n'+s+'\n';if(i||(r+='<script src="'+(chrome.extension?chrome.extension.getURL('lib/screenlog.js'):`${location.origin}${window.DEBUG?'':we}/lib/screenlog.js`)+'"></script>'),o.jsMode===be.ES6&&(r+='<script src="'+(chrome.extension?chrome.extension.getURL('lib/transpilers/babel-polyfill.min.js'):`${location.origin}${we}/lib/transpilers/babel-polyfill.min.js`)+'"></script>'),'string'==typeof n)r+='<script>\n'+n+'\n//# sourceURL=userscript.js';else{var l=chrome.i18n.getMessage()?`chrome-extension://${chrome.i18n.getMessage('@@extension_id')}`:`${location.origin}`;r+='<script src="'+`filesystem:${l}/temporary/script.js`+'">'}return r+='\n</script>\n</body>\n</html>',r}function H(e){var t=i(e.html,e.htmlMode),n=s(e.css,e.cssMode),o=a(e.js,e.jsMode,!1);Promise.all([t,n,o]).then((t)=>{var n=t[0].code,o=t[1].code,i=t[2].code,s=x(n,o,i,e,!0),a=new Date,r=['web-maker',a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()].join('-');e.title&&(r=e.title),r+='.html';var l=new Blob([s],{type:'text/html;charset=UTF-8'});w(r,l),A('fn','saveFileComplete')})}function L(){var e=o();return window.IS_EXTENSION?(chrome.permissions.contains({permissions:['downloads']},function(t){t?e.resolve():chrome.permissions.request({permissions:['downloads']},function(t){t?(A('fn','downloadsPermGiven'),e.resolve()):e.reject()})}),e.promise):(e.resolve(),e.promise)}function _(e){return e?e.match(/\/([^/]*)$/)[1]:''}function I({file:e,content:t,type:n}){const i=o();e&&(n=r(e.name),t=e.content);const s=new Worker(chrome.extension?chrome.extension.getURL('lib/prettier-worker.js'):`${'/'==we?'':we}/lib/prettier-worker.js`);return s.postMessage({content:t,type:n}),s.addEventListener('message',(t)=>{i.resolve(t.data),s.terminate()}),i.promise}function A(e,t,n,o){return window.DEBUG?void v('trackevent',e,t,n,o):void(window.ga&&ga('send','event',e,t,n,o))}function j(e,t){var n={};for(var o in e)0<=t.indexOf(o)||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function B(e){return Object(pe.h)(Me,ke({Tag:'button'},e))}function E(e){return Object(pe.h)('input',ke({ref:(e)=>e&&setTimeout(()=>e.focus(),100)},e))}function T(e){return Object(pe.h)('div',{class:`divider ${e.vertical?'divider--vertical':''}`})}function O(e){return Object(pe.h)(He.I18n,null,({i18n:t})=>Object(pe.h)('div',{class:'main-header'},Object(pe.h)('input',{type:'text',id:'titleInput',title:'Click to edit',class:'item-title-input',value:e.title,onBlur:e.titleInputBlurHandler}),Object(pe.h)('div',{class:'main-header__btn-wrap  flex  flex-v-center'},Object(pe.h)('button',{id:'runBtn',class:'hide btn btn btn--dark flex flex-v-center hint--rounded hint--bottom-left',"aria-label":'Run preview (Ctrl/\u2318 + Shift + 5)',onClick:e.runBtnClickHandler},Ie,Ae),!this.props.isFileMode&&Object(pe.h)(B,{onClick:e.addLibraryBtnHandler,"data-event-category":'ui',"data-event-action":'addLibraryButtonClick',class:'btn btn--dark hint--rounded hint--bottom-left',"aria-label":t._({id:'Add a JS/CSS library'})},je,' ',Object(pe.h)('span',{id:'js-external-lib-count',style:`display:${e.externalLibCount?'inline':'none'}`,class:'count-label'},e.externalLibCount)),Object(pe.h)('button',{class:'btn btn--dark hint--rounded hint--bottom-left',"aria-label":'Start a new creation',onClick:e.newBtnHandler},Be,Ee),Object(pe.h)('button',{id:'saveBtn',class:`btn btn--dark hint--rounded hint--bottom-left ${e.isSaving?'is-loading':''} ${e.unsavedEditCount?'is-marked':0}`,"aria-label":'Save current creation (Ctrl/\u2318 + S)',onClick:e.saveBtnHandler},Te,Oe,Fe),Object(pe.h)('button',{id:'openItemsBtn',class:`btn btn--dark hint--rounded hint--bottom-left ${e.isFetchingItems?'is-loading':''}`,"aria-label":'Open a saved creation (Ctrl/\u2318 + O)',onClick:e.openBtnHandler},Ve,Pe,De),Object(pe.h)(B,{onClick:e.loginBtnHandler,"data-event-category":'ui',"data-event-action":'loginButtonClick',class:'hide-on-login btn btn--dark hint--rounded  hint--bottom-left',"aria-label":'Login/Signup'},Ne,'/',Re),Object(pe.h)(B,{onClick:e.profileBtnHandler,"data-event-category":'ui',"data-event-action":'headerAvatarClick',"aria-label":'See profile or Logout',class:'hide-on-logout btn--dark hint--rounded  hint--bottom-left'},Object(pe.h)('img',{id:'headerAvatarImg',width:'20',src:e.user?e.user.photoURL||_e:'',class:'main-header__avatar-img'})))))}function F(e,t){var n=t;return function(){0==--n&&e()}}function V(e,t){var n=ze.a.modes[e].dependencies;if(!n)return t();for(var o=[],s=0;s<n.length;++s)ze.a.modes.hasOwnProperty(n[s])||o.push(n[s]);if(!o.length)return t();var i=F(t,o.length);for(s=0;s<o.length;++s)ze.a.requireMode(o[s],i)}function P(e,t){var n={};for(var o in e)0<=t.indexOf(o)||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function D({file:e}){if(!e)return null;let t;if(e.isFolder)t=e.children.length?e.isCollapsed?Jn:Gn:Kn;else{const n=r(e.name);switch(n){case'html':t=qn;break;case'js':t=Zn;break;case'ts':path:;break;case'css':case'less':t=Xn;break;case'scss':case'sass':t=Qn;break;case'md':case'markdown':t=$n;break;case'jpg':case'jpeg':case'svg':case'png':t=eo;break;case'json':t=to;break;default:t=no;}}return Object(pe.h)('svg',{class:'sidebar__file-icon',viewBox:'0 0 24 24'},t)}function N({file:t,selectedFile:e,fileBeingRenamed:n,onFileSelect:o,onRenameBtnClick:i,onRemoveBtnClick:s,onNameInputBlur:a,onNameInputKeyUp:r,onFileDrop:l}){return Object(pe.h)('div',{onDragOver:function(n){t.isFolder&&(n.preventDefault(),n.currentTarget.classList.add('is-being-dragged-over'),n.currentTarget.style.outline='1px dashed')},onDragLeave:function(n){t.isFolder&&(n.preventDefault(),n.currentTarget.style.outline=null)},onDrop:function(n){n.stopPropagation(),t.isFolder&&(n.preventDefault(),l(n.dataTransfer.getData('text/plain'),t),n.currentTarget.style.outline=null)}},t===n?Object(pe.h)('input',{type:'text',ref:function(e){e&&setTimeout(()=>{e.focus()},1)},value:t.name,onBlur:a,onKeyUp:r}):Object(pe.h)('button',{class:`sidebar__file  ${e===t?'selected':''}`,type:'button',draggable:'index.html'!==t.name,onDragStart:function(n){n.dataTransfer.setData('text/plain',t.path)},onClick:o.bind(null,t)},Object(pe.h)('div',{class:'flex flex-v-center ov-h'},Object(pe.h)(D,{file:t}),Object(pe.h)('div',{class:'sidebar__file-name'},t.name)),Object(pe.h)('div',{class:'sidebar__file-options'},Object(pe.h)('button',{type:'button',class:'btn btn--dark btn--chromeless',onClick:i.bind(null,t)},ao),Object(pe.h)('button',{type:'button',class:'btn btn--dark btn--chromeless',onClick:s.bind(null,t)},ro))))}function R(e){return Object(pe.h)('div',null,Object(pe.h)(N,oo({},e,{file:e.file})),Object(pe.h)('div',{class:'sidebar__folder-wrap',"data-collapsed":e.file.isCollapsed},e.file.children.map((t)=>t.isFolder?Object(pe.h)(R,oo({},e,{file:t})):Object(pe.h)(N,oo({},e,{file:t})))))}function W({item:e,onClick:t,onForkBtnClick:n,onRemoveBtnClick:o,focusable:i,inline:s}){return Object(pe.h)('div',{role:i?'button':null,tabindex:i?0:null,class:`js-saved-item-tile saved-item-tile ${s?'saved-item-tile--inline':''}`,"data-item-id":e.id,onClick:t},Object(pe.h)('div',{class:'saved-item-tile__btns'},n?Object(pe.h)('a',{class:'js-saved-item-tile__fork-btn  saved-item-tile__btn hint--left hint--medium',"aria-label":'Creates a duplicate of this creation (Ctrl/\u2318 + F)',onClick:n},'Fork',ti):null,o?Object(pe.h)('a',{class:'js-saved-item-tile__remove-btn  saved-item-tile__btn hint--left',"aria-label":'Remove',onClick:o},'X'):null),Object(pe.h)('div',{className:'flex flex-v-center'},e.img?Object(pe.h)('div',null,Object(pe.h)('img',{class:'saved-item-tile__img',height:'40',src:e.img,alt:''})):null,Object(pe.h)('h3',{class:'saved-item-tile__title'},e.title),e.files?ni:null),e.updatedOn?Object(pe.h)('div',{class:'saved-item-tile__meta'},'Last updated:',' ',Object(pe.h)('time',{dateTime:e.updatedOn},y(e.updatedOn))):null)}function z(e,t){var n={};for(var o in e)0<=t.indexOf(o)||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function U({type:e,label:t,children:n}){var o;return'bug'===e?o=Object(pe.h)('strong',null,'\uD83D\uDD27 ',t||'Bugfix'):'a11y'===e?o=Object(pe.h)('strong',null,'\u267F\uFE0F ',t||'Accessibility'):'ui'===e&&(o=Object(pe.h)('strong',null,'\uD83D\uDDA5 ',t||'Interface')),Object(pe.h)('li',null,o,': ',n)}function K({name:e,url:t}){return Object(pe.h)('a',{href:t,target:'_blank',rel:'noopener noreferrer'},' ',e)}function J(e){let{version:t,isLatest:n}=e,o=z(e,['version','isLatest']);return Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},t),Object(pe.h)('ul',null,o.children),n?Object(pe.h)('div',{class:'mt-2'},Ai,ji,Object(pe.h)('p',null,'Web Maker now has more than 50K weekly active users! Thank you for being a part of this community of awesome developers. If you find Web Maker helpful,',' ',Bi,'\xA0',Ei,'\xA0',Object(pe.h)(B,{"aria-label":'Support the developer',onClick:o.onSupportBtnClick,"data-event-action":'supportDeveloperChangelogBtnClick',"data-event-category":'ui',class:'btn btn-icon'},'Support the developer'))):null)}function G(e){return Object(pe.h)('div',null,Ti,Object(pe.h)(J,Ii({version:'4.0.3'},e,{isLatest:!0}),Oi),Object(pe.h)(J,Ii({version:'4.0.2'},e),Fi,Vi),Object(pe.h)(J,Ii({version:'4.0.1'},e),Pi,Di,Ni,Ri,Wi,zi),Object(pe.h)(J,Ii({version:'4.0.0'},e),Ui,Ki),Object(pe.h)(J,Ii({version:'3.6.2'},e),Ji),Object(pe.h)(J,Ii({version:'3.6.1'},e),Gi),Object(pe.h)(J,Ii({version:'3.6.0'},e),qi,Zi,Yi,Xi),Object(pe.h)(J,Ii({version:'3.5.1'},e),Qi),Object(pe.h)(J,Ii({version:'3.5.0'},e),$i,es),Object(pe.h)(J,Ii({version:'3.4.2'},e),ns,os,is,ss,as),Object(pe.h)(J,Ii({version:'3.4.1'},e),rs,ls,ds,cs),Object(pe.h)(J,Ii({version:'3.4.0'},e),hs,ps,us,ms,fs),Object(pe.h)(J,Ii({version:'3.3.2'},e),gs,bs,vs,Cs),Object(pe.h)(J,Ii({version:'3.3.0'},e),ys,ws),Object(pe.h)(J,Ii({version:'3.2.0'},e),Ss,ks,Ms,xs,Hs),Object(pe.h)(J,Ii({version:'3.1.1'},e),Ls),Object(pe.h)(J,Ii({version:'3.1.0'},e),_s),Object(pe.h)(J,Ii({version:'3.0.4'},e),Is,As),Object(pe.h)(J,Ii({version:'3.0.3'},e),js),Bs,Es,Ts,Os,Fs,Vs,Ps,Ds,Ns,Rs,Ws,zs,Us,Ks,Js,Gs,qs,Zs,Ys,Xs,Qs,$s,ea,ta,na,oa,ia)}function q({checked:e,onChange:t,labels:i=[],children:n,showBothLabels:o}){return Object(pe.h)('label',{class:'check-switch'},Object(pe.h)('input',{role:'switch',type:'checkbox',checked:e,onChange:t}),Object(pe.h)('div',{class:'check-switch__toggle-wrap'},Object(pe.h)('span',{"aria-hidden":'true',class:'check-switch__status',style:`visibility:${e&&!o?'hidden':'visible'}`},i[0]||'Off'),aa,Object(pe.h)('span',{"aria-hidden":'true',class:'check-switch__status',style:`visibility:${e||o?'visible':'hidden'}`},i[1]||'On')),n)}function Z(e){return e.replace?e.replace(/\s/g,'-'):''}function Y({label:e}){return Object(pe.h)('div',{class:'tabs__tabpanel',role:'tabpanel',id:`${ra}${Z(e)}`},this.props.children)}function X({label:e,isSelected:t,onKeyUp:n,onClick:o}){return Object(pe.h)('button',{class:`tabs__tab ${t?'tabs__tab--selected':''}`,role:'tab',tabindex:t?null:-1,"aria-selected":`${t}`,"aria-controls":`${ra}${Z(e)}`,onKeyUp:n,onClick:o},e)}function Q({label:e,onChange:t,pref:n}){return Object(pe.h)(q,{checked:n,onChange:t},e)}function ee({children:e}){return Object(pe.h)('p',{class:'help-text'},e)}function te({user:e,logoutBtnHandler:t}){return Object(pe.h)('div',{class:'tac'},Object(pe.h)('img',{height:'80',class:'profile-modal__avatar-img',src:e?e.photoURL||lr:'',id:'profileAvatarImg',alt:'Profile image'}),Object(pe.h)('h3',{id:'profileUserName',class:'mb-2'},e&&e.displayName?e.displayName:'Anonymous Creator'),Object(pe.h)('p',null,Object(pe.h)('button',{class:'btn',"aria-label":'Logout from your account',onClick:t},'Logout')))}function ne({show:e,closeHandler:t}){return Object(pe.h)(mn,{extraClasses:'pledge-modal',show:e,closeHandler:t},dr)}function oe({show:e,closeHandler:t}){return Object(pe.h)(mn,{show:e,closeHandler:t},cr,Object(pe.h)('div',{class:'flex'},Object(pe.h)('div',null,hr,pr,ur,mr,fr,gr),br))}function ie(e){function t(){var e='filesystem:chrome-extension://'+chrome.i18n.getMessage('@@extension_id')+'/temporary/'+d;return window.open(e)}function n(t){v(t)}for(var o=atob(e.split(',')[1]),s=e.split(',')[0].split(':')[1].split(';')[0],a=new ArrayBuffer(o.length),r=new Uint8Array(a),l=0;l<o.length;l++)r[l]=o.charCodeAt(l);var i=new Blob([a],{type:s}),c=i.size+512,h=new Date,d=['web-maker-screenshot',h.getFullYear(),h.getMonth()+1,h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds()].join('-');d+='.png',window.webkitRequestFileSystem(window.TEMPORARY,c,(e)=>{e.root.getFile(d,{create:!0},(e)=>{e.createWriter((e)=>{e.onwriteend=t,e.write(i)},n)},n)},n)}function se(e){L().then(()=>{function t(n){var o=document.createElement('canvas'),i=e;o.width=i.width,o.height=i.height;var s=o.getContext('2d'),a=window.devicePixelRatio||1;s.drawImage(n,i.left*a,i.top*a,i.width*a,i.height*a,0,0,i.width,i.height),n.removeEventListener('load',t),ie(o.toDataURL())}var n=document.createElement('style');n.textContent='[class*="hint"]:after, [class*="hint"]:before { display: none!important; }',document.body.appendChild(n),setTimeout(()=>{chrome.tabs.captureVisibleTab(null,{format:'png',quality:100},function(e){if(n.remove(),e){var o=new Image;o.src=e,o.addEventListener('load',()=>t(o,e))}})},50),A('ui','takeScreenshotBtnClick')})}function ae({show:e,closeHandler:t,oldSavedCreationsCount:n,dontAskBtnClickHandler:o,importBtnClickHandler:i}){return Object(pe.h)(mn,{extraClasses:'ask-to-import-modal',show:e,closeHandler:t},vr,Object(pe.h)('div',null,Object(pe.h)('p',null,'You have ',Object(pe.h)('span',null,n),' creations saved in your local machine. Do you want to import those creations in your account so they are more secure and accessible anywhere?'),Cr,Object(pe.h)('div',{class:'flex flex-h-end'},Object(pe.h)('button',{onClick:o,class:'btn'},'Don\'t ask me again'),Object(pe.h)('button',{onClick:i,class:'btn btn--primary ml-1'},'Yes, please import'))))}function re(e){return Object(pe.h)(mn,{show:e.show,closeHandler:e.closeHandler},Object(pe.h)('h1',null,Sr,Object(pe.h)('small',{style:'font-size:14px;'},e.version)),Object(pe.h)('div',null,kr,Mr,xr,Hr,Object(pe.h)('p',null,Object(pe.h)(B,{"aria-label":'Support the developer',onClick:e.onSupportBtnClick,"data-event-action":'supportDeveloperHelpBtnClick',"data-event-category":'ui',class:'btn btn-icon'},Lr,'Support the developer'),' ',_r,' ',Ir,' ',Ar),jr,Br))}function le(e){return Object(pe.h)(mn,{show:e.show,closeHandler:e.closeHandler},Er,Tr,Or,Object(pe.h)('p',{class:'tac'},Object(pe.h)('button',{class:'btn btn--primary',onClick:e.closeHandler},'Lets start!')))}function de({show:e,closeHandler:t}){return Object(pe.h)(mn,{show:e,closeHandler:t,small:!0},Fr,Vr)}function ce(e){const t=e.split('/');return 1<t.length?(--t.length,t.join('/')):''}function he({item:e,onClick:t,isSelected:n}){return Object(pe.h)('li',null,Object(pe.h)('button',{class:`command-palette__option-row ${n?'command-palette__option-row--selected':''}`,onClick:t},Object(pe.h)('div',{class:'d-f ai-c'},e.path?Object(pe.h)(D,{file:e}):null,e.name,e.path?Object(pe.h)('span',{class:'command-palette__option-subtitle'},ce(e.path)):null),Object(pe.h)('div',null,Object(pe.h)('span',{class:'command-palette__option-subtitle'},e.keyboardShortcut?e.keyboardShortcut:''))))}Object.defineProperty(t,'__esModule',{value:!0});var pe=n('KM04'),ue=n.n(pe),me=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e};const fe={HTML:'html',MARKDOWN:'markdown',JADE:'jade'},ge={CSS:'css',SCSS:'scss',SASS:'sass',LESS:'less',STYLUS:'stylus',ACSS:'acss'},be={JS:'js',ES6:'es6',COFFEESCRIPT:'coffee',TS:'typescript'},ve={};ve[fe.HTML]={label:'HTML',cmMode:'htmlmixed',codepenVal:'none'},ve[fe.MARKDOWN]={label:'Markdown',cmMode:'markdown',codepenVal:'markdown'},ve[fe.JADE]={label:'Pug',cmMode:'pug',codepenVal:'pug'},ve[be.JS]={label:'JS',cmMode:'javascript',codepenVal:'none'},ve[be.COFFEESCRIPT]={label:'CoffeeScript',cmMode:'coffeescript',codepenVal:'coffeescript'},ve[be.ES6]={label:'ES6 (Babel)',cmMode:'jsx',codepenVal:'babel'},ve[be.TS]={label:'TypeScript',cmPath:'jsx',cmMode:'text/typescript-jsx',codepenVal:'typescript'},ve[ge.CSS]={label:'CSS',cmPath:'css',cmMode:'css',codepenVal:'none'},ve[ge.SCSS]={label:'SCSS',cmPath:'css',cmMode:'text/x-scss',codepenVal:'scss'},ve[ge.SASS]={label:'SASS',cmMode:'sass',codepenVal:'sass'},ve[ge.LESS]={label:'LESS',cmPath:'css',cmMode:'text/x-less',codepenVal:'less'},ve[ge.STYLUS]={label:'Stylus',cmMode:'stylus',codepenVal:'stylus'},ve[ge.ACSS]={label:'Atomic CSS',cmPath:'css',cmMode:'css',codepenVal:'notsupported',cmDisable:!0,hasSettings:!0};const Ce=n('4E2n'),ye=n('4E2n');window.DEBUG=-1<document.cookie.indexOf('wmdebug'),window.$=document.querySelector.bind(document),window.chrome=window.chrome||{},window.chrome.i18n={getMessage:()=>{}},window.$all=(e)=>[...document.querySelectorAll(e)],window.IS_EXTENSION=!!window.chrome.extension;const we=window.chrome.extension||window.DEBUG||!1?'/':'/app';var Se='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';Node.prototype.nextUntil=function(e){const t=Array.from(this.parentNode.querySelectorAll(e)),n=t.indexOf(this);return t[n+1]},Node.prototype.previousUntil=function(e){const t=Array.from(this.parentNode.querySelectorAll(e)),n=t.indexOf(this);return t[n-1]},window.requestIdleCallback=window.requestIdleCallback||function(e){setTimeout(e,10)},window.IS_EXTENSION?document.body.classList.add('is-extension'):document.body.classList.add('is-app'),navigator.onLine&&!window.DEBUG&&setTimeout(function(){(function(e,t,n,o,i,s,a){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,s=t.createElement(n),a=t.getElementsByTagName(n)[0],s.async=1,s.src=o,a.parentNode.insertBefore(s,a)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),-1===location.href.indexOf('chrome-extension://')?ga('create','UA-87786708-2'):(ga('create','UA-87786708-2',{cookieDomain:'none'}),ga('set','checkProtocolTask',function(){})),ga('send','pageview')},100);var ke=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e};let Me=class extends pe.Component{handleClick(t){const e=t.currentTarget;A(e.getAttribute('data-event-category'),e.getAttribute('data-event-action')),this.props.onClick(t)}render(){const e=this.props,{onClick:t,Tag:n}=e,o=j(e,['onClick','Tag']);return Object(pe.h)(n,ke({onClick:this.handleClick.bind(this)},o))}};var xe=Object(pe.h)('span',{class:'beta-tag'},'Beta'),He=n('L5wL'),Le=n.n(He);const _e='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 24 24\'%3E%3Cpath fill=\'%23ccc\' d=\'M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z\'/%3E%3C/svg%3E';var Ie=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#play-icon'})),Ae=Object(pe.h)(He.Trans,{id:'Run'}),je=Object(pe.h)(He.Trans,{id:'Add library'}),Be=Object(pe.h)('svg',{viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z'})),Ee=Object(pe.h)(He.Trans,{id:'New'}),Te=Object(pe.h)('svg',{viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z'})),Oe=Object(pe.h)('svg',{class:'btn-loader',width:'15',height:'15',stroke:'#fff'},Object(pe.h)('use',{xlinkHref:'#loader-icon'})),Fe=Object(pe.h)(He.Trans,{id:'Save'}),Ve=Object(pe.h)('svg',{viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z'})),Pe=Object(pe.h)('svg',{class:'btn-loader',width:'15',height:'15',stroke:'#fff'},Object(pe.h)('use',{xlinkHref:'#loader-icon'})),De=Object(pe.h)(He.Trans,{id:'Open'}),Ne=Object(pe.h)(He.Trans,{id:'Login'}),Re=Object(pe.h)(He.Trans,{id:'Signup'}),We=n('tQq4'),ze=n.n(We);window.CodeMirror=ze.a,ze.a.modeURL||(ze.a.modeURL='lib/codemirror/mode/%N/%N.js');var Ue={};ze.a.requireMode=function(e,t){if('string'!=typeof e&&(e=e.name),ze.a.modes.hasOwnProperty(e))return V(e,t);if(Ue.hasOwnProperty(e))return Ue[e].push(t);var n=ze.a.modeURL.replace(/%N/g,e),o=document.createElement('script');o.src=n;var i=document.getElementsByTagName('script')[0],s=Ue[e]=[t];ze.a.on(o,'load',function(){V(e,function(){for(var e=0;e<s.length;++e)s[e]()})}),i.parentNode.insertBefore(o,i)},ze.a.autoLoadMode=function(e,t){ze.a.modes.hasOwnProperty(t)||ze.a.requireMode(t,function(){e.setOption('mode',e.getOption('mode'))})};var Ke=ze.a,Je=n('uQIK'),Ge=n.n(Je),qe=n('xdvC'),Ze=n.n(qe),Ye=n('pTe4'),Xe=n.n(Ye),Qe=n('BVSg'),$e=n.n(Qe),et=n('X7my'),tt=n.n(et),nt=n('H+g/'),ot=n.n(nt),it=n('tMLt'),st=n.n(it),at=n('1JcR'),rt=n.n(at),lt=n('5gBI'),dt=n.n(lt),ct=n('bU21'),ht=n.n(ct),pt=n('zs1I'),ut=n.n(pt),mt=n('rbVD'),ft=n.n(mt),gt=n('6r0S'),bt=n.n(gt),vt=n('LiPu'),Ct=n.n(vt),yt=n('IYZm'),wt=n.n(yt),St=n('SUmx'),kt=n.n(St),Mt=n('gPKv'),xt=n.n(Mt),Ht=n('29F7'),Lt=n.n(Ht),_t=n('Jo/m'),It=n.n(_t),At=n('4e7A'),jt=n.n(At),Bt=n('ew/s'),Et=n.n(Bt),Tt=n('HeB0'),Ot=n.n(Tt),Ft=n('ggoL'),Vt=n.n(Ft),Pt=n('qqFR'),Dt=n.n(Pt),Nt=n('AIXc'),Rt=n.n(Nt),Wt=n('Xc2M'),zt=n.n(Wt),Ut=n('yLr7'),Kt=n.n(Ut),Jt=n('AhD2'),Gt=n.n(Jt),qt=n('/QFk'),Zt=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e};Object(qt.a)(Ke);let Yt;window.MonacoEnvironment={getWorkerUrl(e,t){return'html'===t?'lib/monaco/workers/html.worker.bundle.js':'json'===t?'lib/monaco/workers/json.worker.bundle.js':'css'===t||'scss'===t||'less'===t?'lib/monaco/workers/css.worker.bundle.js':'typescript'===t||'javascript'===t?'lib/monaco/workers/ts.worker.bundle.js':'lib/monaco/workers/editor.worker.bundle.js'}};let Xt=class extends pe.Component{componentDidMount(){this.initEditor()}shouldComponentUpdate(e){if(e.prefs!==this.props.prefs){const{prefs:t}=e;'monaco'===this.props.type?this.editorReadyDeferred.promise.then(()=>{this.instance.updateOptions({fontSize:t.fontSize})}):(this.instance.setOption('indentWithTabs','spaces'!==t.indentWith),this.instance.setOption('blastCode',!!t.isCodeBlastOn&&{effect:2,shake:!1}),this.instance.setOption('theme',t.editorTheme),this.instance.setOption('indentUnit',+t.indentSize),this.instance.setOption('tabSize',+t.indentSize),this.instance.setOption('keyMap',t.keymap),this.instance.setOption('lineWrapping',t.lineWrap),this.instance.setOption('lineWrapping',t.autoCloseTags),this.instance.refresh())}return e.type!==this.props.type&&(this.node.parentElement.querySelector('.monaco-editor, .CodeMirror')&&this.node.parentElement.querySelector('.monaco-editor, .CodeMirror').remove(),!0)}componentDidUpdate(){this.initEditor()}setModel(e){this.editorReadyDeferred.promise.then(()=>{this.instance.swapDoc?this.instance.swapDoc(e):this.instance.setModel(e)})}setValue(e){'monaco'===this.props.type&&(window.monacoSetValTriggered=!0,setTimeout(()=>{window.monacoSetValTriggered=!1},1)),this.editorReadyDeferred.promise.then(()=>{this.instance.setValue(e)}),this.lastSetValue=e,this.refresh()}getValue(){return this.instance.getValue()}saveViewState(){if('monaco'===this.props.type)return this.instance.saveViewState()}restoreViewState(e){'monaco'===this.props.type&&this.instance.restoreViewState(e)}setOption(e,t){this.editorReadyDeferred.promise.then(()=>{'monaco'===this.props.type?this.instance.updateOptions({[e]:t}):this.instance.setOption(e,t)})}setLanguage(e){this.editorReadyDeferred.promise.then(()=>{'monaco'===this.props.type?monaco.editor.setModelLanguage(this.instance.getModel(),this.getMonacoLanguageFromMode(ve[e].cmMode)):(this.instance.setOption('mode',ve[e].cmMode),Ke.autoLoadMode(this.instance,ve[e].cmPath||ve[e].cmMode))})}clearGutter(e){this.editorReadyDeferred.promise.then(()=>{this.instance.clearGutter&&this.instance.clearGutter(e)})}showErrors(e){'codemirror'===this.props.type&&e.forEach(function(e){this.instance.operation(function(){var t=document.createElement('div');t.setAttribute('data-title',e.message),t.classList.add('gutter-error-marker'),editor.setGutterMarker(e.lineNumber,'error-gutter',t)})})}refresh(){this.editorReadyDeferred.promise.then(()=>{this.instance.refresh?this.instance.refresh():this.instance.layout()})}focus(){this.editorReadyDeferred.promise.then(()=>{this.instance.focus()})}getMonacoLanguageFromMode(e){return['htmlmixed'].includes(e)?'html':['css','sass','scss','less','stylus'].includes(e)?'css':['javascript','text/typescript-jsx','jsx'].includes(e)?'javascript':e}async loadDeps(){return'monaco'===this.props.type?(Yt||(Yt=o(),M({url:'lib/monaco/monaco.css',id:'monaco-css'}),n.e(4).then(n.bind(null,'lbPO')).then(()=>{Yt.resolve()})),Yt.promise):Promise.resolve()}async initEditor(){this.editorReadyDeferred=o(),await this.loadDeps();const{options:e,prefs:t}=this.props;'monaco'===this.props.type?(this.instance=monaco.editor.create(this.node,{language:this.getMonacoLanguageFromMode(e.mode),value:this.lastSetValue||'',roundedSelection:!1,scrollBeyondLastLine:!1,theme:'vs-dark',fontSize:t.fontSize,minimap:{enabled:!1},wordWrap:'on',renderWhitespace:'all',fontLigatures:!0,automaticLayout:!0}),window.monacoInstance=this.instance,this.instance.onDidChangeModelContent((e)=>{this.props.onChange(this.instance,Zt({},e,{origin:window.monacoSetValTriggered?'setValue':'+input'}))}),this.instance.addCommand(monaco.KeyMod.WinCtrl|monaco.KeyMod.Shift|monaco.KeyCode.KEY_F,()=>{e.prettier&&(I({content:this.instance.getValue(),type:e.prettierParser}).then((e)=>this.instance.setValue(e)),A('ui','prettifyKeyboardShortcut'))}),this.editorReadyDeferred.resolve()):(this.instance=Ke.fromTextArea(this.node,{mode:e.mode,value:this.lastSetValue||'',lineNumbers:!0,lineWrapping:!!t.lineWrap,autofocus:e.autofocus||!1,autoCloseBrackets:!0,autoCloseTags:!!t.autoCloseTags,matchBrackets:!0,matchTags:e.matchTags||!1,tabMode:'indent',keyMap:t.keyMap||'sublime',theme:t.editorTheme||'monokai',lint:!!e.lint,tabSize:+t.indentSize||2,indentWithTabs:'spaces'!==t.indentWith,indentUnit:+t.indentSize,foldGutter:!0,styleActiveLine:!0,gutters:e.gutters||[],profile:e.profile||'',extraKeys:{Up:function(e){Ke.commands.goLineUp(e)},Down:function(e){Ke.commands.goLineDown(e)},"Shift-Tab":function(e){Ke.commands.indentAuto(e)},"Shift-Ctrl-F":function(t){e.prettier&&I({content:t.getValue(),type:e.prettierParser}).then((e)=>t.setValue(e)),A('ui','prettifyKeyboardShortcut')},Tab:function(n){if(e.emmet){const e=n.execCommand('emmetExpandAbbreviation');if(!0===e)return;$('[data-setting=indentWith]:checked');n.somethingSelected()||t.indentWith&&'spaces'!==t.indentWith?Ke.commands.defaultTab(n):Ke.commands.insertSoftTab(n)}},Enter:'emmetInsertLineBreak'}}),this.editorReadyDeferred.resolve(),this.instance.on('focus',(e)=>{'function'==typeof this.props.onFocus&&this.props.onFocus(e)}),this.instance.on('change',this.props.onChange),this.instance.addKeyMap({"Ctrl-Space":'autocomplete'}),this.instance.on('inputRead',(e,t)=>{if(!this.props.options.noAutocomplete&&this.props.prefs.autoComplete){if('+input'!==t.origin||';'===t.text[0]||','===t.text[0]||' '===t.text[0])return;Ke.commands.autocomplete(e,null,{completeSingle:!1})}}))}render(){const e='monaco'===this.props.type?Object(pe.h)('div',{ref:(e)=>this.node=e,style:'width:100%;height:100%;'}):Object(pe.h)('textarea',{ref:(e)=>this.node=e});return e}};var Qt=n('mSND'),$t=n.n(Qt),en=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e};let tn=class extends pe.Component{componentDidMount(){this.updateSplit()}componentWillUpdate(){this.splitInstance&&this.splitInstance.destroy()}componentDidUpdate(e){this.hasGutter()&&!this.hasPropsChanged(e,this.props)||this.updateSplit()}componentWillUnmount(){this.splitInstance.destroy(),delete this.splitInstance}hasGutter(){return-1!==[...this.parent.children].indexOf(this.parent.querySelector('.gutter'))}hasPropsChanged(e,t){return e.direction!==t.direction||e.sizes&&t.sizes&&e.sizes.join('')!==t.sizes.join('')}updateSplit(){const e=this.props,{children:t}=e,n=P(e,['children']);n.gutterSize=6,this.splitInstance=$t()([...this.parent.children],n),this.props.onSplit&&this.props.onSplit(this.splitInstance)}render(){const e=this.props,{children:t}=e,n=P(e,['children']);return Object(pe.h)('div',en({ref:(e)=>this.parent=e},n),this.props.children)}};var nn=n('Hxgu'),on=n.n(nn),sn=n('eW0v'),an=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e};let rn=class extends pe.Component{shouldComponentUpdate(){return!1}render(){const e=an({},nn.chromeDark,{OBJECT_VALUE_STRING_COLOR:'green',BASE_FONT_SIZE:'20px',TREENODE_FONT_SIZE:'20px'});return Object(pe.h)(nn.Inspector,{theme:e,theme:'chromeDark',data:this.props.data})}};var ln=Object(pe.h)(He.Trans,{id:'Console'}),dn=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#cancel-icon'})),cn=Object(pe.h)('svg',{width:'18',height:'18',fill:'#346fd2'},Object(pe.h)('use',{xlinkHref:'#chevron-icon'}));let hn=class extends sn.PureComponent{componentDidUpdate(e){this.props.logs!==e.logs&&setTimeout(()=>{this.logContainerEl.scrollTop=this.logContainerEl.scrollHeight},1)}render(){const{logs:e,isConsoleOpen:t,onConsoleHeaderDblClick:n,onClearConsoleBtnClick:o,toggleConsole:i,onEvalInputKeyup:s}=this.props;return Object(pe.h)('div',{id:'consoleEl',class:`console ${t?'':'is-minimized'}`},Object(pe.h)('div',{id:'consoleLogEl',class:'console__log'},Object(pe.h)('div',{class:'js-console__header  code-wrap__header',title:'Double click to toggle console',onDblClick:n},Object(pe.h)('span',{class:'code-wrap__header-label'},ln,Object(pe.h)('span',{class:'count-label'},e.length)),Object(pe.h)('div',{class:'code-wrap__header-right-options'},Object(pe.h)('a',{class:'code-wrap__header-btn',title:'Clear console (CTRL + L)',onClick:o},dn),Object(pe.h)('a',{class:'code-wrap__header-btn  code-wrap__collapse-btn',title:'Toggle console',onClick:i}))),Object(pe.h)('ul',{class:'console__items',ref:(e)=>{this.logContainerEl=e}},e.map((e)=>Object(pe.h)(rn,{data:e})))),Object(pe.h)('div',{id:'consolePromptEl',class:'console__prompt flex flex-v-center flex-shrink-0'},cn,Object(pe.h)('input',{tabIndex:t?0:-1,onKeyUp:s,class:'console-exec-input'})))}};var pn=n('q6qL'),un=n.n(pn);let mn=class extends pe.Component{componentDidMount(){window.addEventListener('keydown',this.onKeyDownHandler.bind(this))}componentWillUnmount(){window.removeEventListener('keydown',this.onKeyDownHandler.bind(this)),this.focusGrabber&&(this.focusGrabber.remove(),this.focusGrabber=null)}onKeyDownHandler(t){27===t.keyCode&&this.props.closeHandler()}onOverlayClick(t){t.target===this.overlayEl&&this.props.closeHandler()}componentDidUpdate(e){this.props.show!==e.show&&(!this.props.noOverlay&&document.body.classList[this.props.show?'add':'remove']('overlay-visible'),this.props.show?(setTimeout(()=>{const e=this.overlayEl.querySelector('.js-modal__close-btn');e&&e.focus()},0),this.focusGrabber=document.createElement('input'),this.focusGrabber.setAttribute('style','height:0;opacity:0;overflow:hidden;width:0;'),setTimeout(()=>{document.body.appendChild(this.focusGrabber)},10)):(this.focusGrabber.remove(),this.focusGrabber=null))}render(){return this.props.show?Object(pe.h)(un.a,{into:'body'},Object(pe.h)('div',{role:'dialog',class:`${this.props.extraClasses||''} modal is-modal-visible ${this.props.small?'modal--small':''}`,ref:(e)=>this.overlayEl=e,onClick:this.onOverlayClick.bind(this)},Object(pe.h)('div',{class:'modal__content'},this.props.hideCloseButton?null:Object(pe.h)('button',{type:'button',onClick:this.props.closeHandler,"aria-label":'Close modal',title:'Close',class:'js-modal__close-btn modal__close-btn'},'Close'),this.props.children))):null}},fn=class extends pe.Component{componentDidMount(){this.initEditor()}shouldComponentUpdate(){return!1}initEditor(){this.cm=Ke.fromTextArea(this.textarea,this.props.options),this.props.onChange&&this.cm.on('change',this.props.onChange),this.props.onBlur&&this.cm.on('blur',this.props.onBlur),this.props.onCreation(this.cm)}render(){return Object(pe.h)('textarea',{ref:(e)=>this.textarea=e,name:'',id:'',cols:'30',rows:'10'})}};var gn=Object(pe.h)('h1',null,'Atomic CSS Settings'),bn=Object(pe.h)('h3',null,'Configure Atomizer settings.',' ',Object(pe.h)('a',{href:'https://github.com/acss-io/atomizer#api',target:'_blank',rel:'noopener noreferrer'},'Read more'),' ','about available settings.');let vn=class extends pe.Component{componentDidUpdate(){this.props.show&&setTimeout(()=>{this.props.settings&&this.cm.setValue(this.props.settings.acssConfig),this.cm.refresh(),this.cm.focus()},500)}render(){return Object(pe.h)(mn,{show:this.props.show,closeHandler:this.props.closeHandler},gn,bn,Object(pe.h)('div',{style:'height: calc(100vh - 350px);'},Object(pe.h)(fn,{options:{mode:'application/ld+json',theme:this.props.editorTheme},onCreation:(e)=>this.cm=e,onBlur:(e)=>this.props.onChange(e.getValue())})),Object(pe.h)('div',{class:'flex flex-h-end'},Object(pe.h)('button',{class:'btn btn--primary',onClick:this.props.closeHandler},'Apply and Close')))}};var Cn=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e};let yn=class extends sn.PureComponent{constructor(e){super(e),this.state={w:0,h:0,isVisible:!1}}update(e){this.setState(Cn({isVisible:!0},e)),this.hideTimer&&clearTimeout(this.hideTimer),this.hideTimer=setTimeout(()=>{this.setState({isVisible:!1})},1e3)}render(){return this.state.isVisible?Object(pe.h)('div',{class:'preview-dimension'},this.state.w,'px \u2A2F ',this.state.h,'px'):null}};const wn=33;var Sn=Object(pe.h)('span',{class:'caret'}),kn=Object(pe.h)('option',{value:'html'},'HTML'),Mn=Object(pe.h)('option',{value:'markdown'},'Markdown'),xn=Object(pe.h)('option',{value:'jade'},'Pug'),Hn=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#code-brace-icon'})),Ln=Object(pe.h)('span',{class:'caret'}),_n=Object(pe.h)('option',{value:'css'},'CSS'),In=Object(pe.h)('option',{value:'scss'},'SCSS'),An=Object(pe.h)('option',{value:'sass'},'SASS'),jn=Object(pe.h)('option',{value:'less'},'LESS'),Bn=Object(pe.h)('option',{value:'stylus'},'Stylus'),En=Object(pe.h)('option',{value:'acss'},'Atomic CSS'),Tn=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#settings-icon'})),On=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#code-brace-icon'})),Fn=Object(pe.h)('span',{class:'caret'}),Vn=Object(pe.h)('option',{value:'js'},'JS'),Pn=Object(pe.h)('option',{value:'coffee'},'CoffeeScript'),Dn=Object(pe.h)('option',{value:'es6'},'ES6 (Babel)'),Nn=Object(pe.h)('option',{value:'typescript'},'TypeScript'),Rn=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#code-brace-icon'}));let Wn=class extends pe.Component{constructor(e){super(e),this.state={isConsoleOpen:!1,isCssSettingsModalOpen:!1,logs:[]},this.updateTimer=null,this.htmlMode=fe.HTML,this.jsMode=fe.HTML,this.cssMode=ge.CSS,this.jsMode=be.JS,this.prefs={},this.codeInPreview={html:null,css:null,js:null},this.cmCodes={html:e.currentItem.html,css:'',js:''},this.cm={},window.onMessageFromConsole=this.onMessageFromConsole.bind(this),window.previewException=this.previewException.bind(this),window.clearConsole=this.clearConsole.bind(this),this.consoleHeaderDblClickHandler=this.consoleHeaderDblClickHandler.bind(this),this.clearConsoleBtnClickHandler=this.clearConsoleBtnClickHandler.bind(this),this.toggleConsole=this.toggleConsole.bind(this),this.evalConsoleExpr=this.evalConsoleExpr.bind(this)}shouldComponentUpdate(e,t){return this.state.isConsoleOpen!==t.isConsoleOpen||this.state.isCssSettingsModalOpen!==t.isCssSettingsModalOpen||this.state.logs!==t.logs||this.state.codeSplitSizes!==t.codeSplitSizes||this.state.mainSplitSizes!==t.mainSplitSizes||this.props.currentLayoutMode!==e.currentLayoutMode||this.props.currentItem!==e.currentItem||this.props.prefs!==e.prefs}componentDidUpdate(){}componentDidMount(){this.props.onRef(this),window.addEventListener('message',(t)=>{t.data&&t.data.logs&&this.onMessageFromConsole(...t.data.logs)})}onHtmlCodeChange(e,t){this.cmCodes.html=e.getValue(),this.props.onCodeChange('html',this.cmCodes.html,'setValue'!==t.origin),this.onCodeChange(e,t)}onCssCodeChange(e,t){this.cmCodes.css=e.getValue(),this.props.onCodeChange('css',this.cmCodes.css,'setValue'!==t.origin),this.onCodeChange(e,t)}onJsCodeChange(e,t){this.cmCodes.js=e.getValue(),this.props.onCodeChange('js',this.cmCodes.js,'setValue'!==t.origin),this.onCodeChange(e,t)}onCodeChange(e,t){clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>{'setValue'!==t.origin&&(this.setPreviewContent(),A.previewCount=(A.previewCount||0)+1,4===A.previewCount&&A('fn','usingPreview'))},this.props.prefs.previewDelay)}createPreviewFile(e,t,n){const o=!window.webkitRequestFileSystem||!window.IS_EXTENSION;var i=x(e,t,o?n:null,this.props.currentItem),s=new Blob([i],{type:'text/plain;charset=UTF-8'}),a=new Blob([n],{type:'text/plain;charset=UTF-8'});if(!A.hasTrackedCode&&(e||t||n)&&(A('fn','hasCode'),A.hasTrackedCode=!0),!o)S('script.js',a,()=>{S('preview.html',s,()=>{var e=chrome.i18n.getMessage()?`chrome-extension://${chrome.i18n.getMessage('@@extension_id')}`:`${location.origin}`,t=`filesystem:${e}/temporary/preview.html`;this.detachedWindow?this.detachedWindow.postMessage({url:t},'*'):this.frame.src=t})});else if(this.detachedWindow)v('\u2709\uFE0F Sending message to detached window'),this.detachedWindow.postMessage({contents:i},'*');else{Promise.race([new Promise((e)=>{setTimeout(e,200)}),new Promise((e)=>{this.frame.onload=e})]).then(()=>{this.frame.contentDocument.open(),this.frame.contentDocument.write(i),this.frame.contentDocument.close()}),this.frame.src=''}}cleanupErrors(e){this.cm[e].clearGutter('error-gutter')}showErrors(e,t){this.cm[e].showErrors(t)}setPreviewContent(e,t){if(!t){let e=void 0===window.forcedSettings.autoPreview?this.props.prefs.autoPreview:window.forcedSettings.autoPreview;if(!e)return}this.props.prefs.preserveConsoleLogs||this.clearConsole(),this.cleanupErrors('html'),this.cleanupErrors('css'),this.cleanupErrors('js');var n={html:this.cmCodes.html,css:this.cmCodes.css,js:this.cmCodes.js};v('\uD83D\uDD0E setPreviewContent',e);const o=this.detachedWindow?this.detachedWindow.document.querySelector('iframe'):this.frame,r=this.props.currentItem.cssMode;if(!e&&n.html===this.codeInPreview.html&&n.js===this.codeInPreview.js)s(r===ge.ACSS?n.html:n.css,r,this.props.currentItem.cssSettings).then((e)=>{r===ge.ACSS&&this.cm.css.setValue(e.code||''),o.contentDocument.querySelector('#webmakerstyle')&&(o.contentDocument.querySelector('#webmakerstyle').textContent=e.code||'')});else{var l=i(n.html,this.props.currentItem.htmlMode),d=s(r===ge.ACSS?n.html:n.css,r,this.props.currentItem.cssSettings),c=a(n.js,this.props.currentItem.jsMode,!0,this.props.prefs.infiniteLoopTimeout);Promise.all([l,d,c]).then((e)=>{r===ge.ACSS&&this.cm.css.setValue(e[1].code||''),this.createPreviewFile(e[0].code||'',e[1].code||'',e[2].code||''),e.forEach((e)=>{e.errors&&this.showErrors(e.errors.lang,e.errors.data)})})}this.codeInPreview.html=n.html,this.codeInPreview.css=n.css,this.codeInPreview.js=n.js}isValidItem(e){return!!e.title}refreshEditor(){this.cmCodes.html=this.props.currentItem.html,this.cmCodes.css=this.props.currentItem.css,this.cmCodes.js=this.props.currentItem.js,this.cm.html.setValue(this.cmCodes.html||''),this.cm.css.setValue(this.cmCodes.css||''),this.cm.js.setValue(this.cmCodes.js||''),this.cm.html.refresh(),this.cm.css.refresh(),this.cm.js.refresh(),this.clearConsole(),Promise.all([this.updateHtmlMode(this.props.currentItem.htmlMode),this.updateCssMode(this.props.currentItem.cssMode),this.updateJsMode(this.props.currentItem.jsMode)]).then(()=>this.setPreviewContent(!0))}applyCodemirrorSettings(e){document.documentElement.style.setProperty('--code-font-size',`${parseInt(e.fontSize,10)}px`),e.editorTheme&&(window.editorThemeLinkTag.href=`lib/codemirror/theme/${e.editorTheme}.css`),window.fontStyleTag.textContent=window.fontStyleTemplate.textContent.replace(/fontname/g,('other'===e.editorFont?e.editorCustomFont:e.editorFont)||'FiraCode')}updateCodeWrapCollapseStates(){clearTimeout(this.updateCodeWrapCollapseStates.timeout),this.updateCodeWrapCollapseStates.timeout=setTimeout(()=>{const{currentLayoutMode:e}=this.props,t=2===e||5===e?'width':'height';[htmlCodeEl,cssCodeEl,jsCodeEl].forEach(function(e){const n=e.getBoundingClientRect(),o=n[t];100>o?e.classList.add('is-minimized'):e.classList.remove('is-minimized'),-1===e.style[t].indexOf(`100% - ${2*wn}px`)?e.classList.remove('is-maximized'):e.classList.add('is-maximized')})},50)}toggleCodeWrapCollapse(e){if(e.classList.contains('is-minimized')||e.classList.contains('is-maximized'))e.classList.remove('is-minimized'),e.classList.remove('is-maximized'),this.codeSplitInstance.setSizes([33.3,33.3,33.3]);else{const n=parseInt(e.dataset.codeWrapId,10);var t=[`${wn}px`,`${wn}px`,`${wn}px`];t[n]=`calc(100% - ${2*wn}px)`,this.codeSplitInstance.setSizes(t),e.classList.add('is-maximized')}this.updateSplits()}collapseBtnHandler(t){var e=t.currentTarget.parentElement.parentElement.parentElement;this.toggleCodeWrapCollapse(e),A('ui','paneCollapseBtnClick',e.dataset.type)}codeWrapHeaderDblClickHandler(t){if(t.target.classList.contains('js-code-wrap__header')){const e=t.target.parentElement;this.toggleCodeWrapCollapse(e),A('ui','paneHeaderDblClick',e.dataset.type)}}resetSplitting(){this.setState({codeSplitSizes:this.getCodeSplitSizes(),mainSplitSizes:this.getMainSplitSizesToApply()})}updateSplits(){this.props.onSplitUpdate(),this.state.codeSplitSizes=this.props.currentItem.sizes,this.state.mainSplitSizes=this.props.currentItem.mainSizes}getMainSplitSizesToApply(){var e;const{currentItem:t,currentLayoutMode:n}=this.props;return e=t&&t.mainSizes?3===n?[t.mainSizes[1],t.mainSizes[0]]:t.mainSizes:5===n?[75,25]:[50,50],e}getCodeSplitSizes(){return this.props.currentItem&&this.props.currentItem.sizes?this.props.currentItem.sizes:[33.33,33.33,33.33]}mainSplitDragEndHandler(){this.props.prefs.refreshOnResize&&setTimeout(()=>{this.setPreviewContent(!0)},1),this.updateSplits()}mainSplitDragHandler(){this.previewDimension.update({w:this.frame.clientWidth,h:this.frame.clientHeight})}codeSplitDragStart(){document.body.classList.add('is-dragging')}codeSplitDragEnd(){this.updateCodeWrapCollapseStates(),document.body.classList.remove('is-dragging'),this.updateSplits()}handleModeRequirements(e){function t(){ve[e].hasLoaded=!0,i.resolve()}const n='lib/transpilers';var i=o();return ve[e].hasLoaded?(i.resolve(),i.promise):(e===fe.JADE?k(`${n}/jade.js`).then(t):e===fe.MARKDOWN?k(`${n}/marked.js`).then(t):e===ge.LESS?k(`${n}/less.min.js`).then(t):e===ge.SCSS||e===ge.SASS?k(`${n}/sass.js`).then(function(){window.sass=new Sass(`${n}/sass.worker.js`),t()}):e===ge.STYLUS?k(`${n}/stylus.min.js`).then(t):e===ge.ACSS?k(`${n}/atomizer.browser.js`).then(t):e===be.COFFEESCRIPT?k(`${n}/coffee-script.js`).then(t):e===be.ES6?k(`${n}/babel.min.js`).then(t):e===be.TS?k(`${n}/typescript.js`).then(t):i.resolve(),i.promise)}updateHtmlMode(e){return this.props.onCodeModeChange('html',e),this.props.currentItem.htmlMode=e,this.cm.html.setLanguage(e),this.handleModeRequirements(e)}updateCssMode(e){return this.props.onCodeModeChange('css',e),this.props.currentItem.cssMode=e,this.cm.css.setOption('readOnly',ve[e].cmDisable),window.cssSettingsBtn.classList[ve[e].hasSettings?'remove':'add']('hide'),this.cm.css.setLanguage(e),this.handleModeRequirements(e)}updateJsMode(e){return this.props.onCodeModeChange('js',e),this.props.currentItem.jsMode=e,this.cm.js.setLanguage(e),this.handleModeRequirements(e)}codeModeChangeHandler(t){var e=t.target.value,n=t.target.dataset.type,o=this.props.currentItem['html'===n?'htmlMode':'css'===n?'cssMode':'jsMode'];o!==e&&('html'===n?this.updateHtmlMode(e).then(()=>this.setPreviewContent(!0)):'js'===n?this.updateJsMode(e).then(()=>this.setPreviewContent(!0)):'css'===n&&this.updateCssMode(e).then(()=>this.setPreviewContent(!0)),A('ui','updateCodeMode',e))}detachPreview(){if(this.detachedWindow)return void this.detachedWindow.focus();const e=this.frame.getBoundingClientRect(),t=e.width,n=e.height;document.body.classList.add('is-detached-mode'),this.detachedWindow=window.open('./preview.html','Web Maker',`width=${t},height=${n},resizable,scrollbars=yes,status=1`),setTimeout(()=>{this.setPreviewContent(!0)},1500);var o=window.setInterval(()=>{this.detachedWindow&&this.detachedWindow.closed&&(clearInterval(o),document.body.classList.remove('is-detached-mode'),this.detachedWindow=null,this.setPreviewContent(!0))},500)}onMessageFromConsole(){const e=[...arguments].map((e)=>e&&e.indexOf&&-1!==e.indexOf('filesystem:chrome-extension')?e.replace(/filesystem:chrome-extension.*\.js:(\d+):*(\d*)/g,'script $1:$2'):e);this.setState({logs:[...this.state.logs,...e]})}previewException(e){console.error('Possible infinite loop detected.',e.stack),this.onMessageFromConsole('Possible infinite loop detected.',e.stack)}toggleConsole(){this.setState({isConsoleOpen:!this.state.isConsoleOpen}),A('ui','consoleToggle')}consoleHeaderDblClickHandler(t){t.target.classList.contains('js-console__header')&&(A('ui','consoleToggleDblClick'),this.toggleConsole())}clearConsole(){this.setState({logs:[]})}clearConsoleBtnClickHandler(){this.clearConsole(),A('ui','consoleClearBtnClick')}evalConsoleExpr(t){(76===t.which||12===t.which)&&t.ctrlKey?(this.clearConsole(),A('ui','consoleClearKeyboardShortcut')):13===t.which&&(this.onMessageFromConsole('> '+t.target.value),this.frame.contentWindow._wmEvaluate(t.target.value),t.target.value='',A('fn','evalConsoleExpr'))}cssSettingsBtnClickHandler(){this.setState({isCssSettingsModalOpen:!0}),A('ui','cssSettingsBtnClick')}cssSettingsChangeHandler(e){this.props.onCodeSettingsChange('css',e),this.setPreviewContent(!0)}getDemoFrame(e){e(this.frame)}editorFocusHandler(e){this.props.onEditorFocus(e)}prettifyBtnClickHandler(e){this.props.onPrettifyBtnClick(e)}render(){return Object(pe.h)(tn,{class:'content-wrap  flex  flex-grow',sizes:this.state.mainSplitSizes,minSize:150,style:'',direction:2===this.props.currentLayoutMode?'vertical':'horizontal',onDrag:this.mainSplitDragHandler.bind(this),onDragEnd:this.mainSplitDragEndHandler.bind(this)},Object(pe.h)(tn,{class:'code-side',id:'js-code-side',sizes:this.state.codeSplitSizes,minSize:wn,direction:2===this.props.currentLayoutMode||5===this.props.currentLayoutMode?'horizontal':'vertical',onDragStart:this.codeSplitDragStart.bind(this),onDragEnd:this.codeSplitDragEnd.bind(this),onSplit:(e)=>this.codeSplitInstance=e},Object(pe.h)('div',{"data-code-wrap-id":'0',id:'htmlCodeEl',"data-type":'html',class:'code-wrap',onTransitionEnd:this.updateCodeWrapCollapseStates.bind(this)},Object(pe.h)('div',{class:'js-code-wrap__header  code-wrap__header',title:'Double click to toggle code pane',onDblClick:this.codeWrapHeaderDblClickHandler.bind(this)},Object(pe.h)('label',{class:'btn-group',dropdow:!0,title:'Click to change'},Object(pe.h)('span',{class:'code-wrap__header-label'},ve[this.props.currentItem.htmlMode||'html'].label),Sn,Object(pe.h)('select',{"data-type":'html',class:'js-mode-select  hidden-select',onChange:this.codeModeChangeHandler.bind(this),value:this.props.currentItem.htmlMode},kn,Mn,xn)),Object(pe.h)('div',{class:'code-wrap__header-right-options'},this.props.currentItem.htmlMode===fe.HTML?Object(pe.h)('a',{class:'code-wrap__header-btn',title:'Format code',onClick:this.prettifyBtnClickHandler.bind(this,'html')},Hn):null,Object(pe.h)('a',{class:'js-code-collapse-btn  code-wrap__header-btn  code-wrap__collapse-btn',title:'Toggle code pane',onClick:this.collapseBtnHandler.bind(this)}))),Object(pe.h)(Xt,{type:!0===window.forcedSettings.isMonacoEditorOn||this.props.prefs.isMonacoEditorOn&&!1!==window.forcedSettings.isMonacoEditorOn?'monaco':'codemirror',options:{mode:'htmlmixed',profile:'xhtml',gutters:['CodeMirror-linenumbers','CodeMirror-foldgutter'],noAutocomplete:!0,matchTags:{bothTags:!0},prettier:!0,prettierParser:'html',emmet:!0},prefs:this.props.prefs,onChange:this.onHtmlCodeChange.bind(this),ref:(e)=>this.cm.html=e,onFocus:this.editorFocusHandler.bind(this)})),Object(pe.h)('div',{"data-code-wrap-id":'1',id:'cssCodeEl',"data-type":'css',class:'code-wrap',onTransitionEnd:this.updateCodeWrapCollapseStates.bind(this)},Object(pe.h)('div',{class:'js-code-wrap__header  code-wrap__header',title:'Double click to toggle code pane',onDblClick:this.codeWrapHeaderDblClickHandler.bind(this)},Object(pe.h)('label',{class:'btn-group',title:'Click to change'},Object(pe.h)('span',{class:'code-wrap__header-label'},ve[this.props.currentItem.cssMode||'css'].label),Ln,Object(pe.h)('select',{"data-type":'css',class:'js-mode-select  hidden-select',onChange:this.codeModeChangeHandler.bind(this),value:this.props.currentItem.cssMode},_n,In,An,jn,Bn,En)),Object(pe.h)('div',{class:'code-wrap__header-right-options'},Object(pe.h)('a',{href:'#',id:'cssSettingsBtn',title:'Atomic CSS configuration',onClick:this.cssSettingsBtnClickHandler.bind(this),class:'code-wrap__header-btn hide'},Tn),Object(pe.h)('a',{class:'code-wrap__header-btn ',title:'Format code',onClick:this.prettifyBtnClickHandler.bind(this,'css')},On),Object(pe.h)('a',{class:'js-code-collapse-btn  code-wrap__header-btn  code-wrap__collapse-btn',title:'Toggle code pane',onClick:this.collapseBtnHandler.bind(this)}))),Object(pe.h)(Xt,{type:!0===window.forcedSettings.isMonacoEditorOn||this.props.prefs.isMonacoEditorOn&&!1!==window.forcedSettings.isMonacoEditorOn?'monaco':'codemirror',options:{mode:'css',gutters:['error-gutter','CodeMirror-linenumbers','CodeMirror-foldgutter'],emmet:!0,prettier:!0,prettierParser:'css'},prefs:this.props.prefs,onChange:this.onCssCodeChange.bind(this),ref:(e)=>this.cm.css=e,onFocus:this.editorFocusHandler.bind(this)})),Object(pe.h)('div',{"data-code-wrap-id":'2',id:'jsCodeEl',"data-type":'js',class:'code-wrap',onTransitionEnd:this.updateCodeWrapCollapseStates.bind(this)},Object(pe.h)('div',{class:'js-code-wrap__header  code-wrap__header',title:'Double click to toggle code pane',onDblClick:this.codeWrapHeaderDblClickHandler.bind(this)},Object(pe.h)('label',{class:'btn-group',title:'Click to change'},Object(pe.h)('span',{class:'code-wrap__header-label'},ve[this.props.currentItem.jsMode||'js'].label),Fn,Object(pe.h)('select',{"data-type":'js',class:'js-mode-select  hidden-select',onChange:this.codeModeChangeHandler.bind(this),value:this.props.currentItem.jsMode},Vn,Pn,Dn,Nn)),Object(pe.h)('div',{class:'code-wrap__header-right-options'},Object(pe.h)('a',{class:'code-wrap__header-btn ',title:'Format code',onClick:this.prettifyBtnClickHandler.bind(this,'css')},Rn),Object(pe.h)('a',{class:'js-code-collapse-btn  code-wrap__header-btn  code-wrap__collapse-btn',title:'Toggle code pane',onClick:this.collapseBtnHandler.bind(this)}))),Object(pe.h)(Xt,{type:!0===window.forcedSettings.isMonacoEditorOn||this.props.prefs.isMonacoEditorOn&&!1!==window.forcedSettings.isMonacoEditorOn?'monaco':'codemirror',options:{mode:'javascript',gutters:['error-gutter','CodeMirror-linenumbers','CodeMirror-foldgutter'],prettier:!0,prettierParser:'js'},prefs:this.props.prefs,autoComplete:this.props.prefs.autoComplete,onChange:this.onJsCodeChange.bind(this),ref:(e)=>this.cm.js=e,onFocus:this.editorFocusHandler.bind(this)}))),Object(pe.h)('div',{class:'demo-side',id:'js-demo-side',style:''},Object(pe.h)('iframe',{ref:(e)=>this.frame=e,frameborder:'0',id:'demo-frame',allowfullscreen:!0}),Object(pe.h)(yn,{ref:(e)=>this.previewDimension=e}),Object(pe.h)(hn,{logs:this.state.logs,isConsoleOpen:this.state.isConsoleOpen,onConsoleHeaderDblClick:this.consoleHeaderDblClickHandler,onClearConsoleBtnClick:this.clearConsoleBtnClickHandler,toggleConsole:this.toggleConsole,onEvalInputKeyup:this.evalConsoleExpr}),Object(pe.h)(vn,{show:this.state.isCssSettingsModalOpen,closeHandler:()=>this.setState({isCssSettingsModalOpen:!1}),onChange:this.cssSettingsChangeHandler.bind(this),settings:this.props.currentItem.cssSettings,editorTheme:this.props.prefs.editorTheme})))}};var zn=n('87T5'),Un=n.n(zn),Kn=Object(pe.h)('path',{fill:'currentColor',d:'M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z'}),Jn=Object(pe.h)('path',{fill:'currentColor',d:'M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z'}),Gn=Object(pe.h)('path',{fill:'currentColor',d:'M19,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10L12,6H19A2,2 0 0,1 21,8H21L4,8V18L6.14,10H23.21L20.93,18.5C20.7,19.37 19.92,20 19,20Z'}),qn=Object(pe.h)('path',{fill:'rgb(225, 187, 21)',d:'M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z'}),Zn=Object(pe.h)('path',{fill:'rgb(255, 165, 0)',d:'M3,3H21V21H3V3M7.73,18.04C8.13,18.89 8.92,19.59 10.27,19.59C11.77,19.59 12.8,18.79 12.8,17.04V11.26H11.1V17C11.1,17.86 10.75,18.08 10.2,18.08C9.62,18.08 9.38,17.68 9.11,17.21L7.73,18.04M13.71,17.86C14.21,18.84 15.22,19.59 16.8,19.59C18.4,19.59 19.6,18.76 19.6,17.23C19.6,15.82 18.79,15.19 17.35,14.57L16.93,14.39C16.2,14.08 15.89,13.87 15.89,13.37C15.89,12.96 16.2,12.64 16.7,12.64C17.18,12.64 17.5,12.85 17.79,13.37L19.1,12.5C18.55,11.54 17.77,11.17 16.7,11.17C15.19,11.17 14.22,12.13 14.22,13.4C14.22,14.78 15.03,15.43 16.25,15.95L16.67,16.13C17.45,16.47 17.91,16.68 17.91,17.26C17.91,17.74 17.46,18.09 16.76,18.09C15.93,18.09 15.45,17.66 15.09,17.06L13.71,17.86Z'}),Yn=Object(pe.h)('path',{fill:'#2874C1',d:'M3,3H21V21H3V3M13.71,17.86C14.21,18.84 15.22,19.59 16.8,19.59C18.4,19.59 19.6,18.76 19.6,17.23C19.6,15.82 18.79,15.19 17.35,14.57L16.93,14.39C16.2,14.08 15.89,13.87 15.89,13.37C15.89,12.96 16.2,12.64 16.7,12.64C17.18,12.64 17.5,12.85 17.79,13.37L19.1,12.5C18.55,11.54 17.77,11.17 16.7,11.17C15.19,11.17 14.22,12.13 14.22,13.4C14.22,14.78 15.03,15.43 16.25,15.95L16.67,16.13C17.45,16.47 17.91,16.68 17.91,17.26C17.91,17.74 17.46,18.09 16.76,18.09C15.93,18.09 15.45,17.66 15.09,17.06L13.71,17.86M13,11.25H8V12.75H9.5V20H11.25V12.75H13V11.25Z'}),Xn=Object(pe.h)('path',{fill:'rgb(95, 158, 160)',d:'M5,3L4.35,6.34H17.94L17.5,8.5H3.92L3.26,11.83H16.85L16.09,15.64L10.61,17.45L5.86,15.64L6.19,14H2.85L2.06,18L9.91,21L18.96,18L20.16,11.97L20.4,10.76L21.94,3H5Z'}),Qn=Object(pe.h)('path',{fill:'#CF649A',d:'M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M10,15.33C10.16,15.87 10.14,16.37 10,16.83C10,16.88 9.96,16.93 9.94,17C9.92,17 9.9,17.07 9.87,17.12C9.76,17.36 9.6,17.59 9.41,17.79C8.83,18.43 8,18.67 7.67,18.47C7.29,18.25 7.5,17.35 8.16,16.64C8.88,15.88 9.92,15.38 9.92,15.38V15.38L10,15.33M18.27,6.28C17.82,4.5 14.87,3.92 12.09,4.91C10.43,5.5 8.63,6.42 7.34,7.63C5.81,9.07 5.56,10.32 5.66,10.84C6,12.68 8.54,13.89 9.58,14.78V14.79C9.28,14.94 7.04,16.07 6.5,17.23C5.96,18.45 6.6,19.33 7,19.45C8.34,19.81 9.69,19.16 10.41,18.07C11.11,17.03 11.06,15.68 10.75,15C11.17,14.9 11.66,14.85 12.28,14.92C14.04,15.13 14.38,16.22 14.31,16.68C14.25,17.14 13.88,17.39 13.76,17.47C13.64,17.54 13.6,17.57 13.61,17.63C13.62,17.71 13.68,17.71 13.78,17.69C13.93,17.66 14.71,17.32 14.74,16.47C14.78,15.39 13.75,14.19 11.93,14.22C11.18,14.24 10.71,14.31 10.37,14.44L10.29,14.35C9.16,13.15 7.08,12.3 7.17,10.68C7.2,10.09 7.4,8.55 11.17,6.67C14.25,5.13 16.72,5.55 17.15,6.5C17.76,7.83 15.83,10.32 12.63,10.68C11.41,10.82 10.76,10.34 10.6,10.17C10.43,10 10.41,9.97 10.35,10C10.24,10.07 10.31,10.23 10.35,10.33C10.44,10.58 10.84,11 11.5,11.24C12.09,11.43 13.53,11.54 15.26,10.87C17.2,10.12 18.72,8.03 18.27,6.28Z'}),$n=Object(pe.h)('path',{fill:'skyblue',d:'M2,16V8H4L7,11L10,8H12V16H10V10.83L7,13.83L4,10.83V16H2M16,8H19V12H21.5L17.5,16.5L13.5,12H16V8Z'}),eo=Object(pe.h)('path',{fill:'crimson',d:'M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z'}),to=Object(pe.h)('path',{fill:'orange',d:'M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5A2,2 0 0,1 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19M12,15A1,1 0 0,1 13,16A1,1 0 0,1 12,17A1,1 0 0,1 11,16A1,1 0 0,1 12,15M8,15A1,1 0 0,1 9,16A1,1 0 0,1 8,17A1,1 0 0,1 7,16A1,1 0 0,1 8,15M16,15A1,1 0 0,1 17,16A1,1 0 0,1 16,17A1,1 0 0,1 15,16A1,1 0 0,1 16,15Z'}),no=Object(pe.h)('path',{fill:'currentColor',d:'M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z'}),oo=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e};const io=13,so=27;var ao=Object(pe.h)('svg',{viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z'})),ro=Object(pe.h)('svg',{viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z'})),lo=Object(pe.h)('svg',{viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M11,15V12H9V15H6V17H9V20H11V17H14V15H11Z'})),co=Object(pe.h)('svg',{viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M10,4L12,6H20A2,2 0 0,1 22,8V18A2,2 0 0,1 20,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10M15,9V12H12V14H15V17H17V14H20V12H17V9H15Z'}));let ho=class extends pe.Component{addFileButtonClickHandler(){this.setState({isAddingFile:!0}),A('ui','fileAddBtnClick')}addFolderButtonClickHandler(){this.setState({isAddingFolder:!0}),A('ui','folderAddBtnClick')}warnForExistingFileName(e){let t=this.state.fileBeingRenamed?`${m(this.state.fileBeingRenamed.path)}/${e}`:e;t=t.replace(/^\//,'');const n=h(this.props.files,t);return n.file&&this.state.fileBeingRenamed!==n.file?(alert(`A file with name ${e} already exists.`),!1):!0}addFile(t){if(this.state.isAddingFile||this.state.isAddingFolder){const e=t.target.value;this.warnForExistingFileName(e)&&(e&&this.props.onAddFile(e,this.state.isAddingFolder),this.setState({isAddingFile:!1,isAddingFolder:!1}))}}newFileNameInputKeyDownHandler(t){t.which===io?this.addFile(t):t.which===so&&this.setState({isAddingFile:!1,isAddingFolder:!1})}removeFileClickHandler(t,n){n.stopPropagation();const e=confirm(`Are you sure you want to delete "${t.name}"?`);e&&this.props.onRemoveFile(t.path),A('ui','fileRemoveBtnClick')}renameFile(t){if(t.target&&this.state.fileBeingRenamed){const e=t.target.value;this.warnForExistingFileName(e)&&(e&&this.props.onRenameFile(this.state.fileBeingRenamed.path,e),this.setState({fileBeingRenamed:null}))}}renameFileNameInputKeyUpHandler(t){t.which===io?this.renameFile(t):t.which===so&&this.setState({fileBeingRenamed:null})}renameFileClickHandler(t,n){n.stopPropagation(),this.setState({fileBeingRenamed:t}),A('ui','fileRenameBtnClick')}dragOverHandler(t){t.preventDefault()}dropHandler(t){t.preventDefault(),this.props.onFileDrop(t.dataTransfer.getData('text/plain'),{children:this.props.files})}render(){const{files:e,onFileSelect:t,selectedFile:n,onRemoveFile:o}=this.props,i={onRemoveBtnClick:this.removeFileClickHandler.bind(this),onRenameBtnClick:this.renameFileClickHandler.bind(this),onNameInputBlur:this.renameFile.bind(this),onNameInputKeyUp:this.renameFileNameInputKeyUpHandler.bind(this),fileBeingRenamed:this.state.fileBeingRenamed};return Object(pe.h)('div',{class:'sidebar',onDragOver:this.dragOverHandler.bind(this),onDrop:this.dropHandler.bind(this)},Object(pe.h)('div',{class:'d-f jc-sb ai-c',style:'padding: 5px 10px'},'Files',Object(pe.h)('div',{class:'flex ai-c'},Object(pe.h)('button',{type:'button',class:'btn btn--dark',onClick:this.addFileButtonClickHandler.bind(this)},lo),Object(pe.h)('button',{type:'button',class:'btn btn--dark',onClick:this.addFolderButtonClickHandler.bind(this)},co))),this.state.isAddingFile||this.state.isAddingFolder?Object(pe.h)('div',null,Object(pe.h)('input',{type:'text',ref:(e)=>{e&&setTimeout(()=>{e.focus()},1)},onBlur:this.addFile.bind(this),onKeyUp:this.newFileNameInputKeyDownHandler.bind(this)})):null,e.map((e)=>e.isFolder?Object(pe.h)(R,oo({},this.props,i,{file:e})):Object(pe.h)(N,oo({},this.props,i,{file:e}))))}};const po='switchFileEvent',uo='newCreationEvent',mo='openSavedCreationsEvent',fo='saveEvent',go='openSettingsEvent',bo='showKeyboardShortcutsEvent',vo=[{name:'Start New Creation',event:uo,keyboardShortcut:''},{name:'Open Creation',event:mo,keyboardShortcut:'Cmd+O'},{name:'Save Creation',event:fo,keyboardShortcut:'Cmd+S'},{name:'Open Settings',event:go,keyboardShortcut:''},{name:'Show Keyboard Shortcuts',event:bo,keyboardShortcut:''}],Co={subscriptions:{},subscribe(e,t){return this.subscriptions[e]=this.subscriptions[e]||[],this.subscriptions[e].push(t),()=>{this.subscriptions[e].splice(this.subscriptions[e].indexOf(t),1)}},publish(e,...t){A('ui','commandPaletteCommandSelected',e);const n=this.subscriptions[e]||[];n.forEach((e)=>{e(...t)})}};var yo=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e};const wo=window.DEBUG?'http://localhost:7888':`https://preview.${location.host}`;var So=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#code-brace-icon'})),ko=Object(pe.h)('a',{class:'js-code-collapse-btn  code-wrap__header-btn  code-wrap__collapse-btn',title:'Toggle code pane'});let Mo=class extends pe.Component{constructor(e){super(e),this.state={isConsoleOpen:!1,isCssSettingsModalOpen:!1,logs:[],editorOptions:this.getEditorOptions()},this.fileBuffers={},this.updateTimer=null,this.htmlMode=fe.HTML,this.prefs={},this.cmCodes={html:e.currentItem.html,css:'',js:''},window.onMessageFromConsole=this.onMessageFromConsole.bind(this),window.previewException=this.previewException.bind(this),window.clearConsole=this.clearConsole.bind(this),this.consoleHeaderDblClickHandler=this.consoleHeaderDblClickHandler.bind(this),this.clearConsoleBtnClickHandler=this.clearConsoleBtnClickHandler.bind(this),this.toggleConsole=this.toggleConsole.bind(this),this.evalConsoleExpr=this.evalConsoleExpr.bind(this)}shouldComponentUpdate(e,t){return this.state.isConsoleOpen!==t.isConsoleOpen||this.state.isCssSettingsModalOpen!==t.isCssSettingsModalOpen||this.state.logs!==t.logs||this.state.mainSplitSizes!==t.mainSplitSizes||this.state.selectedFile!==t.selectedFile||this.props.currentLayoutMode!==e.currentLayoutMode||this.props.currentItem!==e.currentItem||this.props.prefs!==e.prefs}componentWillUpdate(e){(this.props.currentItem.createdOn!==e.currentItem.createdOn||this.props.currentItem.id!==e.currentItem.id)&&(this.fileBuffers={},this.state.selectedFile=null),this.state.selectedFile&&!h(e.currentItem.files,this.state.selectedFile.path).file&&(this.state.selectedFile=null),e.currentItem.files!==this.props.currentItem.files&&this.state.selectedFile&&this.fileBuffers[this.state.selectedFile.path]&&this.fileBuffers[this.state.selectedFile.path].model.setValue(h(e.currentItem.files,this.state.selectedFile.path).file.content)}componentDidUpdate(){const{currentItem:e}=this.props,t=l(e.files);e&&e.files&&(!this.state.selectedFile||!t.includes(this.state.selectedFile))&&this.fileSelectHandler(t[0])}componentDidMount(){this.props.onRef(this),window.addEventListener('message',(t)=>{t.data&&t.data.logs&&this.onMessageFromConsole(...t.data.logs)}),this.commandPaletteSubscriptions=[],this.commandPaletteSubscriptions.push(Co.subscribe(po,(e)=>{const t=h(this.props.currentItem.files,e.path);t.file&&this.fileSelectHandler(t.file)}))}componentWillUnmount(){this.commandPaletteSubscriptions.forEach((e)=>e())}getEditorOptions(e=''){let t={gutters:['error-gutter','CodeMirror-linenumbers','CodeMirror-foldgutter'],emmet:!0};return e.match(/\.css$/)||(e.match(/\.js$/)?delete t.emmet:e.match(/\.html$/)&&(t=yo({},t,{noAutocomplete:!0,matchTags:{bothTags:!0}}))),t}createEditorDoc(e){const t=Ke.findModeByExtension(r(e.name));let n,o;t&&(n=t.mode,o=t.mimes?t.mimes[0]:t.mime,Ke.autoLoadMode(this.cm,n)),'application/json'===o&&(o=this.props.prefs.isMonacoEditorOn?'json':'application/ld+json'),this.fileBuffers[e.path]=this.props.prefs.isMonacoEditorOn?{model:monaco.editor.createModel(e.content||'',o||'javascript')}:{model:Ke.Doc(e.content||'',t?o:'text/plain')}}onHtmlCodeChange(e,t){this.cmCodes.html=e.getValue(),this.props.onCodeChange(this.state.selectedFile,this.cmCodes.html,'setValue'!==t.origin),this.onCodeChange(t)}onCodeChange(e){clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>{'setValue'!==e.origin&&(this.setPreviewContent(),A.previewCount=(A.previewCount||0)+1,4===A.previewCount&&A('fn','usingPreview'))},this.props.prefs.previewDelay)}createPreviewFile(){var e={};const t=JSON.parse(JSON.stringify(this.props.currentItem.files)),n=l(c(t,''));n.forEach((t)=>{e[t.path]=t.content||'','index.html'===t.name&&(e[t.path]='<script src="'+(chrome.extension?chrome.extension.getURL('lib/screenlog.js'):`${location.origin}${window.DEBUG?'':we}/lib/screenlog.js`)+'"></script>'+e[t.path])}),window.talkFrame.contentWindow.postMessage(e,'*'),this.detachedWindow?(v('\u2709\uFE0F Sending message to detached window'),this.detachedWindow.postMessage({url:`${wo}/index.html`},'*')):setTimeout(()=>{this.frame.src=`${wo}/index.html`},10)}cleanupErrors(){this.editor.clearGutter('error-gutter')}showErrors(e){this.editor.showErrors(e)}setPreviewContent(e,t){if(!t){let e=void 0===window.forcedSettings.autoPreview?this.props.prefs.autoPreview:window.forcedSettings.autoPreview;if(!e)return}this.props.prefs.preserveConsoleLogs||this.clearConsole(),this.cleanupErrors();({html:this.cmCodes.html,css:this.cmCodes.css,js:this.cmCodes.js});v('\uD83D\uDD0E setPreviewContent',e);this.detachedWindow?this.detachedWindow.document.querySelector('iframe'):this.frame;this.createPreviewFile()}isValidItem(e){return!!e.title}refreshEditor(){this.state.selectedFile&&this.editor.setValue(this.state.selectedFile.content),this.editor,window.cm=this.cm,this.clearConsole(),Promise.all([this.updateHtmlMode(this.props.currentItem.htmlMode)]).then(()=>this.setPreviewContent(!0))}applyCodemirrorSettings(e){document.documentElement.style.setProperty('--code-font-size',`${parseInt(e.fontSize,10)}px`),e.editorTheme&&(window.editorThemeLinkTag.href=`lib/codemirror/theme/${e.editorTheme}.css`),window.fontStyleTag.textContent=window.fontStyleTemplate.textContent.replace(/fontname/g,('other'===e.editorFont?e.editorCustomFont:e.editorFont)||'FiraCode')}updateCodeWrapCollapseStates(){clearTimeout(this.updateCodeWrapCollapseStates.timeout),this.updateCodeWrapCollapseStates.timeout=setTimeout(()=>{const{currentLayoutMode:e}=this.props,t=2===e||5===e?'width':'height';[htmlCodeEl].forEach(function(e){const n=e.getBoundingClientRect(),o=n[t];100>o?e.classList.add('is-minimized'):e.classList.remove('is-minimized'),-1===e.style[t].indexOf(`100% - ${2*33}px`)?e.classList.remove('is-maximized'):e.classList.add('is-maximized')})},50)}resetSplitting(){this.setState({mainSplitSizes:this.getMainSplitSizesToApply()})}updateSplits(){this.props.onSplitUpdate(),this.state.mainSplitSizes=this.props.currentItem.mainSizes}getMainSplitSizesToApply(){var e;const t=200,{currentItem:n,currentLayoutMode:o}=this.props;return e=n&&n.mainSizes?n.mainSizes:[`${t}px`,`calc(50% - ${t/2}px)`,`calc(50% - ${t/2}px)`],e}mainSplitDragEndHandler(){this.props.prefs.refreshOnResize&&setTimeout(()=>{this.setPreviewContent(!0)},1),this.updateSplits()}mainSplitDragHandler(){this.previewDimension.update({w:this.frame.clientWidth,h:this.frame.clientHeight})}handleModeRequirements(e){function t(){ve[e].hasLoaded=!0,i.resolve()}const n='lib/transpilers';var i=o();return ve[e].hasLoaded?(i.resolve(),i.promise):(e===fe.JADE?k(`${n}/jade.js`).then(t):e===fe.MARKDOWN?k(`${n}/marked.js`).then(t):e===ge.LESS?k(`${n}/less.min.js`).then(t):e===ge.SCSS||e===ge.SASS?k(`${n}/sass.js`).then(function(){window.sass=new Sass(`${n}/sass.worker.js`),t()}):e===ge.STYLUS?k(`${n}/stylus.min.js`).then(t):e===ge.ACSS?k(`${n}/atomizer.browser.js`).then(t):e===be.COFFEESCRIPT?k(`${n}/coffee-script.js`).then(t):e===be.ES6?k(`${n}/babel.min.js`).then(t):e===be.TS?k(`${n}/typescript.js`).then(t):i.resolve(),i.promise)}updateHtmlMode(){}updateCssMode(e){return this.cm.setOption('mode',ve[e].cmMode),this.cm.setOption('readOnly',ve[e].cmDisable),Ke.autoLoadMode(this.cm,ve[e].cmPath||ve[e].cmMode),this.handleModeRequirements(e)}updateJsMode(e){return this.cm.setOption('mode',ve[e].cmMode),Ke.autoLoadMode(this.cm,ve[e].cmPath||ve[e].cmMode),this.handleModeRequirements(e)}getDemoFrame(e){e(this.frame)}editorFocusHandler(e){this.props.onEditorFocus(e)}fileSelectHandler(e){if(e.isFolder)return void this.props.onFolderSelect(e);this.fileBuffers[e.path]||this.createEditorDoc(e);const t=this.editor.saveViewState();t&&this.state.selectedFile&&(this.fileBuffers[this.state.selectedFile.path].state=t),this.setState({editorOptions:this.getEditorOptions(e.name),selectedFile:e}),this.editor.setModel(this.fileBuffers[e.path].model),this.fileBuffers[e.path].state&&this.editor.restoreViewState(this.fileBuffers[e.path].state),this.editor.focus()}detachPreview(){if(this.detachedWindow)return void this.detachedWindow.focus();const e=this.frame.getBoundingClientRect(),t=e.width,n=e.height;document.body.classList.add('is-detached-mode'),this.detachedWindow=window.open('./preview.html','Web Maker',`width=${t},height=${n},resizable,scrollbars=yes,status=1`),setTimeout(()=>{this.setPreviewContent(!0)},1500);var o=window.setInterval(()=>{this.detachedWindow&&this.detachedWindow.closed&&(clearInterval(o),document.body.classList.remove('is-detached-mode'),this.detachedWindow=null,this.setPreviewContent(!0))},500)}onMessageFromConsole(){const e=[...arguments].map((e)=>e&&e.indexOf&&-1!==e.indexOf('filesystem:chrome-extension')?e.replace(/filesystem:chrome-extension.*\.js:(\d+):*(\d*)/g,'script $1:$2'):e);this.setState({logs:[...this.state.logs,...e]})}previewException(e){console.error('Possible infinite loop detected.',e.stack),this.onMessageFromConsole('Possible infinite loop detected.',e.stack)}toggleConsole(){this.setState({isConsoleOpen:!this.state.isConsoleOpen}),A('ui','consoleToggle')}consoleHeaderDblClickHandler(t){t.target.classList.contains('js-console__header')&&(A('ui','consoleToggleDblClick'),this.toggleConsole())}clearConsole(){this.setState({logs:[]})}clearConsoleBtnClickHandler(){this.clearConsole(),A('ui','consoleClearBtnClick')}evalConsoleExpr(t){(76===t.which||12===t.which)&&t.ctrlKey?(this.clearConsole(),A('ui','consoleClearKeyboardShortcut')):13===t.which&&(this.onMessageFromConsole('> '+t.target.value),this.frame.contentWindow.postMessage({exprToEval:t.target.value},'*'),t.target.value='',A('fn','evalConsoleExpr'))}prettifyBtnClickHandler(){this.props.onPrettifyBtnClick(this.state.selectedFile),A('ui','prettifyBtnClick')}render(){return Object(pe.h)(tn,{class:'content-wrap  flex  flex-grow',sizes:this.state.mainSplitSizes,minSize:150,style:'',direction:2===this.props.currentLayoutMode?'vertical':'horizontal',onDrag:this.mainSplitDragHandler.bind(this),onDragEnd:this.mainSplitDragEndHandler.bind(this)},Object(pe.h)('div',{id:'js-sidebar'},Object(pe.h)(ho,{files:this.props.currentItem.files||[],selectedFile:this.state.selectedFile,onFileSelect:this.fileSelectHandler.bind(this),onAddFile:this.props.onAddFile,onRemoveFile:this.props.onRemoveFile,onRenameFile:this.props.onRenameFile,onFileDrop:this.props.onFileDrop})),Object(pe.h)('div',{class:'code-side',id:'js-code-side'},Object(pe.h)('div',{"data-code-wrap-id":'0',id:'htmlCodeEl',"data-type":'html',class:'code-wrap',onTransitionEnd:this.updateCodeWrapCollapseStates.bind(this)},Object(pe.h)('div',{class:'js-code-wrap__header  code-wrap__header'},Object(pe.h)('div',{class:'flex flex-v-center'},Object(pe.h)(D,{file:this.state.selectedFile}),this.state.selectedFile?this.state.selectedFile.name:''),Object(pe.h)('div',{class:'code-wrap__header-right-options'},Object(pe.h)('button',{class:'btn btn--dark',"aria-label":'Format code',title:'Format Code',onClick:this.prettifyBtnClickHandler.bind(this)},So),ko)),Object(pe.h)(Xt,{type:!0===window.forcedSettings.isMonacoEditorOn||this.props.prefs.isMonacoEditorOn&&!1!==window.forcedSettings.isMonacoEditorOn?'monaco':'codemirror',value:this.state.selectedFile?this.state.selectedFile.content:'',options:this.state.editorOptions,prefs:this.props.prefs,onChange:this.onHtmlCodeChange.bind(this),ref:(e)=>this.editor=e,onFocus:this.editorFocusHandler.bind(this)}))),Object(pe.h)('div',{class:'demo-side',id:'js-demo-side',style:''},Object(pe.h)('iframe',{ref:(e)=>this.frame=e,src:`${wo}/index.html`,frameborder:'0',id:'demo-frame',allowfullscreen:!0}),Object(pe.h)('iframe',{src:`${wo}/talk.html`,id:'talkFrame'}),Object(pe.h)(yn,{ref:(e)=>this.previewDimension=e}),Object(pe.h)(hn,{logs:this.state.logs,isConsoleOpen:this.state.isConsoleOpen,onConsoleHeaderDblClick:this.consoleHeaderDblClickHandler,onClearConsoleBtnClick:this.clearConsoleBtnClickHandler,toggleConsole:this.toggleConsole,onEvalInputKeyup:this.evalConsoleExpr})))}};var xo=Object(pe.h)('img',{src:'assets/js13kgames.png',alt:'JS13K Games logo',height:'24'});let Ho=class extends pe.Component{constructor(e){super(e);const t=new Date('August 13 2018 11:00 GMT');var n=new Date,o;+t>+n&&(o=Math.floor((t-n)/1e3/3600/24)),this.setState({daysLeft:o})}render(){const e=this.props.codeSize?(this.props.codeSize/1024).toFixed(2):0;return Object(pe.h)('div',{role:'button',class:'flex flex-v-center',tabIndex:'0',onClick:this.props.onClick,onBlur:this.props.onBlur},xo,' ',Object(pe.h)('div',{class:'footer__js13k-days-left'},this.state.daysLeft,' days to go'),Object(pe.h)('div',{class:'footer__js13k-code-size',style:{color:10<e?'crimson':'limegreen'}},e,' KB/ 13KB'),Object(pe.h)('span',{class:'caret',style:`transition:0.3s ease; transform-origin: center 2px; ${this.props.isOpen?'transform:rotate(180deg);':''}`}))}};var Lo=Object(pe.h)('a',{href:'/',target:'_blank',rel:'noopener noreferrer'},Object(pe.h)('div',{class:'logo'})),_o=Object(pe.h)('span',{class:'web-maker-with-tag'},'Web Maker'),Io=Object(pe.h)('svg',{style:'width:20px; height:20px; vertical-align:text-bottom',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z'})),Ao=Object(pe.h)('use',{xlinkHref:'#keyboard-icon'}),jo=Object(pe.h)('use',{xlinkHref:'#twitter-icon'}),Bo=Object(pe.h)('svg',{viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z'})),Eo=Object(pe.h)('svg',{style:'display: none;',xmlns:'http://www.w3.org/2000/svg'},Object(pe.h)('symbol',{id:'codepen-logo',viewBox:'0 0 120 120'},Object(pe.h)('path',{class:'outer-ring',d:'M60.048 0C26.884 0 0 26.9 0 60.048s26.884 60 60 60.047c33.163 0 60.047-26.883 60.047-60.047 S93.211 0 60 0z M60.048 110.233c-27.673 0-50.186-22.514-50.186-50.186S32.375 9.9 60 9.9 c27.672 0 50.2 22.5 50.2 50.186S87.72 110.2 60 110.233z'}),Object(pe.h)('path',{class:'inner-box',d:'M97.147 48.319c-0.007-0.047-0.019-0.092-0.026-0.139c-0.016-0.09-0.032-0.18-0.056-0.268 c-0.014-0.053-0.033-0.104-0.05-0.154c-0.025-0.078-0.051-0.156-0.082-0.232c-0.021-0.053-0.047-0.105-0.071-0.156 c-0.033-0.072-0.068-0.143-0.108-0.211c-0.029-0.051-0.061-0.1-0.091-0.148c-0.043-0.066-0.087-0.131-0.135-0.193 c-0.035-0.047-0.072-0.094-0.109-0.139c-0.051-0.059-0.104-0.117-0.159-0.172c-0.042-0.043-0.083-0.086-0.127-0.125 c-0.059-0.053-0.119-0.104-0.181-0.152c-0.048-0.037-0.095-0.074-0.145-0.109c-0.019-0.012-0.035-0.027-0.053-0.039L61.817 23.5 c-1.072-0.715-2.468-0.715-3.54 0L24.34 46.081c-0.018 0.012-0.034 0.027-0.053 0.039c-0.05 0.035-0.097 0.072-0.144 0.1 c-0.062 0.049-0.123 0.1-0.181 0.152c-0.045 0.039-0.086 0.082-0.128 0.125c-0.056 0.055-0.108 0.113-0.158 0.2 c-0.038 0.045-0.075 0.092-0.11 0.139c-0.047 0.062-0.092 0.127-0.134 0.193c-0.032 0.049-0.062 0.098-0.092 0.1 c-0.039 0.068-0.074 0.139-0.108 0.211c-0.024 0.051-0.05 0.104-0.071 0.156c-0.031 0.076-0.057 0.154-0.082 0.2 c-0.017 0.051-0.035 0.102-0.05 0.154c-0.023 0.088-0.039 0.178-0.056 0.268c-0.008 0.047-0.02 0.092-0.025 0.1 c-0.019 0.137-0.029 0.275-0.029 0.416V71.36c0 0.1 0 0.3 0 0.418c0.006 0 0 0.1 0 0.1 c0.017 0.1 0 0.2 0.1 0.268c0.015 0.1 0 0.1 0.1 0.154c0.025 0.1 0.1 0.2 0.1 0.2 c0.021 0.1 0 0.1 0.1 0.154c0.034 0.1 0.1 0.1 0.1 0.213c0.029 0 0.1 0.1 0.1 0.1 c0.042 0.1 0.1 0.1 0.1 0.193c0.035 0 0.1 0.1 0.1 0.139c0.05 0.1 0.1 0.1 0.2 0.2 c0.042 0 0.1 0.1 0.1 0.125c0.058 0.1 0.1 0.1 0.2 0.152c0.047 0 0.1 0.1 0.1 0.1 c0.019 0 0 0 0.1 0.039L58.277 96.64c0.536 0.4 1.2 0.5 1.8 0.537c0.616 0 1.233-0.18 1.77-0.537 l33.938-22.625c0.018-0.012 0.034-0.027 0.053-0.039c0.05-0.035 0.097-0.072 0.145-0.109c0.062-0.049 0.122-0.1 0.181-0.152 c0.044-0.039 0.085-0.082 0.127-0.125c0.056-0.055 0.108-0.113 0.159-0.172c0.037-0.045 0.074-0.09 0.109-0.139 c0.048-0.062 0.092-0.127 0.135-0.193c0.03-0.049 0.062-0.098 0.091-0.146c0.04-0.07 0.075-0.141 0.108-0.213 c0.024-0.051 0.05-0.102 0.071-0.154c0.031-0.078 0.057-0.156 0.082-0.234c0.017-0.051 0.036-0.102 0.05-0.154 c0.023-0.088 0.04-0.178 0.056-0.268c0.008-0.045 0.02-0.092 0.026-0.137c0.018-0.139 0.028-0.277 0.028-0.418V48.735 C97.176 48.6 97.2 48.5 97.1 48.319z M63.238 32.073l25.001 16.666L77.072 56.21l-13.834-9.254V32.073z M56.856 32.1 v14.883L43.023 56.21l-11.168-7.471L56.856 32.073z M29.301 54.708l7.983 5.34l-7.983 5.34V54.708z M56.856 88.022L31.855 71.4 l11.168-7.469l13.833 9.252V88.022z M60.048 67.597l-11.286-7.549l11.286-7.549l11.285 7.549L60.048 67.597z M63.238 88.022V73.14 l13.834-9.252l11.167 7.469L63.238 88.022z M90.794 65.388l-7.982-5.34l7.982-5.34V65.388z'}))),To=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#codepen-logo'})),Oo=Object(pe.h)('svg',{style:'width:24px;height:24px',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z'})),Fo=Object(pe.h)('div',{class:'footer__separator hide-on-mobile'}),Vo=Object(pe.h)('svg',{viewBox:'0 0 100 100',style:'transform:rotate(-90deg)'},Object(pe.h)('use',{xlinkHref:'#mode-icon'})),Po=Object(pe.h)('svg',{viewBox:'0 0 100 100'},Object(pe.h)('use',{xlinkHref:'#mode-icon'})),Do=Object(pe.h)('svg',{viewBox:'0 0 100 100',style:'transform:rotate(90deg)'},Object(pe.h)('use',{xlinkHref:'#mode-icon'})),No=Object(pe.h)('svg',{viewBox:'0 0 100 100'},Object(pe.h)('use',{xlinkHref:'#vertical-mode-icon'})),Ro=Object(pe.h)('svg',{viewBox:'0 0 100 100'},Object(pe.h)('rect',{x:'0',y:'0',width:'100',height:'100'})),Wo=Object(pe.h)('svg',{viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M22,17V7H6V17H22M22,5A2,2 0 0,1 24,7V17C24,18.11 23.1,19 22,19H16V21H18V23H10V21H12V19H6C4.89,19 4,18.11 4,17V7A2,2 0 0,1 6,5H22M2,3V15H0V3A2,2 0 0,1 2,1H20V3H2Z'})),zo=Object(pe.h)('div',{class:'footer__separator'}),Uo=Object(pe.h)('svg',{viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M14,20A2,2 0 0,1 12,22A2,2 0 0,1 10,20H14M12,2A1,1 0 0,1 13,3V4.08C15.84,4.56 18,7.03 18,10V16L21,19H3L6,16V10C6,7.03 8.16,4.56 11,4.08V3A1,1 0 0,1 12,2Z'})),Ko=Object(pe.h)('span',{class:'notifications-btn__dot'}),Jo=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#settings-icon'}));let Go=class extends pe.Component{constructor(e){super(e),this.state={isKeyboardShortcutsModalOpen:!1,isJs13kDropdownOpen:!1}}layoutBtnClickhandler(e){this.props.layoutBtnClickHandler(e)}js13kClickHandler(){this.setState({isJs13kDropdownOpen:!this.state.isJs13kDropdownOpen})}render(){return Object(pe.h)('div',{id:'footer',class:'footer'},Object(pe.h)('div',null,Lo,'\xA9',_o,' \xA0\xA0',Object(pe.h)(B,{onClick:this.props.helpBtnClickHandler,"data-event-category":'ui',"data-event-action":'helpButtonClick',class:'footer__link  hint--rounded  hint--top-right',"aria-label":'Help'},Io),Object(pe.h)(B,{onClick:this.props.keyboardShortcutsBtnClickHandler,"data-event-category":'ui',"data-event-action":'keyboardShortcutButtonClick',class:'footer__link hint--rounded  hint--top-right hide-on-mobile',"aria-label":'Keyboard shortcuts'},Object(pe.h)('svg',{style:{width:'20px',height:'20px',verticalAlign:'text-bottom'}},Ao)),Object(pe.h)('a',{class:'footer__link  hint--rounded  hint--top-right',"aria-label":'Tweet about \'Web Maker\'',href:'http://twitter.com/share?url=https://webmaker.app/&text=Web Maker - A blazing fast %26 offline web playground! via @webmakerApp&related=webmakerApp&hashtags=web,frontend,playground,offline',target:'_blank',rel:'noopener noreferrer'},Object(pe.h)('svg',{style:{width:'20px',height:'20px',verticalAlign:'text-bottom'}},jo)),Object(pe.h)(B,{onClick:this.props.supportDeveloperBtnClickHandler,"data-event-category":'ui',"data-event-action":'supportDeveloperFooterBtnClick',class:'footer__link  ml-1  hint--rounded  hint--top-right hide-on-mobile support-link',"aria-label":'Support the developer by pledging some amount'},'Donate')),this.props.prefs.isJs13kModeOn?Object(pe.h)('div',{class:'flex flex-v-center'},Object(pe.h)(Ho,{isOpen:this.state.isJs13kDropdownOpen,codeSize:this.props.codeSize,onClick:this.js13kClickHandler.bind(this),onBlur:()=>setTimeout(()=>this.setState({isJs13kDropdownOpen:!1}),300)}),this.state.isJs13kDropdownOpen&&Object(pe.h)('div',{className:'js13k__dropdown'},Object(pe.h)('button',{class:'btn',style:{width:'200px',display:'block',marginBottom:'16px'},onClick:this.props.onJs13KDownloadBtnClick},'Download game as zip'),Object(pe.h)('a',{class:'btn',rel:'noopener',style:{width:'200px',display:'block',marginBottom:'16px'},href:'https://pasteboard.co/',target:'_blank'},'Upload Image'),Object(pe.h)('button',{class:'btn',style:{width:'200px',display:'block'},onClick:this.props.onJs13KHelpBtnClick},'Help'))):null,Object(pe.h)('div',{class:'footer__right'},Object(pe.h)('button',{onClick:this.props.saveHtmlBtnClickHandler,id:'saveHtmlBtn',class:'mode-btn  hint--rounded  hint--top-left hide-on-mobile hide-in-file-mode',"aria-label":'Save as HTML file'},Bo),Eo,Object(pe.h)('button',{onClick:this.props.codepenBtnClickHandler,id:'codepenBtn',class:'mode-btn  hint--rounded  hint--top-left  hide-on-mobile hide-in-file-mode',"aria-label":'Edit on CodePen'},To),Object(pe.h)('button',{id:'screenshotBtn',class:'mode-btn  hint--rounded  hint--top-left show-when-extension',onClick:this.props.screenshotBtnClickHandler,"aria-label":'Take screenshot of preview'},Oo),Fo,Object(pe.h)('button',{onClick:this.layoutBtnClickhandler.bind(this,1),id:'layoutBtn1',class:'mode-btn hide-on-mobile hide-in-file-mode',"aria-label":'Switch to layout with preview on right'},Vo),Object(pe.h)('button',{onClick:this.layoutBtnClickhandler.bind(this,2),id:'layoutBtn2',class:'mode-btn hide-on-mobile hide-in-file-mode',"aria-label":'Switch to layout with preview on bottom'},Po),Object(pe.h)('button',{onClick:this.layoutBtnClickhandler.bind(this,3),id:'layoutBtn3',class:'mode-btn hide-on-mobile hide-in-file-mode',"aria-label":'Switch to layout with preview on left'},Do),Object(pe.h)('button',{onClick:this.layoutBtnClickhandler.bind(this,5),id:'layoutBtn5',class:'mode-btn hide-on-mobile hide-in-file-mode',"aria-label":'Switch to layout with all vertical panes'},No),Object(pe.h)('button',{onClick:this.layoutBtnClickhandler.bind(this,4),id:'layoutBtn4',class:'mode-btn hint--top-left hint--rounded hide-in-file-mode hide-on-mobile',"aria-label":'Switch to full screen preview'},Ro),Object(pe.h)('button',{class:'mode-btn hint--top-left hint--rounded hide-on-mobile',"aria-label":'Detach Preview',onClick:this.props.detachedPreviewBtnHandler},Wo),zo,Object(pe.h)('button',{onClick:this.props.notificationsBtnClickHandler,id:'notificationsBtn',class:`notifications-btn  mode-btn  hint--top-left  hint--rounded ${this.props.hasUnseenChangelog?'has-new':''}`,"aria-label":'See Changelog'},Uo,Ko),Object(pe.h)(B,{onClick:this.props.settingsBtnClickHandler,"data-event-category":'ui',"data-event-action":'settingsBtnClick',class:'mode-btn  hint--top-left  hint--rounded',"aria-label":'Settings'},Jo)))}};var qo=n('gfUn'),Zo=n.n(qo),Yo=n('ZUoI'),Xo=n.n(Yo);const Qo={async getItem(e){var t=await window.db.getDb();return t.doc(`items/${e}`).get().then((e)=>e.data())},async getUserItemIds(e){return window.user&&!e?new Promise((e)=>{e(window.user.items||{})}):new Promise((e)=>{db.local.get('items',(t)=>{e(t.items||{})})})},async getAllItems(e){var n=Date.now(),t=o();let s=await this.getUserItemIds(e);s=Object.getOwnPropertyNames(s||{}),Object(qo.log)('itemids',s),s.length||t.resolve([]);const a=[];if(window.user&&!e){var i=await window.db.getDb();i.collection('items').where('createdBy','==',window.user.uid).onSnapshot(function(e){e.forEach(function(e){a.push(e.data())}),Object(qo.log)('Items fetched in ',Date.now()-n,'ms'),t.resolve(a)},function(){t.resolve([])})}else for(let e=0;e<s.length;e++)window.db.local.get(s[e],(n)=>{a.push(n[s[e]]),s.length===a.length&&t.resolve(a)});return t.promise},async setUser(){const e=await window.db.getDb();return e.doc(`users/${window.user.uid}`).set({items:{}})},async setItem(e,t){const n=o();if(Object(qo.log)(`Starting to save item "${e}"`),db.local.set({code:t},()=>{}),'code'===e)return Promise.resolve();if(!window.user){return db.local.set({[e]:t},()=>{n.resolve()}),n.promise}var i=await window.db.getDb();return t.createdBy=window.user.uid,i.collection('items').doc(e).set(t,{merge:!0}).then((e)=>{Object(qo.log)('Document written',e),n.resolve()}).catch(n.reject),navigator.onLine?n.promise:Promise.resolve()},saveItems(e){var t=o();return window.user?window.db.getDb().then((n)=>{const o=n.batch();for(var i in e)e[i].createdBy=window.user.uid,o.set(n.doc(`items/${i}`),e[i]),o.update(n.doc(`users/${window.user.uid}`),{[`items.${i}`]:!0}),window.user.items=window.user.items||{},window.user.items[i]=!0;o.commit().then(t.resolve)}):(window.db.local.set(e,t.resolve),window.db.local.get({items:{}},function(t){for(var n in e)t.items[n]=!0;window.db.local.set({items:t.items})})),t.promise},async removeItem(e){if(!window.user){var t=o();return window.db.local.remove(e,t.resolve),t.promise}const n=await window.db.getDb();return Object(qo.log)(`Starting to save item ${e}`),n.collection('items').doc(e).delete().then((e)=>{Object(qo.log)('Document removed',e)}).catch((e)=>Object(qo.log)(e))},async setItemForUser(e){if(!window.user)return window.db.local.get({items:{}},function(t){t.items[e]=!0,window.db.local.set({items:t.items})});const t=await window.db.getDb();return t.collection('users').doc(window.user.uid).update({[`items.${e}`]:!0}).then((t)=>{Object(qo.log)(`Item ${e} set for user`,t),window.user.items=window.user.items||{},window.user.items[e]=!0}).catch((e)=>Object(qo.log)(e))},async unsetItemForUser(e){if(!window.user)return window.db.local.get({items:{}},function(t){delete t.items[e],window.db.local.set({items:t.items})});const t=await window.db.getDb();return t.collection('users').doc(window.user.uid).update({[`items.${e}`]:Xo.a.firestore.FieldValue.delete()}).then((t)=>{delete window.user.items[e],Object(qo.log)(`Item ${e} unset for user`,t)}).catch((e)=>Object(qo.log)(e))},async getCountOfFileModeItems(){const e=await this.getAllItems();return e.reduce((e,t)=>t.files?e+1:e,0)}};var $o;const ei={add:function(e){const t=$('#js-alerts-container');t.textContent=e,t.classList.add('is-active'),clearTimeout($o),$o=setTimeout(function(){t.classList.remove('is-active')},2e3)}};window.alertsService=ei;var ti=Object(pe.h)('span',{class:'show-when-selected'},'(Ctrl/\u2318 + F)'),ni=Object(pe.h)('div',{class:'ml-1 flex-shrink-0 hint--left',"aria-label":'Files mode creation'},Object(pe.h)('svg',{style:'width:24px;height:24px',viewBox:'0 0 24 24'},Object(pe.h)('path',{fill:'currentColor',d:'M15,7H20.5L15,1.5V7M8,0H16L22,6V18A2,2 0 0,1 20,20H8C6.89,20 6,19.1 6,18V2A2,2 0 0,1 8,0M4,4V22H20V24H4A2,2 0 0,1 2,22V4H4Z'}))),oi=Object(pe.h)('div',{class:'mt-1'},'No match found.'),ii=Object(pe.h)('div',{class:'tac'},Object(pe.h)('h2',{class:'opacity--30'},'Nothing saved here.'),Object(pe.h)('img',{style:'max-width: 80%; opacity:0.4',src:'assets/empty.svg'}));let si=class extends pe.Component{constructor(e){super(e)}static getDerivedStateFromProps({items:e={}}){const t=Object.values(e);return t.sort(function(e,t){return t.updatedOn-e.updatedOn}),{items:t}}shouldComponentUpdate(e,t){return e.items!==this.props.items||e.isOpen!==this.props.isOpen||t.filteredItems!==this.state.filteredItems}componentDidUpdate(e){this.props.isOpen&&!e.isOpen&&(window.searchInput.value='',window.searchInput.focus()),!this.props.isOpen&&e.isOpen&&this.setState({filteredItems:void 0})}onCloseIntent(){this.props.closeHandler()}itemClickHandler(e){this.props.itemClickHandler(e)}itemRemoveBtnClickHandler(t,n){n.stopPropagation(),this.props.itemRemoveBtnClickHandler(t)}itemForkBtnClickHandler(t,n){n.stopPropagation(),this.props.itemForkBtnClickHandler(t)}keyDownHandler(e){if(this.props.isOpen){const t=e.ctrlKey||e.metaKey,n=t&&70===e.keyCode,o=40===e.keyCode,i=38===e.keyCode,s=13===e.keyCode,a=$('.js-saved-item-tile.selected'),r=0!==$all('.js-saved-item-tile').length;if((o||i)&&r){const e=o?'nextUntil':'previousUntil';a?(a.classList.remove('selected'),a[e]('.js-saved-item-tile:not(.hide)').classList.add('selected')):$('.js-saved-item-tile:not(.hide)').classList.add('selected'),$('.js-saved-item-tile.selected').scrollIntoView(!1)}if(s&&a){const e=this.props.items[a.dataset.itemId];console.log('opening',e),this.props.itemClickHandler(e),A('ui','openItemKeyboardShortcut')}if(n){e.preventDefault();const t=this.props.items[a.dataset.itemId];this.props.itemForkBtnClickHandler(t),A('ui','forkKeyboardShortcut')}}}importFileChangeHandler(t){var e=t.target.files[0],n=new FileReader;n.addEventListener('load',(e)=>{var t;try{t=JSON.parse(e.target.result),v(t),this.props.mergeImportedItems(t)}catch(e){v(e),alert('Oops! Selected file is corrupted. Please select a file that was generated by clicking the "Export" button.')}}),n.readAsText(e,'utf-8')}importBtnClickHandler(t){var e=document.createElement('input');e.type='file',e.style.display='none',e.accept='accept="application/json',document.body.appendChild(e),e.addEventListener('change',this.importFileChangeHandler.bind(this)),e.click(),A('ui','importBtnClicked'),t.preventDefault()}searchInputHandler(t){const e=t.target.value.toLowerCase();e?this.setState({filteredItems:this.state.items.filter((t)=>-1!==t.title.toLowerCase().indexOf(e))}):this.setState({filteredItems:this.state.items}),A('ui','searchInputType')}render({isOpen:e,exportBtnClickHandler:t},{filteredItems:n=this.state.items,items:o=[]}){return Object(pe.h)('div',{id:'js-saved-items-pane',class:`saved-items-pane ${e?'is-open':''}`,onKeyDown:this.keyDownHandler.bind(this),"aria-hidden":e},Object(pe.h)('button',{onClick:this.onCloseIntent.bind(this),class:'btn  saved-items-pane__close-btn',id:'js-saved-items-pane-close-btn',"aria-label":'Close saved creations pane'},'X'),Object(pe.h)('div',{class:'flex flex-v-center',style:'justify-content: space-between;'},Object(pe.h)('h3',null,'My Library (',n.length,')'),Object(pe.h)('div',null,Object(pe.h)('button',{onClick:t,class:'btn--dark hint--bottom-left hint--rounded hint--medium',"aria-label":'Export all your creations into a single importable file.'},'Export'),Object(pe.h)('button',{onClick:this.importBtnClickHandler.bind(this),class:'btn--dark hint--bottom-left hint--rounded hint--medium',"aria-label":'Import your creations. Only the file that you export through the \'Export\' button can be imported.'},'Import'))),Object(pe.h)('input',{autocomplete:'off',type:'search',id:'searchInput',class:'search-input',onInput:this.searchInputHandler.bind(this),placeholder:'Search your creations here...'}),Object(pe.h)('div',{id:'js-saved-items-wrap',class:'saved-items-pane__container'},!n.length&&o.length?oi:null,n.map((e)=>Object(pe.h)(W,{item:e,onClick:this.itemClickHandler.bind(this,e),onForkBtnClick:this.itemForkBtnClickHandler.bind(this,e),onRemoveBtnClick:this.itemRemoveBtnClickHandler.bind(this,e)})),o.length?null:ii))}};const ai=[{url:'https://code.jquery.com/jquery-3.3.1.min.js',label:'jQuery',type:'js'},{url:'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js',label:'Bootstrap 3',type:'js'},{url:'https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js',label:'Bootstrap 4',type:'js'},{url:'https://cdn.jsdelivr.net/npm/foundation-sites@6.5.3/dist/js/foundation.min.js',label:'Foundation',type:'js'},{url:'https://semantic-ui.com/dist/semantic.min.js',label:'Semantic UI',type:'js'},{url:'https://ajax.googleapis.com/ajax/libs/angularjs/1.6.5/angular.min.js',label:'Angular',type:'js'},{url:'https://cdnjs.cloudflare.com/ajax/libs/react/16.8.4/umd/react.production.min.js',label:'React',type:'js'},{url:'https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.8.4/umd/react-dom.production.min.js',label:'React DOM',type:'js'},{url:'https://unpkg.com/vue/dist/vue.min.js',label:'Vue.js',type:'js'},{url:'https://cdnjs.cloudflare.com/ajax/libs/three.js/89/three.min.js',label:'Three.js',type:'js'},{url:'https://d3js.org/d3.v5.min.js',label:'D3',type:'js'},{url:'https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js',label:'Underscore',type:'js'},{url:'https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.min.js',label:'Lodash',type:'js'},{url:'https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js',label:'Greensock TweenMax',type:'js'},{url:'https://cdnjs.cloudflare.com/ajax/libs/uikit/2.27.5/js/uikit.min.js',label:'UIkit 2',type:'js'},{url:'https://cdnjs.cloudflare.com/ajax/libs/uikit/3.1.5/js/uikit.min.js',label:'UIkit 3',type:'js'},{url:'https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/p5.min.js',label:'p5.js',type:'js'},{url:'https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.dom.min.js',label:'p5.js DOM',type:'js'},{url:'https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.sound.min.js',label:'p5.js Sound',type:'js'},{url:'https://unpkg.com/rxjs/bundles/rxjs.umd.min.js',label:'RxJS',type:'js'}],ri=[{url:'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css',label:'Bootstrap 3',type:'css'},{url:'https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css',label:'Bootstrap 4',type:'css'},{url:'https://cdn.jsdelivr.net/npm/foundation-sites@6.5.3/dist/css/foundation.min.css',label:'Foundation',type:'css'},{url:'https://semantic-ui.com/dist/semantic.min.css',label:'Semantic UI',type:'css'},{url:'https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css',label:'Bulma',type:'css'},{url:'https://cdnjs.cloudflare.com/ajax/libs/hint.css/2.5.0/hint.min.css',label:'Hint.css',type:'css'},{url:'https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css',label:'Tailwind.css',type:'css'},{url:'https://cdnjs.cloudflare.com/ajax/libs/uikit/2.27.5/css/uikit.min.css',label:'UIkit 2',type:'css'},{url:'https://cdnjs.cloudflare.com/ajax/libs/uikit/3.1.5/css/uikit.min.css',label:'UIkit 3',type:'css'},{url:'https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css',label:'Animate.css',type:'css'},{url:'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css',label:'FontAwesome 4',type:'css'},{url:'https://use.fontawesome.com/releases/v5.8.2/css/all.css',label:'FontAwesome 5',type:'css'}];let li=class extends pe.Component{componentDidMount(){this.t=this.wrap.querySelector('input,textarea'),this.filter=this.props.filter,this.selectedCallback=this.props.onSelect,setTimeout(()=>{requestIdleCallback(()=>{document.body.appendChild(this.list),this.list.style.position='fixed'})},100),this.t.addEventListener('input',(t)=>this.onInput(t)),this.t.addEventListener('keydown',(t)=>this.onKeyDown(t)),this.t.addEventListener('blur',(t)=>this.closeSuggestions(t))}componentWillUnmount(){this.t.removeEventListener('input',(t)=>this.onInput(t)),this.t.removeEventListener('keydown',(t)=>this.onKeyDown(t)),this.t.removeEventListener('blur',(t)=>this.closeSuggestions(t))}get currentLineNumber(){return this.t.value.substr(0,this.t.selectionStart).split('\n').length}get currentLine(){var e=this.currentLineNumber;return this.t.value.split('\n')[e-1]}listMouseDownHandler(){}closeSuggestions(){this.list.classList.remove('is-open'),this.isShowingSuggestions=!1}getList(e){return fetch('https://api.cdnjs.com/libraries?search='+e).then((e)=>e.json().then((e)=>e.results))}replaceCurrentLine(e){var t=this.t.value.split('\n');t.splice(this.currentLineNumber-1,1,e),this.t.value=t.join('\n')}onInput(){var e=this.currentLine;if(e){if(-1!==e.indexOf('/')||e.match(/https*:\/\//))return;clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.loader.style.display='block',this.getList(e).then((e)=>{if(this.loader.style.display='none',!e.length)return void this.closeSuggestions();this.list.innerHTML='',this.filter&&(e=e.filter(this.filter));for(var t=0;t<Math.min(e.length,10);t++)this.list.innerHTML+=`<li data-url="${e[t].latest}"><a>${e[t].name}</a></li>`;this.isShowingSuggestions=!0,this.textareaBounds=this.t.getBoundingClientRect(),this.list.style.top=this.textareaBounds.bottom+'px',this.list.style.left=this.textareaBounds.left+'px',this.list.style.width=this.textareaBounds.width+'px',this.list.classList.add('is-open')})},500)}}onKeyDown(e){var t;this.isShowingSuggestions&&(27===e.keyCode&&(this.closeSuggestions(),e.stopPropagation()),40===e.keyCode&&this.isShowingSuggestions?(t=this.list.querySelector('.selected'),t?(t.classList.remove('selected'),t.nextElementSibling.classList.add('selected')):this.list.querySelector('li:first-child').classList.add('selected'),this.list.querySelector('.selected').scrollIntoView(!1),e.preventDefault()):38===e.keyCode&&this.isShowingSuggestions?(t=this.list.querySelector('.selected'),t?(t.classList.remove('selected'),t.previousElementSibling.classList.add('selected')):this.list.querySelector('li:first-child').classList.add('selected'),this.list.querySelector('.selected').scrollIntoView(!1),e.preventDefault()):13===e.keyCode&&this.isShowingSuggestions&&(t=this.list.querySelector('.selected'),this.selectSuggestion(t.dataset.url),this.closeSuggestions()))}listMouseDownHandler(e){var t=e.target;t.parentElement.dataset.url&&this.selectSuggestion(t.parentElement.dataset.url)}selectSuggestion(e){this.t.focus(),A('ui','autoSuggestionLibSelected',e),this.selectedCallback?this.selectedCallback.call(null,e):this.replaceCurrentLine(e),this.closeSuggestions()}render(){return Object(pe.h)('div',{class:`btn-group ${this.props.fullWidth?'flex-grow':''}`,ref:(e)=>this.wrap=e},this.props.children,Object(pe.h)('ul',{ref:(e)=>this.list=e,class:'dropdown__menu autocomplete-dropdown',onMouseDown:this.listMouseDownHandler.bind(this)}),Object(pe.h)('div',{ref:(e)=>this.loader=e,class:'loader autocomplete__loader',style:'display:none'}))}};var di=Object(pe.h)('h1',null,'Add Library'),ci=Object(pe.h)('svg',{style:'width: 30px; height: 30px;fill:rgb(255,255,255,0.5)'},Object(pe.h)('use',{xlinkHref:'#search'})),hi=Object(pe.h)('input',{type:'text',id:'externalLibrarySearchInput',class:'full-width',placeholder:'Type here to search libraries'}),pi=Object(pe.h)('div',{class:'tar opacity--70'},Object(pe.h)('small',null,'Powered by cdnjs')),ui=Object(pe.h)('option',{value:''},'-------'),mi=Object(pe.h)('h3',{class:'mb-0'},'JS'),fi=Object(pe.h)('p',{class:'mt-0 help-text'},'Put each library in new line'),gi=Object(pe.h)('p',{style:'font-size: 0.8em;',class:'show-when-extension opacity--70'},'Note: You can load external scripts only from following domains: localhost, https://ajax.googleapis.com, https://code.jquery.com, https://cdnjs.cloudflare.com, https://unpkg.com, https://maxcdn.com, https://cdn77.com, https://maxcdn.bootstrapcdn.com, https://cdn.jsdelivr.net/, https://rawgit.com, https://wzrd.in'),bi=Object(pe.h)('h3',{class:'mb-0'},'CSS'),vi=Object(pe.h)('p',{class:'mt-0 help-text'},'Put each library in new line');let Ci=class extends pe.Component{constructor(e){super(e),this.state={css:e.css||'',js:e.js||''}}onSelectChange(t){const e=t.target;if(e.value){const t=e.selectedOptions[0].dataset.type;'js'===t?this.setState({js:`${this.state.js}\n${e.value}`}):this.setState({css:`${this.state.css}\n${e.value}`}),A('ui','addLibrarySelect',e.selectedOptions[0].label),this.props.onChange({js:this.state.js,css:this.state.css}),e.value=''}}textareaBlurHandler(t,e){const n=t?t.target:e,o=n.dataset.lang;'js'===o?this.setState({js:n.value||''}):this.setState({css:n.value||''}),this.props.onChange({js:this.state.js,css:this.state.css})}suggestionSelectHandler(e){const t=e.match(/\.js$/)?window.externalJsTextarea:window.externalCssTextarea;t.value=`${t.value}\n${e}`,window.externalLibrarySearchInput.value='',this.textareaBlurHandler(null,t)}render(){return Object(pe.h)('div',null,di,Object(pe.h)('div',{class:'flex flex-v-center'},ci,Object(pe.h)(li,{fullWidth:!0,onSelect:this.suggestionSelectHandler.bind(this)},hi)),pi,Object(pe.h)('div',{style:'margin:20px 0;'},'Choose from popular libraries:',' ',Object(pe.h)('select',{name:'',id:'js-add-library-select',onChange:this.onSelectChange.bind(this)},ui,Object(pe.h)('optgroup',{label:'JavaScript Libraries'},ai.map((e)=>Object(pe.h)('option',{"data-type":e.type,value:e.url},e.label))),Object(pe.h)('optgroup',{label:'CSS Libraries'},ri.map((e)=>Object(pe.h)('option',{"data-type":e.type,value:e.url},e.label))))),mi,fi,gi,Object(pe.h)('textarea',{onBlur:this.textareaBlurHandler.bind(this),"data-lang":'js',class:'full-width',id:'externalJsTextarea',cols:'30',rows:'5',value:this.state.js}),bi,vi,Object(pe.h)('textarea',{onBlur:this.textareaBlurHandler.bind(this),"data-lang":'css',class:'full-width',id:'externalCssTextarea',cols:'30',rows:'5',value:this.state.css}))}};const yi={logout(){Xo.a.auth().signOut()},login(e){var t;return'facebook'===e?t=new Xo.a.auth.FacebookAuthProvider:'twitter'===e?t=new Xo.a.auth.TwitterAuthProvider:'google'===e?(t=new Xo.a.auth.GoogleAuthProvider,t.addScope('https://www.googleapis.com/auth/userinfo.profile')):t=new Xo.a.auth.GithubAuthProvider,Xo.a.auth().signInWithPopup(t).then(function(){A('fn','loggedIn',e),window.db.local.set({lastAuthProvider:e})}).catch(function(e){v(e),'auth/account-exists-with-different-credential'===e.code&&alert('You have already signed up with the same email using different social login')})}};var wi=Object(pe.h)('h2',null,'Login / Signup'),Si=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#github-icon'})),ki=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#google-icon'})),Mi=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#fb-icon'})),xi=Object(pe.h)('p',null,'Join a community of 50,000+ Developers');let Hi=class extends pe.Component{login(t){const e=t.target.dataset.authProvider;A('ui','loginProviderClick',e),yi.login(e)}componentDidMount(){window.db.local.get({lastAuthProvider:''},(e)=>{e.lastAuthProvider&&document.body.classList.add(`last-login-${e.lastAuthProvider}`)})}render(){return Object(pe.h)('div',null,wi,Object(pe.h)('div',null,Object(pe.h)('p',null,Object(pe.h)('button',{type:'button',onClick:this.login.bind(this),class:'social-login-btn social-login-btn--github  btn btn-icon btn--big full-width hint--right hint--always',"data-auth-provider":'github',"data-hint":'You logged in with Github last time'},Si,'Login with Github')),Object(pe.h)('p',null,Object(pe.h)('button',{type:'button',onClick:this.login.bind(this),class:'social-login-btn social-login-btn--google  btn btn-icon btn--big full-width hint--right hint--always',"data-auth-provider":'google',"data-hint":'You logged in with Google last time'},ki,'Login with Google')),Object(pe.h)('p',{class:'mb-2'},Object(pe.h)('button',{type:'button',onClick:this.login.bind(this),class:'social-login-btn social-login-btn--facebook  btn btn-icon btn--big full-width hint--right hint--always',"data-auth-provider":'facebook',"data-hint":'You logged in with Facebook last time'},Mi,'Login with Facebook')),xi))}};Xo.a.initializeApp({apiKey:'AIzaSyBl8Dz7ZOE7aP75mipYl2zKdLSRzBU2fFc',authDomain:'web-maker-app.firebaseapp.com',databaseURL:'https://web-maker-app.firebaseio.com',projectId:'web-maker-app',storageBucket:'web-maker-app.appspot.com',messagingSenderId:'560473480645'});var Li=n('7vHL'),_i=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e};(()=>{async function e(){return s?s:(v('Initializing firestore'),s=new Promise((e,t)=>{if(i)return e(i);const n=Xo.a.firestore();return n.enablePersistence({experimentalTabSynchronization:!0}).then(function(){i=Xo.a.firestore(),v('firebase db ready',i),e(i)}).catch(function(e){t(e.code),'failed-precondition'===e.code?(alert('Opening Web Maker web app in multiple tabs isn\'t supported at present and it seems like you already have it opened in another tab. Please use in one tab.'),A('fn','multiTabError')):'unimplemented'===e.code})}),s)}const t=1;var n={get:(e,n)=>{const o={};'string'==typeof e?(o[e]=JSON.parse(window.localStorage.getItem(e)),setTimeout(()=>n(o),t)):(Object.keys(e).forEach((t)=>{const n=window.localStorage.getItem(t);o[t]=void 0===n||null===n?e[t]:JSON.parse(n)}),setTimeout(()=>n(o),t))},set:(e,n)=>{Object.keys(e).forEach((t)=>{window.localStorage.setItem(t,JSON.stringify(e[t]))}),setTimeout(()=>{if(n)return n()},t)},remove:(e,n)=>{window.localStorage.removeItem(e),setTimeout(()=>n(),t)}},i,s;const a=chrome&&chrome.storage?chrome.storage.local:n,r=chrome&&chrome.storage?chrome.storage.sync:n;window.db={getDb:e,getUser:async function(t){const n=await e();return n.doc(`users/${t}`).get().then((e)=>{if(!e.exists)return n.doc(`users/${t}`).set({},{merge:!0});const o=e.data();return _i(window.user,o),o})},getUserLastSeenVersion:async function(){const e=o();return r.get({lastSeenVersion:''},(t)=>{e.resolve(t.lastSeenVersion)}),e.promise},setUserLastSeenVersion:async function(t){if(r.set({lastSeenVersion:t},function(){}),window.user){const n=await e();n.doc(`users/${window.user.uid}`).update({lastSeenVersion:t})}},getSettings:function(e){const t=o();return r.get(e,(e)=>{t.resolve(e)}),t.promise},local:a,sync:r}})();var Ii=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},Ai=Object(pe.h)('p',null,Object(pe.h)('strong',null,'\uD83C\uDF89 New Product!'),' If you like Web Maker, you\'ll probably also like a new product I launched. It\'s the first ever code-golfing game for CSS ->',' ',Object(pe.h)('a',{href:'https://cssbattle.dev',target:'_blank'},'CSSBattle'),'.'),ji=Object(pe.h)('p',null,Object(pe.h)('a',{href:'https://github.com/chinchang/web-maker/issues',target:'_blank',rel:'noopener noreferrer'},'Suggest features or report bugs.')),Bi=Object(pe.h)('a',{href:'https://chrome.google.com/webstore/detail/web-maker/lkfkkhfhhdkiemehlpkgjeojomhpccnh/reviews',target:'_blank',rel:'noopener noreferrer',class:'btn'},'Please rate Web Maker ',Object(pe.h)('span',{class:'star'})),Ei=Object(pe.h)('a',{href:'http://twitter.com/share?url=https://webmaker.app/&text=Web Maker - A blazing fast %26 offline web playground! via @webmakerApp&related=webmakerApp&hashtags=web,editor,chrome,extension',target:'_blank',rel:'noopener noreferrer',class:'btn'},'Share it'),Ti=Object(pe.h)('h1',null,'Whats new?'),Oi=Object(pe.h)(U,null,'Broken syntax highlighting in non-default Preprocessors.'),Fi=Object(pe.h)('li',null,'You can now override settings through query parameters. Currently only',' ',Object(pe.h)('strong',null,'autoPreview'),' and ',Object(pe.h)('strong',null,'isMonacoEditorOn'),' are supported. Example:',' ',Object(pe.h)('code',null,'https://webmaker.app/app?settings=autoPreview:false,isMonacoEditorOn:true')),Vi=Object(pe.h)(U,{type:'bug'},'"Settings" and "Create New" modals breaking on mobile.'),Pi=Object(pe.h)(U,{type:'bug'},'Buggy full-screen option in Files mode. The option is removed till it works correctly with Files mode'),Di=Object(pe.h)(U,{type:'bug'},'File explorer sidebar taking too much width in Files mode.'),Ni=Object(pe.h)(U,{type:'bug'},'SASS/SCSS compiler updated to version 3.6.3 of Libsass.'),Ri=Object(pe.h)(U,{type:'bug'},'JavaScript evaluation failing randomly with errors like const cannot be reassigned.'),Wi=Object(pe.h)(U,{type:'bug'},'Command palette now opens with ',Object(pe.h)('code',null,'F1'),' key instead of',' ',Object(pe.h)('code',null,'Cmd/Ctrl + shift + P')),zi=Object(pe.h)('li',null,'\u2B06\uFE0F Popular libraries updated to latest versions. Thanks',Object(pe.h)(K,{url:'https://github.com/diomed',name:'@diomed'})),Ui=Object(pe.h)('p',null,'Sit tight, because this is going to be some amazing set on updates for you! Read',' ',Object(pe.h)('a',{href:'https://medium.com/web-maker/web-maker-4-0-e8e442b5a2db',target:'_blank',rel:'noopener noreferrer'},'blog post about Web Maker 4.0'),'.'),Ki=Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'\uD83C\uDFE0'),': First of all, Web Maker has a new home -',' ',Object(pe.h)('a',{href:'https://webmaker.app'},'https://webmaker.app'),' \uD83D\uDE00 The old website will continue to run for a month or so, but will eventually start redirecting to the new website. If you have an online account in Web Maker, you need not worry. But if you have some locally saved creations, you should',' ',Object(pe.h)('a',{href:'https://medium.com/web-maker/importing-exporting-your-creations-d92e7de5c3dc',target:'_blank',rel:'noopener noreferrer'},'export them and import'),' ','here.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'\uD83D\uDCC1 Files Mode'),': Hear this - you can now work with files just like you do in your local environment! No more working in just 3 panes. Try creating a new creation. "Files Mode" is in beta and you can currently only save 2 creations in this mode.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'\uD83C\uDFA8 Command Palette'),': We all love this, don\'t we? Taking frequent actions is now much quicker with the all new Command Palette. Hit Ctrl/Command+Shift+P, and give it a spin.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'\uD83D\uDD25 Improved Console'),': Console inspection becomes more powerful. You can view nested objects, arrays and even DOM Elements!'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'\u270F\uFE0F Monaco Editor'),': You can choose to use Monaco instead of CodeMirror editor from the settings. Though this is still an experimental feature and might contain bugs.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'\uD83D\uDC84 Prettier'),': Format your code with everybody\'s favourite',' ',Object(pe.h)('a',{href:'https://prettier.io/',target:'_blank',rel:'noopener noreferrer'},'Prettier'),'.'),Object(pe.h)(U,{type:'ui',label:'Preview dimensions'},'You can see the preview frame dimensions when resizing.'),Object(pe.h)(U,{type:'ui',label:'Settings'},'Settings screen got a complete makeover and now it\'s much easier to find what you are looking for.'),Object(pe.h)(U,{type:'a11y'},'The app is now more accessible than ever. There are significant improvements mainly in the area of keyboard navigation.')),Ji=Object(pe.h)(U,{type:'bug'},'"404 Page not found" showing up in preview window when in detached mode.'),Gi=Object(pe.h)(U,{type:'bug'},'Failing to import local creations when logging in.'),qi=Object(pe.h)('li',null,Object(pe.h)('strong',null,'New Setting'),': Configure if you want to auto-close the tags in HTML. (#347)'),Zi=Object(pe.h)('li',null,Object(pe.h)('strong',null,'Prettier'),': Prettier now works on HTML also! Also the keyboard shortcut has been changed to ',Object(pe.h)('kbd',null,'Ctrl'),' +',' ',Object(pe.h)('kbd',null,'Shift'),' + ',Object(pe.h)('kbd',null,'F'),'.'),Yi=Object(pe.h)('li',null,'No more anonying alert on opening Web Maker in multiple tabs. Thanks team Firebase :) (#340)'),Xi=Object(pe.h)('li',null,Object(pe.h)('strong',null,'\uD83D\uDD25 Web Maker 4.0 is coming!'),' Follow',' ',Object(pe.h)('a',{href:'https://twitter.com/webmakerApp',target:'_blank',rel:'noopener'},'Web Maker on Twitter'),' ','to keep up with all the exciting updates.'),Qi=Object(pe.h)('li',null,Object(pe.h)('strong',null,'Hidden Prettier'),': Selecting code and pressing Shift+Tab now uses Prettier to auto-format. This will improve UX wise in coming versions.'),$i=Object(pe.h)('li',null,Object(pe.h)('strong',null,'New Template'),': Template for Vue.js is available when you start a new creation. Thanks',' ',Object(pe.h)(K,{url:'https://github.com/khamer',name:'@khamer'})),es=Object(pe.h)('li',null,'\u2B06\uFE0F Popular libraries updated to latest versions. Thanks',Object(pe.h)(K,{url:'https://github.com/diomed',name:'@diomed'})),ns=Object(pe.h)('li',null,'\uD83D\uDE80 RxJS added to popular libraries list. Thanks',Object(pe.h)(K,{url:'https://github.com/jpsc',name:'@jpsc'})),os=Object(pe.h)(U,{type:'bug'},'Not able to select libraries twice with mouse click in Add Library modal.'),is=Object(pe.h)(U,{type:'bug'},'Console going outside the viewport on huge logs.'),ss=Object(pe.h)(U,{type:'bug'},'Console dissapearing in detached mode on changing layouts.'),as=Object(pe.h)('li',null,Object(pe.h)('strong',null,'[Dev]'),': Improve',' ',Object(pe.h)('a',{href:'https://github.com/chinchang/web-maker/blob/master/CONTRIBUTING.md',target:'_blank',rel:'noopener'},'contribution guide'),' ','and add issue template on Github.'),rs=Object(pe.h)('li',null,Object(pe.h)('strong',null,'Js13kGames Mode'),': Add image upload option using Pasteboard.co.',' ',Object(pe.h)('a',{href:'https://medium.com/web-maker/js13kgames-jam-with-web-maker-a3389cf2cbb',target:'_blank',rel:'noopener'},'Read more about it here.')),ls=Object(pe.h)('li',null,Object(pe.h)('strong',null,'Kontra.js template'),': Update to latest 4.0.0.'),ds=Object(pe.h)(U,{type:'a11y'},'Fix color contrast for various texts.'),cs=Object(pe.h)(U,{type:'bug'},'Fix external script paths in downloaded zip in Js13KGame mode.'),hs=Object(pe.h)('li',null,Object(pe.h)('strong',null,'\uD83C\uDF89 Js13kGames Mode'),': For all you Js13kGames compo participants out there. Turn it on from Settings.',' ',Object(pe.h)('a',{href:'https://medium.com/web-maker/js13kgames-jam-with-web-maker-a3389cf2cbb',target:'_blank',rel:'noopener'},'Read more about it here.')),ps=Object(pe.h)('li',null,Object(pe.h)('strong',null,'\uD83C\uDF89 Templates'),': Presenting, templates for major libraries and frameworks. Hit the "New" button to explore.'),us=Object(pe.h)(U,{type:'a11y'},'Add missing focus rings around focusable element.'),ms=Object(pe.h)(U,{type:'ui'},'Migrate remaining interface elements to dark theme. Now complete app is in dark theme.'),fs=Object(pe.h)(U,{type:'bug'},'Fix "Save as HTML" and "Take Screenshot" features in Chrome extension.'),gs=Object(pe.h)(U,{type:'a11y'},'Improper links are now buttons with proper focus indication and screen-reader support. Thanks',' ',Object(pe.h)(K,{url:'https://github.com/jpsc',name:'@jpsc'})),bs=Object(pe.h)(U,{type:'bug'},'Auto-complete suggestions are now working.'),vs=Object(pe.h)(U,{type:'bug'},'Fixes resetting pane sizes when opening any popup or console.'),Cs=Object(pe.h)('li',null,Object(pe.h)('strong',null,'[Dev] Tests'),': We now have one running automated test :) More to come. Thanks',' ',Object(pe.h)(K,{url:'https://github.com/DanielRuf',name:'@DanielRuf'})),ys=Object(pe.h)('li',null,Object(pe.h)('strong',null,'\uD83D\uDD25 [Dev] Code Refactor'),': I rewrote Web Maker. Yes, Web Maker\'s codebase has been ported from plain JS to',' ',Object(pe.h)('a',{href:'https://preactjs.com/',target:'_blank',rel:'noopener noreferrer'},'Preact'),'. What does this mean for you as a end-user? This means that now that the code is much smaller, more modular and maintainable. Hence, future features can be developed more rapidly. So fasten your seat belts, and get ready to use loads of new features coming your way in next releases!',Object(pe.h)('br',null),Object(pe.h)('a',{href:'https://medium.com/web-maker/web-maker-is-now-in-preact-85af98be8683',target:'_blank',rel:'noopener noreferrer'},'Read more about this big code refactor'),'.'),ws=Object(pe.h)('li',null,Object(pe.h)('a',{href:'https://p5js.org/',target:'_blank',rel:'noopener noreferrer'},'p5.js'),' ','added to popular JS libraries list. Thanks',' ',Object(pe.h)(K,{url:'https://github.com/nucliweb',name:'@nucliweb'}),'.'),Ss=Object(pe.h)('li',null,Object(pe.h)('strong',null,'\uD83D\uDE80 Loop timeout setting'),': You now have a setting to tweak the maximum timeout of a loop iteration before it\'s marked as infinite loop.'),ks=Object(pe.h)(U,{type:'a11y'},'Modals now have proper keyboard navigation integrated.'),Ms=Object(pe.h)(U,{type:'a11y'},'Color contrast improvements.'),xs=Object(pe.h)('li',null,'\uD83D\uDE80 Popular libraries list updated. Thanks',Object(pe.h)(K,{url:'https://github.com/diomed',name:'@diomed'}),' &',' ',Object(pe.h)(K,{url:'https://github.com/leninalbertolp',name:'@leninalbertolp'})),Hs=Object(pe.h)(U,{type:'bug'},'Modal take up appropriate width instead of spanning full width.'),Ls=Object(pe.h)(U,{type:'bug'},'Fix the "Run" button not refreshing the preview after release 3.0.4.'),_s=Object(pe.h)('li',null,Object(pe.h)('strong',null,'Mobile Support (app only).'),': Make the Web Maker app usable on mobile. This is only for web app as Chrome extensions don\'t run on mobile.'),Is=Object(pe.h)(U,{type:'bug'},'Guarantee code doesn\'t execute when "auto preview" is off.'),As=Object(pe.h)('li',null,'Add link to our new',Object(pe.h)('a',{href:'https://web-maker.slack.com',target:'_blank',rel:'noopener noreferrer'},'Slack channel'),' ','\uD83E\uDD17.'),js=Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix (extension)'),': "Save as HTML" file saves with correct extension.'),Bs=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'3.0.1'),Object(pe.h)('ul',null,Object(pe.h)('li',null,'After months of work, here is Web Maker 3.0.',Object(pe.h)('a',{href:'https://medium.com/web-maker/web-maker-3-0-is-here-f158a40eeaee',target:'_blank',rel:'noopener noreferrer'},' ','Read the blog post about it'),'.'),Object(pe.h)('li',null,'Web Maker is no more just a Chrome extension, it is also available as web app that runs offline just like the extension! Checkout it out ->',Object(pe.h)('a',{href:'https://webmaker.app/app/',target:'_blank',rel:'noopener noreferrer'},'https://webmaker.app/app/'),'.'),Object(pe.h)('li',null,'Now use Web Maker web app on any modern browser (tested with Chrome and Firefox).'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'User Accounts'),' - The much requested user accounts are here. Now maintain your account and store all your creations in the cloud and access them anywhere anytime.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'New layout mode'),' - One more layout mode, that lets you align all the panes vertically.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'No more restriction on scripts (Web app only)'),' - If you are using the web app, there is no more a restriction to load scripts from only specific domains. Load any script!'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Inline scripts (Web app only)'),' - The restriction of writing JavaScript only in JS pane is also removed.'))),Es=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.9.7'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('a',{href:'https://tailwindcss.com/',target:'_blank',rel:'noopener noreferrer'},'Tailwind CSS'),' ','added to popular CSS libraries list. Thanks',' ',Object(pe.h)(K,{url:'https://github.com/diomed',name:'diomed'}),'.'),Object(pe.h)('li',null,'Popular libraries list updated. Thanks',' ',Object(pe.h)(K,{url:'https://github.com/diomed',name:'diomed'}),'.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Dev'),': Bug fixes and code refactoring to make things simple.',' ',Object(pe.h)(K,{url:'https://github.com/iamandrewluca',name:'iamandrewluca'}),' ','.'))),Ts=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.9.6'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),': Fix close buttons not working in notifications and keyboard shortcuts modal.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),': Fix keyboard shortcut to see keyboard shortcuts :) Thanks',Object(pe.h)('a',{href:'https://github.com/ClassicOldSong',target:'_blank',rel:'noopener noreferrer'},'ClassicOldSong'),'.'))),Os=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.9.5'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('a',{href:'https://medium.com/web-maker/release-2-9-5-add-library-search-pane-collapsing-ux-improvements-more-1085216c1301',target:'_blank',rel:'noopener noreferrer'},'Read blog post about this release.')),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Keyboard shortcuts panel'),': Add a list of all keyboard shotcuts. Access with',Object(pe.h)('code',null,' Ctrl/\u2318 + Shift + ?'),' or click keyboard button in footer.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Add external library'),': Better UX for searching third party libraries.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Improvement'),': Code panes now go fullscreen when double-clicked on their headers - which is much more intuitive behavior based on feedback from lot of developers.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Improvement'),': Add',Object(pe.h)('code',null,'allowfullscreen'),' attribute on iframes. Thanks',Object(pe.h)('a',{href:'https://github.com/ClassicOldSong',target:'_blank',rel:'noopener noreferrer'},'ClassicOldSong'),'.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Stop screenlog.js from showing up in the exported HTML.'),Object(pe.h)('li',null,'Popular external libraries list updated. Thanks',Object(pe.h)('a',{href:'https://github.com/jlapitan',target:'_blank',rel:'noopener noreferrer'},'jlapitan'),'.'))),Fs=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.9.4'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Improvement'),': Atomic CSS (Atomizer) has been updated to latest version. Now you can do things like psuedo elements. Learn More.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Logging circular objects is now possible. It won\'t show in the Web Maker console, but will show fine in browser\'s console.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Console\'s z-index issue has been fixed.'))),Vs=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.9.3'),Object(pe.h)('ul',null,Object(pe.h)('li',null,'Choose the save location while exporting your saved creations. Now easily sync them to your Dropbox or any cloud storage.'),Object(pe.h)('li',null,'All modals inside the app now have a close button.'),Object(pe.h)('li',null,'Checkbox that showed on clicking a boolean value is now removed. Thanks',Object(pe.h)('a',{href:'https://github.com/gauravmuk',target:'_blank',rel:'noopener noreferrer'},'Gaurav Nanda'),'.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Screenshots on retina device are now correct. Thanks',Object(pe.h)('a',{href:'https://github.com/AshBardhan',target:'_blank',rel:'noopener noreferrer'},'Ashish Bardhan'),'.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Double console log in detached mode fixed.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Console.clear now works in detached mode too.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - DOCTYPE added in preview.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Typo correction in README. Thanks',Object(pe.h)('a',{href:'https://github.com/AdilMah',target:'_blank',rel:'noopener noreferrer'},'Adil Mahmood'),'.'),Object(pe.h)('li',null,'gstatic.com is available to load external JavaScripts from.'),Object(pe.h)('li',null,'Popular libraries list updated. Thanks',Object(pe.h)('a',{href:'https://github.com/diomed',target:'_blank',rel:'noopener noreferrer'},'diomed'),'.'),Object(pe.h)('li',null,'Added',Object(pe.h)('a',{href:'https://github.com/chinchang/web-maker/blob/master/CONTRIBUTING.md',target:'_blank',rel:'noopener noreferrer'},'contribution guidelines'),' ','in the Github repository.'))),Ps=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.9.2'),Object(pe.h)('ul',null,Object(pe.h)('li',null,'Minor bug fixes.'))),Ds=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.9.1'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('a',{href:'https://medium.com/web-maker/v2-9-lots-of-goodies-bd1e939571f6',target:'_blank',rel:'noopener noreferrer'},'Read blog post about last release.')),Object(pe.h)('li',null,'Use Ctrl/Cmd+D to select next occurence of matching selection.'),Object(pe.h)('li',null,'Improve onboard experience.'))),Ns=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.9.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('a',{href:'https://medium.com/web-maker/v2-9-lots-of-goodies-bd1e939571f6',target:'_blank',rel:'noopener noreferrer'},'Read blog post about this release.')),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Detached Preview'),' - Yes, you read that correct! You can now detach your preview and send it to your secondary monitor.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Find & Replace'),' - Long awaited, now its there. Ctrl/Cmd+f to find and add Alt to replace.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Atomic CSS (Atomizer) configurations'),' - Add custom config for Atomic CSS.',Object(pe.h)('a',{href:'https://github.com/acss-io/atomizer#api',target:'_blank',rel:'noopener noreferrer'},'Read more'),'.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Light mode'),' - This new setting makes Web Maker drop some heavy effects like blur etc to gain more performance. Thanks',Object(pe.h)('a',{href:'https://github.com/iamandrewluca',target:'_blank',rel:'noopener noreferrer'},'Andrew'),'.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Preserve logs setting'),' - Choose whether or not to preserve logs across preview refreshes. Thanks',Object(pe.h)('a',{href:'https://github.com/BasitAli',target:'_blank',rel:'noopener noreferrer'},'Basit'),'.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Line wrap setting'),' - As the name says.'),Object(pe.h)('li',null,'Semantic UI added to popular libraries.'),Object(pe.h)('li',null,'Bootstrap, Vue, UI-Kit and more updated to latest versions in popular libraries.'),Object(pe.h)('li',null,'UX improvements in settings UI'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Trigger preview refresh anytime with Ctrl/\u2318 + Shift + 5. Even with auto-preview on.'))),Rs=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.8.1'),Object(pe.h)('ul',null,Object(pe.h)('li',null,'Vue.js & UIKit version updated to latest version in \'Add Library\' list.'),Object(pe.h)('li',null,'UTF-8 charset added to preview HTML to support universal characters.'))),Ws=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.8.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('a',{href:'https://medium.com/web-maker/release-v2-8-is-out-f44e6ea5d9c4',target:'_blank',rel:'noopener noreferrer'},'Read blog post about this release.')),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Auto Save'),' - Your creations now auto-save after your first manual save. This is configurable from settings.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Base2Tone-Meadow Editor Theme'),' - First user contributed theme. Thanks to Diomed.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Use System Fonts'),' - You can now use any of your existing system fonts in the editor!'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Matching Tag Highlight'),' - Cursor over any HTML tag would highlight the matching pair tag.'),Object(pe.h)('li',null,'Auto-completion suggestion can now be switched off from settings.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Improvement'),' - Stop white flicker in editor when the app opens.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Add Babel Polyfill to enable use of next-gen built-ins like Promise or WeakMap.'),Object(pe.h)('li',null,'Vue.js version updated to 2.4.0 in popular library list.'),Object(pe.h)('li',null,'Downloads permission is optional. Asked only when you take screenshot.'))),zs=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.7.2'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'External Libraries'),' - Add Foundation.js and update UIKit 3 to latest beta.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'rawgit.com'),' &',Object(pe.h)('strong',null,'wzrd.in'),' domains are now allowed for loading external libraries from.'),Object(pe.h)('li',null,'Minor booting speed improvements'))),Us=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.7.1'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Framer.js support'),' - You can now load the latest framer.js library from',Object(pe.h)('a',{href:'https://builds.framerjs.com/',target:'_blank',rel:'noopener noreferrer'},'framer builds page'),' ','and start coding framer prototypes.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),': Edit on CodePen is back in action.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),': Autocompletion menu doesn\'t show on cut and paste now.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),': Updated & fixed urls of some common external libraries to latest versions. UIKit3 & Bootstrap 4\u03B1 are now in the list.'),Object(pe.h)('li',null,'Preprocessor selector are now more accessible.'))),Ks=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.7.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Fork any creation!'),': Now you can fork any existing creation of yours to start a new work based on it. One big use case of this feature is "Templates"!',Object(pe.h)('a',{target:'_blank',rel:'noopener noreferrer',href:'https://kushagragour.in/blog/2017/05/web-maker-fork-templates/?utm_source=webmakerapp&utm_medium=referral'},'Read more about it'),'.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Fonts \uD83D\uDE0D '),': Super-awesome 4 fonts (mostly with ligature support) now available to choose from. Fira Code is the default font now.'),Object(pe.h)('li',null,'Updated most used external libraries to latest versions.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),': Add missing Bootstrap JS file to most used external libraries list.'),Object(pe.h)('li',null,'Several other minor bugfixes and improvements to make Web Maker awesome!'),Object(pe.h)('li',null,'Great news to share with you - Web Maker has been featured on the Chrome Webstore homepage! Thanks for all the love :)'))),Js=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.6.1'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),': Emojis vanishing while exporting to Codepen has been fixed.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),':',Object(pe.h)('code',null,'console.clear()'),' now doesn\'t error and clears the inbuilt console.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),': External libraries added to the creation are exported as well to Codepen.'))),Gs=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.6.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'The "Console"'),': The most awaited feature is here! There is now an inbuilt console to see your logs, errors and for quickly evaluating JavaScript code inside your preview. Enjoy! I also a',Object(pe.h)('a',{href:'https://kushagragour.in/blog/2017/05/web-maker-console-is-here/?utm_source=webmakerapp&utm_medium=referral',target:'_blank',rel:'noopener noreferrer'},'blog post about it'),'.'),Object(pe.h)('li',null,'Number slider which popped on clicking any number in the code has been removed due to poor user experience.'),Object(pe.h)('li',null,'Minor usability improvements.'))),qs=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.5.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Atomic CSS'),': Use can now use Atomic CSS(ACSS) in your work!',Object(pe.h)('a',{href:'https://acss.io/',target:'_blank',rel:'noopener noreferrer'},'Read more about it here'),'.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Search your saved creations'),': Easily search through all your saved creations by title.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Configurable Auto-preview'),' - You can turn off the auto preview in settings if you don\'t want the preview to update as you type.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Configurable refresh on resize'),' - You can configure whether you want the preview to refresh when you resize the preview panel.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Fix indentation',Object(pe.h)('a',{href:'https://github.com/chinchang/web-maker/issues/104',target:'_blank',rel:'noopener noreferrer'},'issue'),' ','with custom indentation size.'))),Zs=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.4.2'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Improved infinite loop protection'),': Infinite loop protection is now faster and more reliable. And works without the need of Escodegen. Thanks to Ariya Hidayat!'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Default parameters not working in JavaScript is fixed.'))),Ys=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.4.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Import/Export'),': Your creations are most important. Now export all your creations into a single file as a backup that can be imported anytime & anywhere.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Editor themes'),': You have been heard. Now you can choose from a huge list of wonderful editor themes!'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Identation settings'),': Not a spaces fan? Switch to tabs and set your indentation size.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Vim key bindings'),': Rejoice Vim lovers!'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Code blast'),': Why don\'t you try coding with this switched on from the settings? Go on...'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Important'),': Due to security policy changes from Chrome 57 onwards, Web Maker now allows loading external JavaScript libraries only from certain whitelisted domains (localhost, https://ajax.googleapis.com, https://code.jquery.com, https://cdnjs.cloudflare.com, https://unpkg.com, https://maxcdn.com, https://cdn77.com, https://maxcdn.bootstrapcdn.com, https://cdn.jsdelivr.net/)'),Object(pe.h)('li',null,'Save button now highlights when you have unsaved changes.'),Object(pe.h)('li',null,'Jade is now called Pug. Just a name change.'))),Xs=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.3.2'),Object(pe.h)('ul',null,Object(pe.h)('li',null,'Update Babel to support latest and coolest ES6 features.'),Object(pe.h)('li',null,'Improve onboarding experience at first install.'))),Qs=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.3.1'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Splitting of code and preview panes is remembered by the editor.'),Object(pe.h)('li',null,'Title of the creation is used for the file name when saving as HTML.'))),$s=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.3.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Add Library Autocompletion'),' - Just start typing the name of library and you\'ll be shown matching libraries from cdnjs.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Preview Screenshot Capture'),' - Want to grab a nice screenshot of your creation. You have it! Click and capture.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Auto Indent Code'),' - Select your code and hit Shift-Tab to auto-indent it!'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Keyboard Navigation in Saved List'),' - Now select your creation using arrow keys and hit ENTER to open it.'),Object(pe.h)('li',null,'Highlight active line in code panes.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Fix in generated title of new creation.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - HTML autocompletion is manual triggered now with Ctrl+Space.'))),ea=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.2.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Code Autocompletion'),' - See code suggestions while you type!'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Full Screen Preview'),' - Checkout your creation in a full-screen layout.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'SASS'),' - SASS support added for CSS.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Faster CSS update'),' - Preview updates instantly without refresh when just CSS is changed.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Indentation fixed while going on new line.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Works even in Chrome Canary now. Though libraries can be added only through CDNs.'))),ta=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.1.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'TypeScript'),' - Now you can code in TypeScript too!'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Stylus Preprocessor'),' - Stylus supported adding for CSS.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Code Folding'),' - Collapse large code blocks for easy editing.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Bugfix'),' - Support JSX in JavaScript.'),Object(pe.h)('li',null,'Better onboarding for first time users.'))),na=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'2.0.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Save and Load'),' - Long pending and super-useful, now you can save your creations and resume them anytime later.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Insert JS & CSS'),' - Load popular JavaScript & CSS libraries in your work without writing any code.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Collapsed Panes'),' - Collapse/uncollapse code panes with a single click. Your pane configuration is even saved with every creation!'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Quick color & number change'),' - Click on any color or number and experiment with quick values using a slider.'),Object(pe.h)('li',null,Object(pe.h)('strong',null,'Linting'),' - See your code errors right where you are coding.'),Object(pe.h)('li',null,'No more browser hang due to infinite loops!'))),oa=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'1.7.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('strong',null,'Preprocessors!'),' - Enjoy a whole list of preprocessors for HTML(Jade & markdown), CSS(SCSS & LESS) and JavaScript(CoffeeScript & Babel).'),Object(pe.h)('li',null,'More awesome font for code.'))),ia=Object(pe.h)('div',{class:'notification'},Object(pe.h)('span',{class:'notification__version'},'1.6.0'),Object(pe.h)('ul',null,Object(pe.h)('li',null,'You can now configure Web-Maker to not replace new tab page from the settings. It is always accessible from the icon in the top-right.'),Object(pe.h)('li',null,'Download current code as HTML file with Ctrl/\u2318 + S keyboard shortcut.'),Object(pe.h)('li',null,'New notifications panel added so you are always aware of the new changes in Web-Maker.')));const sa=['3024-day','3024-night','abcdef','ambiance','base2tone-meadow-dark','base16-dark','base16-light','bespin','blackboard','cobalt','colorforth','dracula','duotone-dark','duotone-light','eclipse','elegant','erlang-dark','hopscotch','icecoder','isotope','lesser-dark','liquibyte','material','mbo','mdn-like','midnight','monokai','neat','neo','night','panda-syntax','paraiso-dark','paraiso-light','pastel-on-dark','railscasts','rubyblue','seti','solarized dark','solarized light','the-matrix','tomorrow-night-bright','tomorrow-night-eighties','ttcn','twilight','vibrant-ink','xq-dark','xq-light','yeti','zenburn'];var aa=Object(pe.h)('span',{"aria-hidden":'true',class:'check-switch__toggle'});const ra='tab-panel-';let la=class extends pe.Component{constructor(e){super(e),this.state={selectedTab:0},this.switchTab=this.switchTab.bind(this)}isSelected(e){return this.state.selectedTab===e}switchTab(e){this.setState({selectedTab:e}),this.tabListEl.querySelectorAll('[role=tab]')[e].focus(),this.props.onChange&&this.props.onChange(this.state.selectedTab)}keyUpHandler(t){let{selectedTab:e}=this.state;'ArrowLeft'===t.key||'ArrowUp'===t.key?(e--,e=0>e?this.props.children.length-1:e,this.switchTab(e),t.preventDefault()):('ArrowRight'===t.key||'ArrowDown'===t.key)&&(e++,e%=this.props.children.length,this.switchTab(e),t.preventDefault())}render(){const e=this.props.children;return Object(pe.h)('div',{class:`tabs ${this.props.horizontal?'tabs--horizontal':''}`},Object(pe.h)('div',{class:'tabs__tablist',role:'tablist',ref:(e)=>this.tabListEl=e},e.map((e,t)=>Object(pe.h)(X,{isSelected:this.isSelected(t),label:e.props.label,onKeyUp:this.keyUpHandler.bind(this),onClick:()=>this.switchTab(t)}))),Object(pe.h)('div',{class:'tabs__tabpanel-wrap'},e.map((e,t)=>this.state.selectedTab===t?e:null)))}};var da=Object(pe.h)('h1',null,'Settings'),ca=Object(pe.h)(ee,null,'Loads the last open creation when app starts'),ha=Object(pe.h)(T,null),pa=Object(pe.h)(ee,null,'Switch to lighter version for better performance. Removes things like blur etc.'),ua=Object(pe.h)(T,null),ma=Object(pe.h)(ee,null,'Refreshes the preview as you code. Otherwise use the \'Run\' button'),fa=Object(pe.h)(T,null),ba=Object(pe.h)(ee,null,'Auto-save keeps saving your code at regular intervals after you hit save manually the first time'),va=Object(pe.h)(T,null),Ca=Object(pe.h)(ee,null,'Preview will refresh when you resize the preview pane'),ya=Object(pe.h)(T,null),wa=Object(pe.h)(ee,null,'Turning this on will start showing Web Maker in every new tab you open'),Sa=Object(pe.h)(T,null),ka=Object(pe.h)(ee,null,'Preserves the console logs across your preview refreshes'),Ma=Object(pe.h)(T,null),xa=Object(pe.h)('datalist',{id:'indentationSizeList'},Object(pe.h)('option',null,'1'),Object(pe.h)('option',null,'2'),Object(pe.h)('option',null,'3'),Object(pe.h)('option',null,'4'),Object(pe.h)('option',null,'5'),Object(pe.h)('option',null,'6'),Object(pe.h)('option',null,'7')),Ha=Object(pe.h)(ee,null,'(Experimental) Switches from CodeMirror to Monaco. Many other settings might not be available in Monaco.'),La=Object(pe.h)(T,null),_a=Object(pe.h)('span',null,'Default Preprocessors'),Ia=Object(pe.h)('option',{value:'html'},'HTML'),Aa=Object(pe.h)('option',{value:'markdown'},'Markdown'),ja=Object(pe.h)('option',{value:'jade'},'Pug'),Ba=Object(pe.h)('option',{value:'css'},'CSS'),Ea=Object(pe.h)('option',{value:'scss'},'SCSS'),Ta=Object(pe.h)('option',{value:'sass'},'SASS'),Oa=Object(pe.h)('option',{value:'less'},'LESS'),Fa=Object(pe.h)('option',{value:'stylus'},'Stylus'),Va=Object(pe.h)('option',{value:'acss'},'Atomic CSS'),Pa=Object(pe.h)('option',{value:'js'},'JS'),Da=Object(pe.h)('option',{value:'coffee'},'CoffeeScript'),Na=Object(pe.h)('option',{value:'es6'},'ES6 (Babel)'),Ra=Object(pe.h)('option',{value:'typescript'},'TypeScript'),Wa=Object(pe.h)(T,null),za=Object(pe.h)(T,null),Ua=Object(pe.h)('option',{value:'FiraCode'},'Fira Code'),Ka=Object(pe.h)('option',{value:'Inconsolata'},'Inconsolata'),Ja=Object(pe.h)('option',{value:'Monoid'},'Monoid'),Ga=Object(pe.h)('option',{value:'FixedSys'},'FixedSys'),qa=Object(pe.h)('option',{disabled:'disabled'},'----'),Za=Object(pe.h)('option',{value:'other'},'Other font from system'),Ya=Object(pe.h)(T,null),Xa=Object(pe.h)(T,null),Qa=Object(pe.h)(T,null),$a=Object(pe.h)(T,null),er=Object(pe.h)(T,null),tr=Object(pe.h)(ee,null,'Enjoy wonderful particle blasts while you type'),nr=Object(pe.h)(T,null),or=Object(pe.h)(ee,null,'Make the app ready to build some games for',' ',Object(pe.h)('a',{href:'https://js13kgames.com/',target:'_blank',rel:'noopener'},'Js13kGames'),'.'),ir=Object(pe.h)(ee,null,'Once you stop typing, the preview waits for this much time before getting updated. Too low value might choke your browser!'),sr=Object(pe.h)(T,null),ar=Object(pe.h)(ee,null,'If any loop iteration takes more than the defined time, it is detected as a potential infinite loop and further iterations are stopped.');let rr=class extends pe.Component{updateSetting(t,e){const n='checkbox'===t.target.type?t.target.checked:t.target.value;this.props.onChange(e,n)}shouldComponentUpdate(){return!0}render(){const{prefs:e}=this.props;return Object(pe.h)('div',null,da,Object(pe.h)(la,null,Object(pe.h)(Y,{label:'General'},Object(pe.h)(Q,{label:'Preserve last written code',pref:e.preserveLastCode,onChange:(t)=>this.updateSetting(t,'preserveLastCode')}),ca,ha,Object(pe.h)(Q,{label:'Fast/light version',pref:e.lightVersion,onChange:(t)=>this.updateSetting(t,'lightVersion')}),pa,ua,Object(pe.h)(Q,{label:'Auto-preview',pref:e.autoPreview,onChange:(t)=>this.updateSetting(t,'autoPreview')}),ma,fa,Object(pe.h)(Q,{label:'Auto-save',pref:e.autoSave,onChange:(t)=>this.updateSetting(t,'autoSave')}),ba,va,Object(pe.h)(Q,{label:'Refresh preview on resize',pref:e.refreshOnResize,onChange:(t)=>this.updateSetting(t,'refreshOnResize')}),Ca,Object(pe.h)('div',{class:'show-when-extension'},ya,Object(pe.h)(Q,{label:'Replace new tab page',pref:e.replaceNewTab,onChange:(t)=>this.updateSetting(t,'replaceNewTab'),showWhenExtension:!0}),wa),Sa,Object(pe.h)(Q,{label:'Preserve console logs',pref:e.preserveConsoleLogs,onChange:(t)=>this.updateSetting(t,'preserveConsoleLogs')}),ka),Object(pe.h)(Y,{label:'Indentation'},Object(pe.h)('div',{class:'line'},Object(pe.h)('div',null,Object(pe.h)('label',null,Object(pe.h)('input',{type:'radio',name:'indentation',value:'spaces',checked:'spaces'===e.indentWith,onChange:(t)=>this.updateSetting(t,'indentWith')}),' ','Spaces'),Object(pe.h)('label',{class:'ml-1'},Object(pe.h)('input',{type:'radio',name:'indentation',value:'tabs',checked:'tabs'===e.indentWith,onChange:(t)=>this.updateSetting(t,'indentWith')}),' ','Tabs'))),Ma,Object(pe.h)('label',{class:'line',title:''},'Indentation Size',Object(pe.h)('div',null,Object(pe.h)('input',{type:'range',class:'va-m ml-1',value:e.indentSize,min:'1',max:'7',list:'indentationSizeList',onChange:(t)=>this.updateSetting(t,'indentSize')}),Object(pe.h)('span',{id:'indentationSizeValueEl'},e.indentSize),xa))),Object(pe.h)(Y,{label:'Editor'},Object(pe.h)('div',null,Object(pe.h)('div',null,Object(pe.h)(Q,{title:'Use experimental Monaco editor',label:'Use Monaco Editor',pref:e.isMonacoEditorOn,onChange:(t)=>this.updateSetting(t,'isMonacoEditorOn')}),Ha,La,Object(pe.h)('div',{class:'line'},_a,Object(pe.h)('div',{class:'flex fxw-w'},Object(pe.h)('select',{"aria-label":'Default HTML preprocessor',style:'flex:1;margin-left:20px',value:e.htmlMode,onChange:(t)=>this.updateSetting(t,'htmlMode')},Ia,Aa,ja),Object(pe.h)('select',{"aria-label":'Default CSS preprocessor',style:'flex:1;margin-left:20px',value:e.cssMode,onChange:(t)=>this.updateSetting(t,'cssMode')},Ba,Ea,Ta,Oa,Fa,Va),Object(pe.h)('select',{"aria-label":'Default JavaScript preprocessor',style:'flex:1;margin-left:20px',value:e.jsMode,onChange:(t)=>this.updateSetting(t,'jsMode')},Pa,Da,Na,Ra))),Wa,Object(pe.h)('label',{class:'line'},'Theme',Object(pe.h)('div',null,Object(pe.h)('select',{value:e.editorTheme,onChange:(t)=>this.updateSetting(t,'editorTheme')},sa.map((e)=>Object(pe.h)('option',{value:e},e))))),za,Object(pe.h)('label',{class:'line'},'Font',Object(pe.h)('div',null,Object(pe.h)('select',{value:e.editorFont,onChange:(t)=>this.updateSetting(t,'editorFont')},Ua,Ka,Ja,Ga,qa,Za),'other'===e.editorFont&&Object(pe.h)('input',{style:'margin-left:20px',id:'customEditorFontInput',type:'text',value:e.editorCustomFont,placeholder:'Custom font name here',onChange:(t)=>this.updateSetting(t,'editorCustomFont')}))),Ya,Object(pe.h)('label',{class:'line'},'Font Size',Object(pe.h)('div',null,Object(pe.h)('input',{style:'width:70px',type:'number',value:e.fontSize,onChange:(t)=>this.updateSetting(t,'fontSize')}),' ','px')),Xa,Object(pe.h)('div',{class:'line'},'Key bindings',Object(pe.h)('div',null,Object(pe.h)('label',{class:'ml-1'},Object(pe.h)('input',{type:'radio',name:'keymap',value:'sublime',checked:'sublime'===e.keymap,onChange:(t)=>this.updateSetting(t,'keymap')}),' ','Sublime'),Object(pe.h)('label',{class:'ml-1'},Object(pe.h)('input',{type:'radio',name:'keymap',value:'vim',checked:'vim'===e.keymap,onChange:(t)=>this.updateSetting(t,'keymap')}),' ','Vim')))),Qa,Object(pe.h)('div',{class:'flex-grow'},Object(pe.h)(Q,{title:'Toggle wrapping of long sentences onto new line',label:'Line wrap',pref:e.lineWrap,onChange:(t)=>this.updateSetting(t,'lineWrap')}),$a,Object(pe.h)(Q,{title:'Add the closing tag automatically on seeing an opening tag in HTML',label:'Auto-close tags',pref:e.autoCloseTags,onChange:(t)=>this.updateSetting(t,'autoCloseTags')}),er,Object(pe.h)(Q,{title:'Turns on the auto-completion suggestions as you type',label:'Auto-complete suggestions',pref:e.autoComplete,onChange:(t)=>this.updateSetting(t,'autoComplete')})))),Object(pe.h)(Y,{label:'Fun'},Object(pe.h)(Q,{label:'Code blast!',pref:e.isCodeBlastOn,onChange:(t)=>this.updateSetting(t,'isCodeBlastOn')}),tr,nr,Object(pe.h)(Q,{label:'Js13kGames Mode',pref:e.isJs13kModeOn,onChange:(t)=>this.updateSetting(t,'isJs13kModeOn')}),or),Object(pe.h)(Y,{label:'Advanced'},Object(pe.h)('div',null,Object(pe.h)('label',{class:'line'},'Preview refresh wait time',Object(pe.h)('div',null,Object(pe.h)('input',{type:'number',style:'width:120px',value:e.previewDelay,onChange:(t)=>this.updateSetting(t,'previewDelay')}),' ','ms')),ir),sr,Object(pe.h)('div',null,Object(pe.h)('label',{class:'line'},'Maximum time allowed in a loop iteration',Object(pe.h)('div',null,Object(pe.h)('input',{type:'number',style:'width:120px',value:e.infiniteLoopTimeout,onChange:(t)=>this.updateSetting(t,'infiniteLoopTimeout')}),' ','ms')),ar))))}};n('zKjx');const lr='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 24 24\'%3E%3Cpath fill=\'%23ccc\' d=\'M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z\'/%3E%3C/svg%3E';var dr=Object(pe.h)('div',{class:'tac'},Object(pe.h)('h1',null,'Support the Developer'),Object(pe.h)('p',null,'Hi,',' ',Object(pe.h)('a',{href:'https://kushagragour.in',target:'_blank',rel:'noopener noreferrer'},'Kushagra'),' ','here! Web Maker is a free and open-source project. To keep myself motivated for working on such open-source and free',' ',Object(pe.h)('a',{href:'https://kushagragour.in/lab/',target:'_blank',rel:'noopener noreferrer'},'side projects'),', I am accepting donations. Your pledge, no matter how small, will act as an appreciation towards my work and keep me going forward making Web Maker more awesome\uD83D\uDD25. So please consider donating. \uD83D\uDE4F\uD83C\uDFFC (could be as small as $1/month).'),Object(pe.h)('div',{class:'flex flex-h-center',id:'onboardDontShowInTabOptionBtn',"d-click":'onDontShowInTabClicked'},Object(pe.h)('a',{class:'onboard-selection',href:'https://patreon.com/kushagra',target:'_blank',rel:'noopener noreferrer',"aria-label":'Make a monthly pledge on Patreon'},Object(pe.h)('img',{src:'assets/patreon.png',height:'60',alt:'Become a patron image'}),Object(pe.h)('h3',{class:'onboard-selection-text'},'Make a monthly pledge on Patreon'))),Object(pe.h)('a',{href:'https://www.paypal.me/kushagragour',target:'_blank',rel:'noopener noreferrer',"aria-label":'Make a one time donation on Paypal'},'Or, make a one time donation')),cr=Object(pe.h)('h1',null,'Keyboard Shortcuts'),hr=Object(pe.h)('h2',null,'Global'),pr=Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl/\u2318 + Shift + 5'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Refresh preview')),ur=Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl/\u2318 + S'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Save current creations')),mr=Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl/\u2318 + O'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Open list of saved creations')),fr=Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl + L'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Clear console (works when console input is focused)')),gr=Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Esc'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Close saved creations panel & modals')),br=Object(pe.h)('div',{class:'ml-2'},Object(pe.h)('h2',null,'Editor'),Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl/\u2318 + F'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Find')),Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl/\u2318 + G'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Select next match')),Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl/\u2318 + Shift + G'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Select previous match')),Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl/\u2318 + Opt/Alt + F'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Find & replace')),Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Shift + Tab'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Realign code')),Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl/\u2318 + ]'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Indent code right')),Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl/\u2318 + ['),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Indent code left')),Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Tab'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Emmet code completion',' ',Object(pe.h)('a',{href:'https://emmet.io/',target:'_blank',rel:'noopener noreferrer'},'Read more'))),Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl/\u2318 + /'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Single line comment')),Object(pe.h)('p',null,Object(pe.h)('span',{class:'kbd-shortcut__keys'},'Ctrl + Shift + F'),Object(pe.h)('span',{class:'kbd-shortcut__details'},'Run Prettier'))),vr=Object(pe.h)('h2',null,'Import your creations in your account'),Cr=Object(pe.h)('p',null,'It\'s okay if you don\'t want to. You can simply logout and access them anytime on this browser.'),yr=Object(pe.h)('div',{class:'alerts-container',id:'js-alerts-container'});let wr=class extends pe.Component{shouldComponentUpdate(){return!1}render(){return yr}};var Sr=Object(pe.h)('div',{class:'web-maker-with-tag'},'Web Maker'),kr=Object(pe.h)('p',null,'Made with ',Object(pe.h)('span',{style:'margin-right: 8px;'},'\uD83D\uDC96'),'&',' ',Object(pe.h)('span',{style:'margin-right: 8px;'},' \uD83D\uDE4C'),' by',' ',Object(pe.h)('a',{href:'https://twitter.com/chinchang457',target:'_blank',rel:'noopener noreferrer'},'Kushagra Gour')),Mr=Object(pe.h)('p',null,Object(pe.h)('a',{href:'/docs',target:'_blank',rel:'noopener noreferrer'},'Read the documentation'),'.'),xr=Object(pe.h)('p',null,'Tweet out your feature requests, comments & suggestions to',' ',Object(pe.h)('a',{target:'_blank',rel:'noopener noreferrer',href:'https://twitter.com/webmakerApp'},'@webmakerApp'),'.'),Hr=Object(pe.h)('p',{class:'show-when-extension'},'Like this extension? Please',' ',Object(pe.h)('a',{href:'https://chrome.google.com/webstore/detail/web-maker/lkfkkhfhhdkiemehlpkgjeojomhpccnh/reviews',target:'_blank',rel:'noopener noreferrer'},'rate it here'),'.'),Lr=Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#gift-icon'})),_r=Object(pe.h)('a',{"aria-label":'Rate Web Maker',href:'https://chrome.google.com/webstore/detail/web-maker/lkfkkhfhhdkiemehlpkgjeojomhpccnh/reviews',target:'_blank',rel:'noopener noreferrer',class:'btn btn-icon'},Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#heart-icon'})),'Review Web Maker'),Ir=Object(pe.h)('a',{"aria-label":'Chat',href:'https://spectrum.chat/web-maker',target:'_blank',rel:'noopener noreferrer',class:'btn btn-icon'},Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#chat-icon'})),'Chat'),Ar=Object(pe.h)('a',{"aria-label":'Report a Bug',href:'https://github.com/chinchang/web-maker/issues',target:'_blank',rel:'noopener noreferrer',class:'btn btn-icon'},Object(pe.h)('svg',null,Object(pe.h)('use',{xlinkHref:'#bug-icon'})),'Report a bug'),jr=Object(pe.h)('p',null,Object(pe.h)('details',null,Object(pe.h)('summary',null,Object(pe.h)('h3',{class:'d-i'},'See awesome libraries used')),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('a',{target:'_blank',rel:'noopener noreferrer',href:'https://kushagragour.in/lab/hint/'},'Hint.css'),' ','&',Object(pe.h)('a',{target:'_blank',rel:'noopener noreferrer',href:'https://github.com/chinchang/screenlog.js'},' ','Screenlog.js'),' ','- By me :)'),Object(pe.h)('li',null,Object(pe.h)('a',{target:'_blank',rel:'noopener noreferrer',href:'https://nathancahill.github.io/Split.js/'},'Split.js'),' ','- Nathan Cahill'),Object(pe.h)('li',null,Object(pe.h)('a',{target:'_blank',rel:'noopener noreferrer',href:'https://codemirror.net/'},'Codemirror'),' ','- Marijn Haverbeke'),Object(pe.h)('li',null,Object(pe.h)('a',{target:'_blank',rel:'noopener noreferrer',href:'https://emmet.io/'},'Emmet'),' ','- Sergey Chikuyonok'),Object(pe.h)('li',null,Object(pe.h)('a',{target:'_blank',rel:'noopener noreferrer',href:'http://esprima.org/'},'Esprima'),' ','- Ariya Hidayat'),Object(pe.h)('li',null,Object(pe.h)('a',{target:'_blank',rel:'noopener noreferrer',href:'https://github.com/enjalot/Inlet'},'Inlet'),' ','- Ian Johnson'),Object(pe.h)('li',null,Object(pe.h)('a',{target:'_blank',rel:'noopener noreferrer',href:'/'},'Web Maker!'),' ','- whhat!')))),Br=Object(pe.h)('p',null,Object(pe.h)('h3',null,'License'),'"Web Maker" is',' ',Object(pe.h)('a',{target:'_blank',rel:'noopener noreferrer',href:'https://github.com/chinchang/web-maker'},'open-source'),' ','under the',' ',Object(pe.h)('a',{href:'https://opensource.org/licenses/MIT',target:'_blank',rel:'noopener noreferrer'},'MIT License'),'.'),Er=Object(pe.h)('div',{class:'tac'},Object(pe.h)('svg',{width:'130px',height:'50px',"aria-hidden":'true'},Object(pe.h)('use',{xlinkHref:'#logo'})),Object(pe.h)('h1',{style:'margin-top:20px'},'Welcome to Web Maker')),Tr=Object(pe.h)('div',{class:'flex--desk',style:'margin-top:40px;'},Object(pe.h)('div',{class:'onboard-step show-when-app hide-on-mobile'},Object(pe.h)('div',{class:'tac'},Object(pe.h)('svg',{class:'onboard-step__icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z'}))),Object(pe.h)('p',null,'Open Web Maker anytime by visiting ',Object(pe.h)('a',null,'https://webmaker.app/app/'),' ','- Even when you are offline! It just works! \uD83D\uDE31',' ',Object(pe.h)('strong',null,'Drag the following bookmarklet'),' on your bookmark bar to create a quick access shortcut:',Object(pe.h)('a',{class:'ml-1 bookmarklet',href:'https://webmaker.app/app/'},Object(pe.h)('svg',{width:'20',height:'20',"aria-hidden":'true'},Object(pe.h)('use',{xlinkHref:'#logo'})),'Web Maker'))),Object(pe.h)('div',{class:'onboard-step show-when-extension'},Object(pe.h)('div',{class:'tac'},Object(pe.h)('svg',{class:'onboard-step__icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z'}))),Object(pe.h)('p',null,'Open Web Maker anytime by clicking the',Object(pe.h)('svg',{class:'relative',style:'top:5px;',width:'40',height:'30'},Object(pe.h)('use',{xlinkHref:'#logo'})),' ','button in top-right side of your browser.')),Object(pe.h)('div',{class:'onboard-step'},Object(pe.h)('div',{class:'tac'},Object(pe.h)('svg',{class:'onboard-step__icon',viewBox:'0 0 24 24'},Object(pe.h)('use',{xlinkHref:'#settings-icon'}))),Object(pe.h)('p',null,'Configure and customize settings by clicking the gear icon (',Object(pe.h)('svg',{style:'width:18px;height:18px;position:relative;top:3px;fill:#888',viewBox:'0 0 24 24'},Object(pe.h)('use',{xlinkHref:'#settings-icon'})),') in bottom right of the app.')),Object(pe.h)('div',{class:'onboard-step'},Object(pe.h)('div',{class:'tac'},Object(pe.h)('svg',{class:'onboard-step__icon',style:'stroke-width:0.3px;'},Object(pe.h)('use',{xlinkHref:'#twitter-icon'}))),Object(pe.h)('p',null,'Follow',' ',Object(pe.h)('a',{href:'https://twitter.com/intent/follow?screen_name=webmakerApp',targe:'_blank',rel:'noopener noreferrer'},'@webmakerApp'),' ','to know about the new upcoming features!'))),Or=Object(pe.h)('p',{class:'tac show-when-app'},'If you are an existing Chrome extension user, you can import your creations from there to here.',' ',Object(pe.h)('a',{href:'https://medium.com/web-maker/importing-exporting-your-creations-d92e7de5c3dc',target:'_blank',rel:'noopener noreferrer'},'Learn how to export/import'),'.'),Fr=Object(pe.h)('div',{class:'tac'},Object(pe.h)('div',{className:'flex flex-v-center flex-h-center '},Object(pe.h)('img',{src:'/icon-128.png',alt:'Web Maker logo',height:'100',style:'margin:0 0.5rem;'}),Object(pe.h)('h2',null,'Web Maker'),Object(pe.h)('span',{style:'font-size:3rem;margin:0 1rem;'},'+'),Object(pe.h)('h2',null,'JS13K Games'),Object(pe.h)('img',{src:'assets/js13kgames-square-logo.png',alt:'JS13K Games logo',height:'100',style:'margin:0 0.5rem;'}))),Vr=Object(pe.h)('div',null,Object(pe.h)('p',null,Object(pe.h)('strong',null,'Js13kGames'),' is a JavaScript coding competition for',' ',Object(pe.h)('strong',null,'HTML5 Game Developers'),'. The fun part of the compo is the file size limit set to ',Object(pe.h)('strong',null,'13 kilobytes'),'. The competition will start at ',Object(pe.h)('strong',null,'13:00 CEST, 13th August'),' and will end at ',Object(pe.h)('strong',null,'13:00 CEST, 13th September 2018'),'.'),Object(pe.h)('p',null,'You have activated Web Maker\'s Js13kGames mode! This gives you some extra support to build your awesome game right here. Constantly see your game\'s zipped size in the footer. When you are done, download the zip.',' ',Object(pe.h)('a',{href:'https://medium.com/web-maker/js13kgames-jam-with-web-maker-a3389cf2cbb',target:'_blank',rel:'noopener'},'Read more about this collaboration'),'.'),Object(pe.h)('ul',null,Object(pe.h)('li',null,Object(pe.h)('a',{href:'https://gamedevelopment.tutsplus.com/articles/how-to-minify-your-html5-game-for-the-js13kgames-competition--cms-21883',target:'_blank',rel:'noopener noreferrer'},'Read Tuts+ Gamedev intro article')),Object(pe.h)('li',null,Object(pe.h)('a',{href:'http://js13kgames.github.io/resources/',target:'_blank',rel:'noopener'},'Resources and useful tools')),Object(pe.h)('li',null,Object(pe.h)('a',{href:'http://2018.js13kgames.com/#rules',target:'_blank',rel:'noopener'},'Compo rules'))),Object(pe.h)('p',null,'Have fun building games!')),Pr=[{id:'react',title:'React',img:'assets/react-logo.svg'},{id:'vue',title:'Vue',img:'assets/vue-logo.svg',isFileModeSupported:!0},{id:'preact',title:'Preact',img:'assets/preact-logo.svg'},{id:'kontra-game-engine',title:'Kontra Game Engine',img:'assets/html5-logo.svg',isFileModeSupported:!0}],Dr=Object(pe.h)('g',{id:'Page-1',stroke:'none',"stroke-width":'1',fill:'none',"fill-rule":'evenodd'},Object(pe.h)('g',{id:'codepane',fill:'#C5C5C5'},Object(pe.h)('rect',{id:'Rectangle',x:'0',y:'0',width:'89',height:'80',rx:'5'})),Object(pe.h)('g',{id:'codepane',transform:'translate(99.000000, 0.000000)',fill:'#C5C5C5'},Object(pe.h)('rect',{id:'Rectangle',x:'0',y:'0',width:'89',height:'80',rx:'5'})),Object(pe.h)('g',{id:'codepane',transform:'translate(198.000000, 0.000000)',fill:'#C5C5C5'},Object(pe.h)('rect',{id:'Rectangle',x:'0',y:'0',width:'89',height:'80',rx:'5'})),Object(pe.h)('g',{id:'codepane',transform:'translate(0.000000, 88.000000)',fill:'#C5C5C5'},Object(pe.h)('rect',{id:'Rectangle',x:'0',y:'0',width:'287',height:'109',rx:'5'}))),Nr=Object(pe.h)('p',{class:'mb-0'},'3 separate panes to write HTML, CSS and JavaScript. Good for quickly testing something.'),Rr=Object(pe.h)('g',{id:'Page-1',stroke:'none',"stroke-width":'1',fill:'none',"fill-rule":'evenodd'},Object(pe.h)('path',{d:'M5,0 L49,0 C51.7614237,-5.07265313e-16 54,2.23857625 54,5 L54,191 C54,193.761424 51.7614237,196 49,196 L5,196 C2.23857625,196 1.62803173e-14,193.761424 0,191 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z M7.59574468,29 C5.93889043,29 4.59574468,30.3431458 4.59574468,32 C4.59574468,33.6568542 5.93889043,35 7.59574468,35 L39.5106383,35 C41.1674925,35 42.5106383,33.6568542 42.5106383,32 C42.5106383,30.3431458 41.1674925,29 39.5106383,29 L7.59574468,29 Z M7.59574468,71 C5.93889043,71 4.59574468,72.3431458 4.59574468,74 C4.59574468,75.6568542 5.93889043,77 7.59574468,77 L24.5744681,77 C26.2313223,77 27.5744681,75.6568542 27.5744681,74 C27.5744681,72.3431458 26.2313223,71 24.5744681,71 L7.59574468,71 Z M14.4893617,84 C12.8325075,84 11.4893617,85.3431458 11.4893617,87 C11.4893617,88.6568542 12.8325075,90 14.4893617,90 L32.6170213,90 C34.2738755,90 35.6170213,88.6568542 35.6170213,87 C35.6170213,85.3431458 34.2738755,84 32.6170213,84 L14.4893617,84 Z M7.59574468,15 C5.93889043,15 4.59574468,16.3431458 4.59574468,18 C4.59574468,19.6568542 5.93889043,21 7.59574468,21 L32.6170213,21 C34.2738755,21 35.6170213,19.6568542 35.6170213,18 C35.6170213,16.3431458 34.2738755,15 32.6170213,15 L7.59574468,15 Z M13.3404255,42 C11.6835713,42 10.3404255,43.3431458 10.3404255,45 C10.3404255,46.6568542 11.6835713,48 13.3404255,48 L44.106383,48 C45.7632372,48 47.106383,46.6568542 47.106383,45 C47.106383,43.3431458 45.7632372,42 44.106383,42 L13.3404255,42 Z M14.4893617,57 C12.8325075,57 11.4893617,58.3431458 11.4893617,60 C11.4893617,61.6568542 12.8325075,63 14.4893617,63 L45.2553191,63 C46.9121734,63 48.2553191,61.6568542 48.2553191,60 C48.2553191,58.3431458 46.9121734,57 45.2553191,57 L14.4893617,57 Z',id:'Combined-Shape',fill:'#C5C5C5'}),Object(pe.h)('g',{id:'codepane',transform:'translate(64.000000, 0.000000)',fill:'#C5C5C5'},Object(pe.h)('rect',{id:'Rectangle',x:'0',y:'0',width:'106',height:'196',rx:'5'})),Object(pe.h)('g',{id:'codepane',transform:'translate(180.000000, 0.000000)',fill:'#C5C5C5'},Object(pe.h)('rect',{id:'Rectangle',x:'0',y:'0',width:'106',height:'196',rx:'5'}))),Wr=Object(pe.h)('p',{class:'mb-0'},'Manage your code in files. Just like you would have files on your local machine. ',Object(pe.h)(function(){return xe},null)),zr=Object(pe.h)('h1',{class:'mt-0'},'Create New'),Ur=Object(pe.h)('div',{class:'show-when-extension'},'Files modes is currently only available in Web app.',' ',Object(pe.h)('a',{href:'https://webmaker.app/app/'},'Try the Web app now'),'.');let Kr=class extends pe.Component{constructor(e){super(e),this.modeChangeHandler=this.modeChangeHandler.bind(this)}modeChangeHandler(e){this.setState({isFileModeSelected:!!e}),A('ui','newCreationModeChange',e?'files':'3panes')}render(){const{show:e,closeHandler:t,onBlankTemplateSelect:n,onBlankFileTemplateSelect:o,onImportGithubRepoSelect:i,onTemplateSelect:s}=this.props,a=Object(pe.h)('div',{style:'flex:1;',class:'tac'},Object(pe.h)('svg',{width:'25%',viewBox:'0 0 287 197',version:'1.1',xmlns:'http://www.w3.org/2000/svg',style:`opacity:${this.state.isFileModeSelected?'0.4':'1'}`,"aria-hidden":'true'},Dr),Nr),r=Object(pe.h)('div',{style:'flex:1',class:'tac ml-2'},Object(pe.h)('svg',{width:'25%',viewBox:'0 0 286 196',version:'1.1',style:`opacity:${this.state.isFileModeSelected?'1':'0.4'}`,xmlns:'http://www.w3.org/2000/svg',"aria-hidden":'true'},Rr),Wr);return Object(pe.h)(mn,{show:e,closeHandler:t},zr,Object(pe.h)(la,{horizontal:!0,onChange:this.modeChangeHandler},Object(pe.h)(Y,{label:a},Object(pe.h)('div',{class:'d-f fxw-w'},Object(pe.h)('button',{type:'button',class:'btn btn--primary',style:'margin:20px 10px',onClick:()=>{A('ui','startBlankBtnClick'),n()}},'Start Blank'),Pr.map((e)=>Object(pe.h)(W,{inline:!0,item:e,focusable:!0,onClick:s.bind(null,e,!1)})))),Object(pe.h)(Y,{label:r},Object(pe.h)('div',{class:'d-f fxw-w show-when-app'},Object(pe.h)('button',{type:'button',class:'btn btn--primary',style:'margin:20px 10px',onClick:()=>{A('ui','startBlankFileBtnClick'),o()}},'Start Blank in File Mode'),Pr.map((e)=>{if(e.isFileModeSupported)return Object(pe.h)(W,{inline:!0,item:e,focusable:!0,onClick:s.bind(null,e,!0)})})),Ur)))}};var Jr=Object(pe.h)('symbol',{id:'logo',viewBox:'-145 -2 372 175'},Object(pe.h)('g',{stroke:'none',strokeWidth:1,fill:'none',fillRule:'evenodd',transform:'translate(-145.000000, -1.000000)'},Object(pe.h)('polygon',{id:'Path-1',fill:'#FF4600',points:'31 0 232 0 132 173.310547'}),Object(pe.h)('polygon',{id:'Path-1',fill:'#FF6C00',points:'0 0 201 0 101 173.310547'}),Object(pe.h)('polygon',{id:'Path-1',fill:'#FF6C00',transform:'translate(271.500000, 86.500000) scale(1, -1) translate(-271.500000, -86.500000) ',points:'171 0 372 0 272 173.310547'}),Object(pe.h)('polygon',{id:'Path-1',fill:'#FF4600',transform:'translate(241.500000, 86.500000) scale(1, -1) translate(-241.500000, -86.500000) ',points:'141 0 342 0 242 173.310547'}))),Gr=Object(pe.h)('symbol',{id:'bug-icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M14,12H10V10H14M14,16H10V14H14M20,8H17.19C16.74,7.22 16.12,6.55 15.37,6.04L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.5,5 12,5C11.5,5 11.04,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6.04C7.88,6.55 7.26,7.22 6.81,8H4V10H6.09C6.04,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.04,15.67 6.09,16H4V18H6.81C7.85,19.79 9.78,21 12,21C14.22,21 16.15,19.79 17.19,18H20V16H17.91C17.96,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.96,10.33 17.91,10H20V8Z'})),qr=Object(pe.h)('symbol',{id:'google-icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z'})),Zr=Object(pe.h)('symbol',{id:'fb-icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M17,2V2H17V6H15C14.31,6 14,6.81 14,7.5V10H14L17,10V14H14V22H10V14H7V10H10V6A4,4 0 0,1 14,2H17Z'})),Yr=Object(pe.h)('symbol',{id:'github-icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z'})),Xr=Object(pe.h)('symbol',{id:'settings-icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z'})),Qr=Object(pe.h)('symbol',{id:'twitter-icon',viewBox:'0 0 16 16'},Object(pe.h)('path',{d:'M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809 c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z'})),$r=Object(pe.h)('symbol',{id:'heart-icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z'})),el=Object(pe.h)('symbol',{id:'play-icon',viewBox:'0 0 24 24'},Object(pe.h)('svg',null,Object(pe.h)('path',{d:'M8,5.14V19.14L19,12.14L8,5.14Z'}))),tl=Object(pe.h)('symbol',{id:'cancel-icon',viewBox:'0 0 24 24'},Object(pe.h)('svg',null,Object(pe.h)('path',{d:'M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z'}))),nl=Object(pe.h)('symbol',{id:'chevron-icon',viewBox:'0 0 24 24'},Object(pe.h)('svg',null,Object(pe.h)('path',{d:'M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z'}))),ol=Object(pe.h)('symbol',{id:'chat-icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M20,2H4A2,2 0 0,0 2,4V22L6,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M8,14H6V12H8V14M8,11H6V9H8V11M8,8H6V6H8V8M15,14H10V12H15V14M18,11H10V9H18V11M18,8H10V6H18V8Z'})),il=Object(pe.h)('path',{d:'M22,12V20A2,2 0 0,1 20,22H4A2,2 0 0,1 2,20V12A1,1 0 0,1 1,11V8A2,2 0 0,1 3,6H6.17C6.06,5.69 6,5.35 6,5A3,3 0 0,1 9,2C10,2 10.88,2.5 11.43,3.24V3.23L12,4L12.57,3.23V3.24C13.12,2.5 14,2 15,2A3,3 0 0,1 18,5C18,5.35 17.94,5.69 17.83,6H21A2,2 0 0,1 23,8V11A1,1 0 0,1 22,12M4,20H11V12H4V20M20,20V12H13V20H20M9,4A1,1 0 0,0 8,5A1,1 0 0,0 9,6A1,1 0 0,0 10,5A1,1 0 0,0 9,4M15,4A1,1 0 0,0 14,5A1,1 0 0,0 15,6A1,1 0 0,0 16,5A1,1 0 0,0 15,4M3,8V10H11V8H3M13,8V10H21V8H13Z'}),sl=Object(pe.h)('symbol',{id:'gift-icon',viewBox:'0 0 24 24'}),al=Object(pe.h)('symbol',{id:'cross-icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z'})),rl=Object(pe.h)('symbol',{id:'keyboard-icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M19,10H17V8H19M19,13H17V11H19M16,10H14V8H16M16,13H14V11H16M16,17H8V15H16M7,10H5V8H7M7,13H5V11H7M8,11H10V13H8M8,8H10V10H8M11,11H13V13H11M11,8H13V10H11M20,5H4C2.89,5 2,5.89 2,7V17A2,2 0 0,0 4,19H20A2,2 0 0,0 22,17V7C22,5.89 21.1,5 20,5Z'})),ll=Object(pe.h)('symbol',{id:'mode-icon',viewBox:'0 0 100 100'},Object(pe.h)('g',null,Object(pe.h)('rect',{x:0,y:0,width:28,height:47}),Object(pe.h)('rect',{x:36,y:0,width:28,height:47}),Object(pe.h)('rect',{x:72,y:0,width:28,height:47}),Object(pe.h)('rect',{x:0,y:53,width:100,height:47}))),dl=Object(pe.h)('symbol',{id:'vertical-mode-icon',viewBox:'0 0 100 100'},Object(pe.h)('g',null,Object(pe.h)('rect',{x:0,y:0,width:20,height:100}),Object(pe.h)('rect',{x:23,y:0,width:20,height:100}),Object(pe.h)('rect',{x:46,y:0,width:20,height:100}),Object(pe.h)('rect',{x:69,y:0,width:32,height:100}))),cl=Object(pe.h)('symbol',{id:'code-brace-icon',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z'})),hl=Object(pe.h)('symbol',{id:'search',viewBox:'0 0 24 24'},Object(pe.h)('path',{d:'M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z'})),pl=Object(pe.h)('g',{fill:'none',fillRule:'evenodd',strokeWidth:10},Object(pe.h)('circle',{cx:22,cy:22,r:1},Object(pe.h)('animate',{attributeName:'r',begin:'0s',dur:'1.8s',values:'1; 20',calcMode:'spline',keyTimes:'0; 1',keySplines:'0.165, 0.84, 0.44, 1',repeatCount:'indefinite'}),Object(pe.h)('animate',{attributeName:'stroke-opacity',begin:'0s',dur:'1.8s',values:'1; 0',calcMode:'spline',keyTimes:'0; 1',keySplines:'0.3, 0.61, 0.355, 1',repeatCount:'indefinite'})),Object(pe.h)('circle',{cx:22,cy:22,r:1},Object(pe.h)('animate',{attributeName:'r',begin:'-0.9s',dur:'1.8s',values:'1; 20',calcMode:'spline',keyTimes:'0; 1',keySplines:'0.165, 0.84, 0.44, 1',repeatCount:'indefinite'}),Object(pe.h)('animate',{attributeName:'stroke-opacity',begin:'-0.9s',dur:'1.8s',values:'1; 0',calcMode:'spline',keyTimes:'0; 1',keySplines:'0.3, 0.61, 0.355, 1',repeatCount:'indefinite'}))),ul=n('1miM'),ml=n.n(ul);var fl=Object(pe.h)('p',null,'Nothing to search here.');let gl=class extends pe.Component{constructor(...e){var t;return t=super(...e),this.state={list:[],search:'',selectedIndex:0},t}componentDidUpdate(e){this.props.show&&!e.show&&(this.state.search='',this.isCommandMode=this.props.isCommandMode,this.isCommandMode&&this.setState({search:'>'}),this.setState({list:this.getFilteredList()}))}getFilteredList(e=''){const t=this.isCommandMode?vo:this.props.files;return t.filter((t)=>-1!==t.name.toLowerCase().indexOf(this.isCommandMode?e.substr(1):e))}keyDownHandler(t){const e={[38]:-1,[40]:1}[t.which];return e?void this.setState({selectedIndex:(this.state.selectedIndex+e)%this.state.list.length}):void(t.which===13&&this.state.list.length&&this.selectOption(this.state.list[this.state.selectedIndex]))}inputHandler(t){const e=t.target.value;this.setState({search:e}),this.isCommandMode=0===e.indexOf('>'),this.setState({list:this.getFilteredList(e),selectedIndex:0})}optionClickHandler(e){this.selectOption(e)}selectOption(e){Co.publish(e.path?po:e.event,e),this.props.closeHandler()}render(){return Object(pe.h)(mn,{show:this.props.show,closeHandler:this.props.closeHandler,noOverlay:!0,hideCloseButton:!0,extraClasses:'modal--command-palette'},Object(pe.h)(E,{type:'search',placeholder:'Search',value:this.state.search,onInput:this.inputHandler.bind(this),onKeyUp:this.keyDownHandler.bind(this),style:'width:100%'}),this.props.files.length||this.state.list.length?null:fl,Object(pe.h)('ul',{class:'command-palette__option-list'},this.state.list.map((e,t)=>Object(pe.h)(he,{isSelected:this.state.selectedIndex===t,item:e,onClick:this.optionClickHandler.bind(this,e)}))))}};var bl=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e};const vl={LOGIN_AND_SAVE_MESSAGE_SEEN:'loginAndsaveMessageSeen',ASKED_TO_IMPORT_CREATIONS:'askedToImportCreations'},Cl=15,yl='4.0.3';if(window.forcedSettings={},location.search){let e=location.search.replace(/^\?/,'').match(/settings=([^=]*)/);e&&(e=e[1],e.split(',').map((e)=>{e=e.split(':'),'true'===e[1]?e[1]=!0:'false'===e[1]&&(e[1]=!1),window.forcedSettings[e[0]]=e[1]}))}var wl=Object(pe.h)(wr,null),Sl=Object(pe.h)(Hi,null),kl=Object(pe.h)(function(){return Object(pe.h)('svg',{version:'1.1',xmlns:'http://www.w3.org/2000/svg',style:{display:'none'}},Jr,Gr,qr,Zr,Yr,Xr,Qr,$r,el,tl,nl,ol,Object(pe.h)('symbol',{id:'gift-icon',viewBox:'0 0 24 24'},il,sl,al,rl,ll,dl,cl,hl,Object(pe.h)('symbol',{id:'loader-icon',viewBox:'0 0 44 44'},pl)))},null),Ml=Object(pe.h)('form',{style:'display:none;',action:'https://codepen.io/pen/define',method:'POST',target:'_blank',id:'codepenForm'},Object(pe.h)('input',{type:'hidden',name:'data',value:'{"title": "New Pen!", "html": "<div>Hello, World!</div>"}'}));let xl=class extends pe.Component{constructor(){super(),this.AUTO_SAVE_INTERVAL=15000,this.modalDefaultStates={isModalOpen:!1,isAddLibraryModalOpen:!1,isSettingsModalOpen:!1,isHelpModalOpen:!1,isNotificationsModalOpen:!1,isLoginModalOpen:!1,isProfileModalOpen:!1,isSupportDeveloperModalOpen:!1,isKeyboardShortcutsModalOpen:!1,isAskToImportModalOpen:!1,isOnboardModalOpen:!1,isJs13KModalOpen:!1,isCreateNewModalOpen:!1,isCommandPaletteOpen:!1},this.state=bl({isSavedItemPaneOpen:!1},this.modalDefaultStates,{prefs:{},currentItem:{title:'',externalLibs:{js:'',css:''}},catalogs:{}}),this.defaultSettings={preserveLastCode:!0,replaceNewTab:!1,htmlMode:'html',jsMode:'js',cssMode:'css',isCodeBlastOn:!1,indentWith:'spaces',indentSize:2,editorTheme:'monokai',keymap:'sublime',fontSize:16,refreshOnResize:!1,autoPreview:!0,editorFont:'FiraCode',editorCustomFont:'',autoSave:!0,autoComplete:!0,preserveConsoleLogs:!0,lightVersion:!1,lineWrap:!0,infiniteLoopTimeout:1e3,layoutMode:2,isJs13kModeOn:!1,autoCloseTags:!0,lang:'en',isMonacoEditorOn:!1,previewDelay:500},this.prefs={},Xo.a.auth().onAuthStateChanged((e)=>{this.setState({isLoginModalOpen:!1}),e?(v('You are -> ',e),ei.add('You are now logged in!'),this.setState({user:e}),window.user=e,!window.localStorage[vl.ASKED_TO_IMPORT_CREATIONS]&&this.fetchItems(!1,!0).then((e)=>{e.length&&(this.oldSavedItems=e,this.oldSavedCreationsCount=e.length,this.setState({isAskToImportModalOpen:!0}),A('ui','askToImportModalSeen'))}),window.db.getUser(e.uid).then((t)=>{if(t){const t=bl({},this.state.prefs);bl(t,e.settings),this.setState({prefs:t}),this.updateSetting()}})):(this.setState({user:void 0}),delete window.user),this.updateProfileUi()})}componentWillMount(){var e;window.onunload=()=>{this.detachedWindow&&this.detachedWindow.close()},window.onbeforeunload=(e)=>{this.state.unsavedEditCount&&(e.preventDefault(),e.returnValue='')},db.local.get({layoutMode:1,code:''},(t)=>{this.toggleLayout(t.layoutMode),this.state.prefs.layoutMode=t.layoutMode,t.code&&(e=t.code)}),db.getSettings(this.defaultSettings).then((t)=>{t.preserveLastCode&&e?(this.setState({unsavedEditCount:0}),v('Load last unsaved item',e),this.setCurrentItem(e).then(()=>this.refreshEditor())):this.createNewItem(),bl(this.state.prefs,t),this.setState({prefs:bl({},this.state.prefs)}),this.updateSetting()}),db.getUserLastSeenVersion().then((e)=>{e||(this.setState({isOnboardModalOpen:!0}),-1===document.cookie.indexOf('onboarded')&&(A('ui','onboardModalSeen',yl),document.cookie='onboarded=1'),window.db.setUserLastSeenVersion(yl)),e&&-1===g(e,yl)&&!window.localStorage.pledgeModalSeen&&(this.openSupportDeveloperModal(),window.localStorage.pledgeModalSeen=!0),e&&-1!==g(e,yl)||(this.setState({hasUnseenChangelog:!0}),this.hasSeenNotifications=!1)})}async loadLanguage(e){v('\uD83C\uDDEF\uD83C\uDDF2 fetching defninition');const t=await n('IChQ')(`./${e}/messages.js`);this.setState((n)=>({catalogs:bl({},n.catalogs,{[e]:t.default})}))}incrementUnsavedChanges(){this.setState({unsavedEditCount:this.state.unsavedEditCount+1}),0==this.state.unsavedEditCount%Cl&&this.state.unsavedEditCount>=Cl&&(window.saveBtn.classList.add('animated'),window.saveBtn.classList.add('wobble'),window.saveBtn.addEventListener('animationend',()=>{window.saveBtn.classList.remove('animated'),window.saveBtn.classList.remove('wobble')}))}updateProfileUi(){this.state.user?document.body.classList.add('is-logged-in'):document.body.classList.remove('is-logged-in')}refreshEditor(){this.toggleLayout(this.state.currentItem.layoutMode||this.state.prefs.layoutMode),this.updateExternalLibCount(),this.contentWrap.refreshEditor()}askForUnsavedChanges(){return confirm('You have unsaved changes in your current work. Do you want to discard unsaved changes and continue?')}forkItem(e){if(this.state.unsavedEditCount){var t=this.askForUnsavedChanges();if(!t)return}const n=JSON.parse(JSON.stringify(e));delete n.id,n.title='(Forked) '+e.title,n.updatedOn=Date.now(),this.setCurrentItem(n).then(()=>this.refreshEditor()),ei.add(`"${e.title}" was forked`),A('fn','itemForked')}createNewItem(e=!1,t){const n=new Date;let o={title:'Untitled '+n.getDate()+'-'+(n.getMonth()+1)+'-'+n.getHours()+':'+n.getMinutes(),createdOn:+n,content:''};o=e?bl({},o,{files:c(t||[{name:'index.html',content:`<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Webmaker untitled 1</title>
    <link rel="stylesheet" href="styles/style.css" />
  </head>
  <body>
    Hello World
    <script src="script.js"></script>
  </body>
</html>`},{name:'styles',isFolder:!0,children:[{name:'style.css',content:''}]},{name:'script.js',content:''}])}):bl({},o,{html:'',css:'',js:'',externalLibs:{js:'',css:''},layoutMode:this.state.currentLayoutMode}),this.setCurrentItem(o).then(()=>this.refreshEditor()),ei.add('New item created')}openItem(e){this.setCurrentItem(e).then(()=>this.refreshEditor()),ei.add('Saved item loaded')}removeItem(e){var t=confirm(`Are you sure you want to delete "${e.title}"?`);t&&(Qo.unsetItemForUser(e.id),Qo.removeItem(e.id).then(()=>{ei.add('Item removed.',e),this.state.currentItem.id===e.id&&this.createNewItem()}),delete this.state.savedItems[e.id],this.setState({savedItems:bl({},this.state.savedItems)}),A('fn','itemRemoved'))}setCurrentItem(e){const t=o();return e.files||(e.htmlMode=e.htmlMode||this.state.prefs.htmlMode||fe.HTML,e.cssMode=e.cssMode||this.state.prefs.cssMode||ge.CSS,e.jsMode=e.jsMode||this.state.prefs.jsMode||be.JS),this.setState({currentItem:e},()=>{t.resolve(),setTimeout(()=>{this.saveCode('code')},2e3)}),this.isAutoSavingEnabled=!1,this.setState({unsavedEditCount:0}),t.promise}saveBtnClickHandler(){A('ui','saveBtnClick',this.state.currentItem.id?'saved':'new'),this.saveItem()}populateItemsInSavedPane(){this.setState({savedItems:bl({},this.state.savedItems)}),this.toggleSavedItemsPane()}toggleSavedItemsPane(e){this.setState({isSavedItemPaneOpen:void 0===e?!this.state.isSavedItemPaneOpen:e}),document.body.classList[this.state.isSavedItemPaneOpen?'add':'remove']('overlay-visible')}async fetchItems(e,t){this.state.savedItems={};var n=[];return n=await Qo.getAllItems(t),A('fn','fetchItems',n.length),e&&n.forEach((e)=>{this.state.savedItems[e.id]=e}),n}openSavedItemsPane(){this.setState({isFetchingItems:!0}),this.fetchItems(!0).then((e)=>{this.setState({isFetchingItems:!1}),this.populateItemsInSavedPane(e)})}openAddLibrary(){this.setState({isAddLibraryModalOpen:!0})}closeSavedItemsPane(){this.setState({isSavedItemPaneOpen:!1}),document.body.classList.remove('overlay-visible'),this.editorWithFocus&&this.editorWithFocus.focus()}openSettings(){this.setState({isSettingsModalOpen:!0})}openKeyboardShortcuts(){this.setState({isKeyboardShortcutsModalOpen:!0})}componentDidMount(){function e(){document.body.style.height=`${window.innerHeight}px`}window.addEventListener('resize',()=>{e()}),window.addEventListener('keydown',(e)=>{if((e.ctrlKey||e.metaKey)&&83===e.keyCode&&(e.preventDefault(),this.saveItem(),A('ui','saveItemKeyboardShortcut')),(e.ctrlKey||e.metaKey)&&e.shiftKey&&53===e.keyCode)e.preventDefault(),this.contentWrap.setPreviewContent(!0,!0),A('ui','previewKeyboardShortcut');else if((e.ctrlKey||e.metaKey)&&79===e.keyCode)e.preventDefault(),this.openSavedItemsPane(),A('ui','openCreationKeyboardShortcut');else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&191===e.keyCode)e.preventDefault(),this.setState({isKeyboardShortcutsModalOpen:!this.state.isKeyboardShortcutsModalOpen}),A('ui','showKeyboardShortcutsShortcut');else if(27===e.keyCode&&('INPUT'!==e.target.tagName||'searchInput'===e.target.id))this.closeSavedItemsPane();else if((e.ctrlKey||e.metaKey)&&80===e.keyCode){if(e.shiftKey&&navigator.userAgent.match(/Firefox/))return!0;this.setState({isCommandPaletteOpen:!0,isCommandPaletteInCommandMode:!!e.shiftKey}),A('ui','openCommandPaletteKeyboardShortcut',e.shiftKey?'command':'files'),e.preventDefault()}else'F1'===e.key&&navigator.userAgent.match(/Firefox/)&&(this.setState({isCommandPaletteOpen:!0,isCommandPaletteInCommandMode:!0}),A('ui','openCommandPaletteKeyboardShortcut','command'),e.preventDefault())}),window.addEventListener('focusin',(t)=>{if(document.body.classList.contains('overlay-visible')){const e=$('.is-modal-visible');if(!e)return;e.contains(t.target)||(t.preventDefault(),e.querySelector('.js-modal__close-btn').focus())}});const t={[uo]:()=>{this.openNewCreationModal()},[mo]:()=>{this.openSavedItemsPane()},[fo]:()=>{this.saveItem()},[go]:()=>{this.openSettings()},[bo]:()=>{this.openKeyboardShortcuts()}};for(let e in t)Co.subscribe(e,t[e])}shouldComponentUpdate(e,t){const{catalogs:n}=t,{lang:o}=t.prefs;return o&&'en'!==o&&!n[o]&&this.loadLanguage(o),!0}closeAllOverlays(){this.state.isSavedItemPaneOpen&&this.closeSavedItemsPane(),this.setState(bl({},this.modalDefaultStates))}onExternalLibChange(e){v('onExternalLibChange'),this.state.currentItem.externalLibs={js:e.js,css:e.css},this.updateExternalLibCount(),this.setState({currentItem:bl({},this.state.currentItem)}),this.contentWrap.setPreviewContent(!0),ei.add('Libraries updated.')}updateExternalLibCount(){var e=0;this.state.currentItem.externalLibs&&(e+=this.state.currentItem.externalLibs.js.split('\n').filter((e)=>!!e).length,e+=this.state.currentItem.externalLibs.css.split('\n').filter((e)=>!!e).length,this.setState({externalLibCount:e}))}toggleLayout(e){return e=600>window.innerWidth?2:e,this.state.currentLayoutMode===e?(this.contentWrap.resetSplitting(),void this.setState({currentLayoutMode:e})):void([1,2,3,4,5].forEach((e)=>{window[`layoutBtn${e}`].classList.remove('selected'),document.body.classList.remove(`layout-${e}`)}),$('#layoutBtn'+e).classList.add('selected'),document.body.classList.add('layout-'+e),this.setState({currentLayoutMode:e},()=>{this.contentWrap.resetSplitting(),this.contentWrap.setPreviewContent(!0)}))}layoutBtnClickHandler(e){this.saveSetting('layoutMode',e),A('ui','toggleLayoutClick',e),this.toggleLayout(e)}getCodePaneSizes(){var e;const t=this.state.currentLayoutMode;var n=2===t||5===t?'width':'height';try{e=[htmlCodeEl.style[n],cssCodeEl.style[n],jsCodeEl.style[n]]}catch(t){e=[33.33,33.33,33.33]}finally{return e}}getMainPaneSizes(){function e(e,t='width'){const n=e.style[t].match(/[\d.]+(%|px)/);return n?n[0]:null}let t;if(this.state.currentItem&&this.state.currentItem.files){const n=200;return t=[e($('#js-sidebar')),e($('#js-code-side')),e($('#js-demo-side'))],3!==t.filter((e)=>e).length&&(t=[`${n}px`,`calc(50% - ${n/2}px)`,`calc(50% - ${n/2}px)`]),t}const n=this.state.currentLayoutMode;var o=2===n?'height':'width';return t=[e($('#js-code-side'),o),e($('#js-demo-side'),o)],2!==t.filter((e)=>e).length&&(t=[50,50]),t}saveSetting(e,t){const n=o();return db.local.set({[e]:t},n.resolve),n.promise}saveCode(e){const{currentItem:t}=this.state;return t.updatedOn=Date.now(),t.layoutMode=this.state.currentLayoutMode,t.mainSizes=this.getMainPaneSizes(),t.files||(t.sizes=this.getCodePaneSizes()),v('saving key',e||t.id,t),Qo.setItem(e||t.id,t).then(function(){'code'===e||(window.user&&!navigator.onLine?ei.add('Item saved locally. Will save to account when you are online.'):ei.add('Item saved.'),this.setState({unsavedEditCount:0}))}.bind(this))}saveItem(){if(!window.user&&!window.localStorage[vl.LOGIN_AND_SAVE_MESSAGE_SEEN]){const e=confirm('Saving without signing in will save your work only on this machine and this browser. If you want it to be secure & available anywhere, please login in your account and then save.\n\nDo you still want to continue saving locally?');if(window.localStorage[vl.LOGIN_AND_SAVE_MESSAGE_SEEN]=!0,!e)return A('ui',vl.LOGIN_AND_SAVE_MESSAGE_SEEN,'login'),this.closeAllOverlays(),void this.setState({isLoginModalOpen:!0});A('ui',vl.LOGIN_AND_SAVE_MESSAGE_SEEN,'local')}var e=!this.state.currentItem.id;this.state.currentItem.id=this.state.currentItem.id||'item-'+b(),this.setState({isSaving:!0}),this.saveCode().then(()=>{this.setState({isSaving:!1}),!this.isAutoSavingEnabled&&this.state.prefs.autoSave&&(this.isAutoSavingEnabled=!0,ei.add('Auto-save enabled.'))}),e&&Qo.setItemForUser(this.state.currentItem.id)}onCodeModeChange(e,t){const n=bl({},this.state.currentItem);n[`${e}Mode`]=t,this.setState({currentItem:n})}onCodeChange(e,t,n){this.state.currentItem.files?l(this.state.currentItem.files).map((n)=>{n.path===e.path&&(n.content=t)}):this.state.currentItem[e]=t,n&&this.incrementUnsavedChanges(),this.state.prefs.isJs13kModeOn&&(this.codeSizeCalculationTimeout&&clearTimeout(this.codeSizeCalculationTimeout),this.codeSizeCalculationTimeout=setTimeout(()=>{this.calculateCodeSize(),this.codeSizeCalculationTimeout=null},1e3))}onCodeSettingsChange(e,t){this.state.currentItem[`${e}Settings`]={acssConfig:t}}titleInputBlurHandler(t){this.state.currentItem.title=t.target.value,this.state.currentItem.id&&(this.saveItem(),A('ui','titleChanged'))}updateSetting(e,t){if(e){var n={};v(e,t);const o=bl({},this.state.prefs);o[e]=t,n[e]=o[e],this.setState({prefs:o}),db.sync.set(n,function(){ei.add('Setting saved')}),window.user&&window.db.getDb().then((t)=>{t.collection('users').doc(window.user.uid).update({[`settings.${e}`]:this.state.prefs[e]}).then((t)=>{v(`Setting "${e}" for user`,t)}).catch((e)=>v(e))}),A('ui','updatePref-'+e,o[e])}const o=this.state.prefs;let i=void 0===window.forcedSettings.autoPreview?o.autoPreview:window.forcedSettings;runBtn.classList[i?'add':'remove']('hide'),this.contentWrap.applyCodemirrorSettings(this.state.prefs),o.autoSave?!this.autoSaveInterval&&(this.autoSaveInterval=setInterval(()=>{this.autoSaveLoop()},this.AUTO_SAVE_INTERVAL)):(clearInterval(this.autoSaveInterval),this.autoSaveInterval=null),document.body.classList[o.lightVersion?'add':'remove']('light-version')}autoSaveLoop(){this.isAutoSavingEnabled&&this.state.unsavedEditCount&&this.saveItem()}loginBtnClickHandler(){this.setState({isLoginModalOpen:!0})}profileBtnClickHandler(){this.setState({isProfileModalOpen:!0})}logout(){if(this.state.unsavedEditCount){var e=confirm('You have unsaved changes. Do you still want to logout?');if(!e)return}A('fn','loggedOut'),yi.logout(),this.setState({isProfileModalOpen:!1}),ei.add('Log out successfull')}itemClickHandler(e){setTimeout(()=>{this.openItem(e)},350),this.toggleSavedItemsPane()}itemRemoveBtnClickHandler(e){this.removeItem(e)}itemForkBtnClickHandler(e){this.toggleSavedItemsPane(),setTimeout(()=>{this.forkItem(e)},350)}openNewCreationModal(){if(this.state.unsavedEditCount){var e=confirm('You have unsaved changes. Do you still want to create something new?');e&&this.setState({isCreateNewModalOpen:!0})}else this.setState({isCreateNewModalOpen:!0})}newBtnClickHandler(){A('ui','newBtnClick'),this.openNewCreationModal()}openBtnClickHandler(){A('ui','openBtnClick'),this.openSavedItemsPane()}detachedPreviewBtnHandler(){A('ui','detachPreviewBtnClick'),this.contentWrap.detachPreview()}notificationsBtnClickHandler(){return this.setState({isNotificationsModalOpen:!0}),this.state.isNotificationsModalOpen&&!this.hasSeenNotifications&&(this.hasSeenNotifications=!0,this.setState({hasUnseenChangelog:!1}),window.db.setUserLastSeenVersion(yl)),A('ui','notificationButtonClick',yl),!1}codepenBtnClickHandler(t){if(this.state.currentItem.cssMode===ge.ACSS)return alert('Oops! CodePen doesn\'t supports Atomic CSS currently. \nHere is something you can still do -> https://medium.com/web-maker/sharing-your-atomic-css-work-on-codepen-a402001b26ab'),void t.preventDefault();var e={title:'A Web Maker experiment',html:this.state.currentItem.html,css:this.state.currentItem.css,js:this.state.currentItem.js,html_pre_processor:ve[this.state.currentItem.htmlMode].codepenVal,css_pre_processor:ve[this.state.currentItem.cssMode].codepenVal,js_pre_processor:ve[this.state.currentItem.jsMode].codepenVal,css_external:this.state.currentItem.externalLibs.css.split('\n').join(';'),js_external:this.state.currentItem.externalLibs.js.split('\n').join(';')};this.state.currentItem.title.match(/Untitled\s\d\d*-\d/)||(e.title=this.state.currentItem.title),e=JSON.stringify(e),window.codepenForm.querySelector('input').value=e,window.codepenForm.submit(),A('ui','openInCodepen'),t.preventDefault()}saveHtmlBtnClickHandler(t){H(this.state.currentItem),A('ui','saveHtmlClick'),t.preventDefault()}runBtnClickHandler(){this.contentWrap.setPreviewContent(!0,!0),A('ui','runBtnClick')}exportItems(){L().then(()=>{this.fetchItems().then((e)=>{var t=new Date,n=['web-maker-export',t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()].join('-');n+='.json';var o=new Blob([JSON.stringify(e,!1,2)],{type:'application/json;charset=UTF-8'});w(n,o),A('fn','exportItems')})})}exportBtnClickHandler(t){this.exportItems(),t.preventDefault(),A('ui','exportBtnClicked')}screenshotBtnClickHandler(t){this.contentWrap.getDemoFrame((e)=>{se(e.getBoundingClientRect())}),t.preventDefault()}openSupportDeveloperModal(){this.closeAllOverlays(),this.setState({isSupportDeveloperModalOpen:!0})}supportDeveloperBtnClickHandler(t){this.openSupportDeveloperModal(t)}dontAskToImportAnymore(t){this.setState({isAskToImportModalOpen:!1}),window.localStorage[vl.ASKED_TO_IMPORT_CREATIONS]=!0,t&&A('ui','dontAskToImportBtnClick')}mergeImportedItems(e){var t=[],n={};const i=o(),{savedItems:s}=this.state;e.forEach((e)=>{s[e.id]?t.push(e.id):(v('merging',e.id),n[e.id]=e)});var a=e.length-t.length;if(t.length){var r=confirm(t.length+' creations already exist. Do you want to replace them?');r&&(v('shouldreplace',r),e.forEach((e)=>{n[e.id]=e}),a=e.length)}return a?Qo.saveItems(n).then(()=>{i.resolve(),ei.add(a+' creations imported successfully.'),A('fn','itemsImported',a)}):i.resolve(),this.closeSavedItemsPane(),i.promise}importCreationsAndSettingsIntoApp(){this.mergeImportedItems(this.oldSavedItems).then(()=>{A('fn','oldItemsImported'),this.dontAskToImportAnymore()})}editorFocusHandler(e){this.editorWithFocus=e}modalOverlayClickHandler(){this.closeAllOverlays()}splitUpdateHandler(){this.state.currentItem.sizes=this.getCodePaneSizes(),this.state.currentItem.mainSizes=this.getMainPaneSizes()}calculateTextSize(e){if(!e)return 0;var t=/(\r?\n|\r)/g,n=/(\r?\n|\r|\s+)/g;return{count:function(e,o){o=o||{},o.lineBreaks=o.lineBreaks||1,o.ignoreWhitespace=o.ignoreWhitespace||!1;var i=e.length,s=i-e.replace(/[\u0100-\uFFFF]/g,'').length,a=i-e.replace(t,'').length;return o.ignoreWhitespace?(e=e.replace(n,''),e.length+s):i+s+Math.max(0,o.lineBreaks*(a-1))},format:function(e,t){for(var n=0;1024<e;)e/=1024,n++;return e=Math.round(100*e)/100,n=['','K','M','G','T'][n],(t?e:'<strong>'+e+'</strong>')+' '+n+'B'}}.count(e)}getExternalLibCode(){const e=this.state.currentItem;var t=e.externalLibs&&e.externalLibs.js||'';return t+='\n'+e.externalLibs&&e.externalLibs.css||'',t=t.split('\n').filter((e)=>e),t.map((e)=>fetch(e).then((e)=>e.text()).then((t)=>({code:t,fileName:_(e)})))}calculateCodeSize(){const e=this.state.currentItem;var t=i(e.html,e.htmlMode),n=s(e.css,e.cssMode),o=a(e.js,e.jsMode,!1);Promise.all([t,n,o,...this.getExternalLibCode()]).then((t)=>{var n=t[0].code||'',o=t[1].code||'',i=t[2].code||'',s=x(n,o,i,e,!0);s=s.replace(/<script src="(.*\/)([^/<]*?)"/g,'<script src="$2"');var a=new ml.a;a.file('index.html',s);for(let e=3;e<t.length;e++){const n=t[e];a.file(n.fileName,n.code)}var r=null;r=a.generateAsync({type:'base64',compression:'DEFLATE',compressionOptions:{level:9}}),r.then((e)=>{const t=this.calculateTextSize(atob(e));this.setState({codeSize:t}),this.currentItemZipBase64Data=e})})}js13KHelpBtnClickHandler(){this.setState({isJs13KModalOpen:!0})}js13KDownloadBtnClickHandler(){const e=document.createElement('a');e.setAttribute('download',this.state.currentItem.title),e.href='data:application/zip;base64,'+this.currentItemZipBase64Data,document.body.appendChild(e),e.click(),e.remove()}blankTemplateSelectHandler(){this.createNewItem(),this.setState({isCreateNewModalOpen:!1})}blankFileTemplateSelectHandler(){Qo.getCountOfFileModeItems().then((e)=>2>e?void(this.createNewItem(!0),this.setState({isCreateNewModalOpen:!1})):(A('ui','FileModeCreationLimitMessageSeen'),alert('"Files mode" is currently in beta and is limited to only 2 creations per user. You have already made 2 creations in Files mode.\n\nNote: You can choose to delete old ones to create new.')))}templateSelectHandler(e,t){t?Qo.getCountOfFileModeItems().then((n)=>2>n?void(fetch(`templates/template-${t?'files-':''}${e.id}.json`).then((e)=>e.json()).then((e)=>{this.forkItem(e)}),this.setState({isCreateNewModalOpen:!1})):(A('ui','FileModeCreationLimitMessageSeen'),alert('"Files mode" is currently in beta and is limited to only 2 creations per user. You have already made 2 creations in Files mode.\n\nNote: You can choose to delete old ones to create new.'))):(fetch(`templates/template-${t?'files-':''}${e.id}.json`).then((e)=>e.json()).then((e)=>{this.forkItem(e)}),this.setState({isCreateNewModalOpen:!1}))}importGithubRepoSelectHandler(e){f(e).then((e)=>{this.createNewItem(!0,e),this.setState({isCreateNewModalOpen:!1})})}addFileHandler(e,t){let n={name:e,content:''};t&&(n=bl({},n,{isFolder:!0,children:[],isCollapsed:!0}));let o=bl({},this.state.currentItem,{files:[...this.state.currentItem.files,n]});c(o.files),this.setState({currentItem:o}),this.incrementUnsavedChanges()}removeFileHandler(e){const t=bl({},this.state.currentItem,{files:[...this.state.currentItem.files]});p(t.files,e),this.setState({currentItem:t}),this.incrementUnsavedChanges()}renameFileHandler(e,t){const n=bl({},this.state.currentItem,{files:[...this.state.currentItem.files]}),{file:o}=h(n.files,e);o.name=t,c(n.files),this.setState({currentItem:n}),this.incrementUnsavedChanges()}fileDropHandler(e,t){let{currentItem:n}=this.state;const{file:o}=h(n.files,e);return u(t,o.name)?void alert(`File with name "${o.name}" already exists in the destination folder.`):void(o&&(t.children.push(o),p(n.files,e),n=bl({},n,{files:[...n.files]}),c(n.files),this.setState({currentItem:n}),this.incrementUnsavedChanges()))}folderSelectHandler(e){e.isCollapsed=!e.isCollapsed;const t=bl({},this.state.currentItem,{files:[...this.state.currentItem.files]});this.setState({currentItem:t})}getRootClasses(){const e=[];return this.state.currentItem&&this.state.currentItem.files&&e.push('is-file-mode'),e.join(' ')}prettifyHandler(e){if('string'==typeof e)return void I({content:this.state.currentItem[e],type:{html:'html',js:'js',css:'css'}[e]}).then((t)=>{this.state.currentItem[e]===t||(this.state.currentItem[e]=t,this.setState({currentItem:bl({},this.state.currentItem)},()=>{this.contentWrap.refreshEditor()}),this.incrementUnsavedChanges())});const t=e,n=bl({},this.state.currentItem,{files:[...this.state.currentItem.files]});I({file:t}).then((e)=>{e!==t.content&&(t.content=e,this.incrementUnsavedChanges(),this.setState({currentItem:n}))})}render(e,{catalogs:t={},prefs:n={}}){return Object(pe.h)(He.I18nProvider,{language:this.state.prefs.lang,catalogs:t},Object(pe.h)('div',{class:this.getRootClasses()},Object(pe.h)('div',{class:'main-container'},Object(pe.h)(O,{externalLibCount:this.state.externalLibCount,openBtnHandler:this.openBtnClickHandler.bind(this),newBtnHandler:this.newBtnClickHandler.bind(this),saveBtnHandler:this.saveBtnClickHandler.bind(this),loginBtnHandler:this.loginBtnClickHandler.bind(this),profileBtnHandler:this.profileBtnClickHandler.bind(this),addLibraryBtnHandler:this.openAddLibrary.bind(this),runBtnClickHandler:this.runBtnClickHandler.bind(this),isFetchingItems:this.state.isFetchingItems,isSaving:this.state.isSaving,title:this.state.currentItem.title,titleInputBlurHandler:this.titleInputBlurHandler.bind(this),user:this.state.user,unsavedEditCount:this.state.unsavedEditCount,isFileMode:this.state.currentItem&&this.state.currentItem.files}),this.state.currentItem&&this.state.currentItem.files?Object(pe.h)(Mo,{currentItem:this.state.currentItem,onCodeChange:this.onCodeChange.bind(this),onCodeSettingsChange:this.onCodeSettingsChange.bind(this),onCodeModeChange:this.onCodeModeChange.bind(this),onRef:(e)=>this.contentWrap=e,prefs:this.state.prefs,onEditorFocus:this.editorFocusHandler.bind(this),onSplitUpdate:this.splitUpdateHandler.bind(this),onAddFile:this.addFileHandler.bind(this),onRemoveFile:this.removeFileHandler.bind(this),onRenameFile:this.renameFileHandler.bind(this),onFileDrop:this.fileDropHandler.bind(this),onFolderSelect:this.folderSelectHandler.bind(this),onPrettifyBtnClick:this.prettifyHandler.bind(this)}):Object(pe.h)(Wn,{currentLayoutMode:this.state.currentLayoutMode,currentItem:this.state.currentItem,onCodeChange:this.onCodeChange.bind(this),onCodeSettingsChange:this.onCodeSettingsChange.bind(this),onCodeModeChange:this.onCodeModeChange.bind(this),onRef:(e)=>this.contentWrap=e,prefs:this.state.prefs,onEditorFocus:this.editorFocusHandler.bind(this),onSplitUpdate:this.splitUpdateHandler.bind(this),onPrettifyBtnClick:this.prettifyHandler.bind(this)}),Object(pe.h)(Go,{prefs:this.state.prefs,layoutBtnClickHandler:this.layoutBtnClickHandler.bind(this),helpBtnClickHandler:()=>this.setState({isHelpModalOpen:!0}),settingsBtnClickHandler:this.openSettings.bind(this),notificationsBtnClickHandler:this.notificationsBtnClickHandler.bind(this),supportDeveloperBtnClickHandler:this.supportDeveloperBtnClickHandler.bind(this),detachedPreviewBtnHandler:this.detachedPreviewBtnHandler.bind(this),codepenBtnClickHandler:this.codepenBtnClickHandler.bind(this),saveHtmlBtnClickHandler:this.saveHtmlBtnClickHandler.bind(this),keyboardShortcutsBtnClickHandler:this.openKeyboardShortcuts.bind(this),screenshotBtnClickHandler:this.screenshotBtnClickHandler.bind(this),onJs13KHelpBtnClick:this.js13KHelpBtnClickHandler.bind(this),onJs13KDownloadBtnClick:this.js13KDownloadBtnClickHandler.bind(this),hasUnseenChangelog:this.state.hasUnseenChangelog,codeSize:this.state.codeSize})),Object(pe.h)(si,{items:this.state.savedItems,isOpen:this.state.isSavedItemPaneOpen,closeHandler:this.closeSavedItemsPane.bind(this),itemClickHandler:this.itemClickHandler.bind(this),itemRemoveBtnClickHandler:this.itemRemoveBtnClickHandler.bind(this),itemForkBtnClickHandler:this.itemForkBtnClickHandler.bind(this),exportBtnClickHandler:this.exportBtnClickHandler.bind(this),mergeImportedItems:this.mergeImportedItems.bind(this)}),wl,Object(pe.h)(mn,{show:this.state.isAddLibraryModalOpen,closeHandler:()=>this.setState({isAddLibraryModalOpen:!1})},Object(pe.h)(Ci,{js:this.state.currentItem.externalLibs?this.state.currentItem.externalLibs.js:'',css:this.state.currentItem.externalLibs?this.state.currentItem.externalLibs.css:'',onChange:this.onExternalLibChange.bind(this)})),Object(pe.h)(mn,{show:this.state.isNotificationsModalOpen,closeHandler:()=>this.setState({isNotificationsModalOpen:!1})},Object(pe.h)(G,{onSupportBtnClick:this.openSupportDeveloperModal.bind(this)})),Object(pe.h)(mn,{extraClasses:'modal--settings',show:this.state.isSettingsModalOpen,closeHandler:()=>this.setState({isSettingsModalOpen:!1})},Object(pe.h)(rr,{prefs:this.state.prefs,onChange:this.updateSetting.bind(this)})),Object(pe.h)(mn,{extraClasses:'login-modal',show:this.state.isLoginModalOpen,closeHandler:()=>this.setState({isLoginModalOpen:!1})},Sl),Object(pe.h)(mn,{show:this.state.isProfileModalOpen,closeHandler:()=>this.setState({isProfileModalOpen:!1})},Object(pe.h)(te,{user:this.state.user,logoutBtnHandler:this.logout.bind(this)})),Object(pe.h)(re,{show:this.state.isHelpModalOpen,closeHandler:()=>this.setState({isHelpModalOpen:!1}),onSupportBtnClick:this.openSupportDeveloperModal.bind(this),version:yl}),Object(pe.h)(ne,{show:this.state.isSupportDeveloperModalOpen,closeHandler:()=>this.setState({isSupportDeveloperModalOpen:!1})}),Object(pe.h)(oe,{show:this.state.isKeyboardShortcutsModalOpen,closeHandler:()=>this.setState({isKeyboardShortcutsModalOpen:!1})}),Object(pe.h)(ae,{show:this.state.isAskToImportModalOpen,closeHandler:()=>this.setState({isAskToImportModalOpen:!1}),oldSavedCreationsCount:this.oldSavedCreationsCount,importBtnClickHandler:this.importCreationsAndSettingsIntoApp.bind(this),dontAskBtnClickHandler:this.dontAskToImportAnymore.bind(this)}),Object(pe.h)(le,{show:this.state.isOnboardModalOpen,closeHandler:()=>this.setState({isOnboardModalOpen:!1})}),Object(pe.h)(de,{show:this.state.isJs13KModalOpen,closeHandler:()=>this.setState({isJs13KModalOpen:!1})}),Object(pe.h)(Kr,{show:this.state.isCreateNewModalOpen,closeHandler:()=>this.setState({isCreateNewModalOpen:!1}),onBlankTemplateSelect:this.blankTemplateSelectHandler.bind(this),onBlankFileTemplateSelect:this.blankFileTemplateSelectHandler.bind(this),onTemplateSelect:this.templateSelectHandler.bind(this),onImportGithubRepoSelect:this.importGithubRepoSelectHandler.bind(this)}),Object(pe.h)(gl,{show:this.state.isCommandPaletteOpen,closeHandler:()=>this.setState({isCommandPaletteOpen:!1}),files:l(this.state.currentItem.files||[]),isCommandMode:this.state.isCommandPaletteInCommandMode,closeHandler:()=>this.setState({isCommandPaletteOpen:!1})}),Object(pe.h)(un.a,{into:'body'},Object(pe.h)('div',{class:'modal-overlay',onClick:this.modalOverlayClickHandler.bind(this)})),kl,Ml))}};t['default']=xl}},['pwNi']);
/*! For license information please see lg-hash.js.LICENSE.txt */
!function(root,factory){"function"==typeof define&&define.amd?define(["jquery"],(function(a0){return factory(a0)})):"object"==typeof exports?module.exports=factory(require("jquery")):factory(jQuery)}(0,(function($){!function(){"use strict";var defaults={hash:!0},Hash=function(element){return this.core=$(element).data("lightGallery"),this.core.s=$.extend({},defaults,this.core.s),this.core.s.hash&&(this.oldHash=window.location.hash,this.init()),this};Hash.prototype.init=function(){var _hash,_this=this;_this.core.$el.on("onAfterSlide.lg.tm",(function(event,prevIndex,index){history.replaceState?history.replaceState(null,null,window.location.pathname+window.location.search+"#lg="+_this.core.s.galleryId+"&slide="+index):window.location.hash="lg="+_this.core.s.galleryId+"&slide="+index})),$(window).on("hashchange.lg.hash",(function(){_hash=window.location.hash;var _idx=parseInt(_hash.split("&slide=")[1],10);_hash.indexOf("lg="+_this.core.s.galleryId)>-1?_this.core.slide(_idx,!1,!1):_this.core.lGalleryOn&&_this.core.destroy()}))},Hash.prototype.destroy=function(){this.core.s.hash&&(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0?history.replaceState?history.replaceState(null,null,this.oldHash):window.location.hash=this.oldHash:history.replaceState?history.replaceState(null,document.title,window.location.pathname+window.location.search):window.location.hash="",this.core.$el.off(".lg.hash"))},$.fn.lightGallery.modules.hash=Hash}()}));